// ==UserScript==
// @name           小说下载器
// @name:en        novel-downloader
// @name:ja        小説ダウンローダー
// @description    一个可扩展的通用型小说下载器。
// @description:en An scalable universal novel downloader.
// @description:ja スケーラブルなユニバーサル小説ダウンローダー。
// @version        5.2.1209
// @author         bgme
// @supportURL     https://github.com/404-novel-project/novel-downloader
// @exclude        *://www.jjwxc.net/onebook.php?novelid=*&chapterid=*
// @exclude        *://m.yuzhaige.cc/tag/*/
// @exclude        *://m.yuzhaige.cc/sort/*/
// @exclude        *://m.yuzhaige.cc/top/*/
// @exclude        *://m.yuzhaige.cc/full/*/
// @exclude        *://m.yuzhaige.cc/book/*/
// @exclude        *://m.haitangtxt.net/tag/*/
// @exclude        *://m.haitangtxt.net/sort/*/
// @exclude        *://m.haitangtxt.net/top/*/
// @exclude        *://m.haitangtxt.net/full/*/
// @exclude        *://m.haitangtxt.net/book/*/
// @exclude        *://www.linovel.net/book/*/*.html
// @exclude        *://www.qimao.com/shuku/*-*/
// @exclude        *://www.trxs.cc/tongren/*/*.html
// @exclude        *://www.trxs.me/tongren/*/*.html
// @exclude        *://www.trxs123.com/tongren/*/*.html
// @exclude        *://www.jpxs123.com/*/*/*.html
// @exclude        *://www.tongrenquan.org/tongren/*/*.html
// @exclude        *://www.tongrenquan.me/tongren/*/*.html
// @exclude        *://trxs.cc/tongren/*/*.html
// @exclude        *://trxs.me/tongren/*/*.html
// @exclude        *://trxs123.com/tongren/*/*.html
// @exclude        *://jpxs123.com/*/*/*.html
// @exclude        *://tongrenquan.org/tongren/*/*.html
// @exclude        *://tongrenquan.me/tongren/*/*.html
// @exclude        *://www.i25zw.com/lastupdate/
// @exclude        *://www.i25zw.com/postdate/
// @exclude        *://www.i25zw.com/monthvisit/
// @exclude        *://www.i25zw.com/goodnum/
// @exclude        *://www.i25zw.com/goodnew/
// @exclude        *://dijiuben.com/*_*/*.html
// @exclude        *://ncode.syosetu.com/*/*/
// @exclude        *://novel18.syosetu.com/*/*/
// @exclude        *://houhuayuan.vip/
// @exclude        *://book.sfacg.com/Novel/*/*/*/
// @exclude        *://www.alphapolis.co.jp/novel/*/*/episode/*
// @exclude        *://novelup.plus/story/*/*
// @exclude        *://www.linovelib.com/novel/*/*.html
// @exclude        *://www.bilinovel.com/novel/*/*.html
// @exclude        *://www.qbtr.cc/*/*/*.html
// @exclude        *://www.ciyuanji.com/chapter/*
// @exclude        *://www.po18.tw/books/*/articles*
// @exclude        *://b.faloo.com/d_*.html
// @exclude        *://www.xbanxia.cc/books/*/*.html
// @exclude        *://www.xbanxia.la/books/*/*.html
// @exclude        *://www.zhenhunxiaoshuo.com/chunai/
// @exclude        *://www.zhenhunxiaoshuo.com/chunai2/
// @exclude        *://www.zhenhunxiaoshuo.com/chunai3/
// @exclude        *://www.zhenhunxiaoshuo.com/chunai4/
// @exclude        *://www.zhenhunxiaoshuo.com/chunai5/
// @exclude        *://www.zhenhunxiaoshuo.com/yanqing/
// @exclude        *://www.zhenhunxiaoshuo.com/yanqing2/
// @exclude        *://www.zhenhunxiaoshuo.com/baihexiaoshuo/
// @exclude        *://xszj.org/b/*/c/*
// @exclude        *://xszj.org/b/*/cs/*
// @exclude        *://m.xszj.org/b/*/c/*
// @exclude        *://m.xszj.org/b/*/cs/*
// @exclude        *://m.bixiange.me/*/*/*.html
// @exclude        *://www.fxshu.top/*/*_*.html
// @exclude        *://www.xiguashuwu.com/book/*/*.html
// @exclude        *://www.xiguashuwu.com/book/*/catalog/
// @exclude        *://www.rmkbr.com/*/*/*.html
// @exclude        *://www.fdhxs.com/*/*/*.html
// @exclude        *://www.dbxsd.com/book/*.html
// @exclude        *://wxsck.com/book/*.html
// @exclude        *://www.wxsck.com/book/*.html
// @exclude        *://wxscs.com/book/*.html
// @exclude        *://www.wxscs.com/book/*.html
// @exclude        *://www.beqege.cc/*/*.html
// @exclude        *://m.mjyhb.com/*/*.html
// @exclude        *://m.fly-dreams.com/*/*.html
// @exclude        *://www.23dishuge.com/*/*/*.html
// @exclude        *://twkan.com/book/*/index.html
// @exclude        *://www.69hsw.com/*/*.html
// @exclude        *://www.69hao.com/*/*.html
// @exclude        *://www.69hsz.net/*/*.html
// @exclude        *://m.shauthor.com/*/*.html
// @exclude        *://m.chenkuan.com/*/*.html
// @match          *://101kanshu.com/book/*.html
// @match          *://www.sudugu.com/*
// @match          *://www.po18.tw/books/*
// @match          *://b.faloo.com/*
// @match          *://api.langge.cf/online_detail?*
// @match          *://www.ihuaben.com/book/*
// @match          *://www.kadokado.com.tw/book/*
// @match          *://www.uaa.com/novel/intro?id=*
// @match          *://www.lzdzw.com/*/*.html
// @match          *://novelpia.jp/novel/*
// @match          *://www.99csw.com/book/*/index.htm
// @match          *://www.60ksw.com/*/*/*/index.html
// @match          *://czbooks.net/n/*
// @match          *://book.qq.com/book-detail/*
// @match          *://fanqienovel.com/page/*
// @match          *://book.sfacg.com/Novel/*/MainIndex/
// @match          *://book.sfacg.com/Novel/*/
// @match          *://m.sfacg.com/b/*/
// @match          *://www.lightnovel.fun/cn/series/*
// @match          *://www.lightnovel.fun/cn/detail/*
// @match          *://lcread.com/bookpage/*/index.html
// @match          *://www.lcread.com/bookpage/*/index.html
// @match          *://book.qidian.com/info/*
// @match          *://www.qidian.com/book/*
// @match          *://www.jjwxc.net/onebook.php?novelid=*
// @match          *://m.jjwxc.com/book2/*
// @match          *://m.jjwxc.net/book2/*
// @match          *://www.gongzicp.com/novel-*.html
// @match          *://gongzicp.com/novel-*.html
// @match          *://m.gongzicp.com/novel-*.html
// @match          *://book.zongheng.com/showchapter/*.html
// @match          *://book.zongheng.com/book/*.html
// @match          *://www.zongheng.com/detail/*
// @match          *://read.zongheng.com/chapter/*/*.html
// @match          *://huayu.zongheng.com/showchapter/*.html
// @match          *://huayu.zongheng.com/book/*.html
// @match          *://www.linovel.net/book/*.html
// @match          *://www.17k.com/list/*.html
// @match          *://www.17k.com/book/*.html
// @match          *://www.shuhai.com/book/*.htm
// @match          *://mm.shuhai.com/book/*.htm
// @match          *://www.tadu.com/book/*
// @match          *://www.qimao.com/shuku/*/
// @match          *://sosad.fun/threads/*/profile*
// @match          *://wenzhan.org/threads/*/profile*
// @match          *://sosadfun.com/threads/*/profile*
// @match          *://xn--pxtr7m5ny.com/threads/*/profile*
// @match          *://xn--pxtr7m.com/threads/*/profile*
// @match          *://xn--pxtr7m5ny.net/threads/*/profile*
// @match          *://xn--pxtr7m.net/threads/*/profile*
// @match          *://sosadfun.link/threads/*/profile*
// @match          *://www.sosad.fun/threads/*/profile*
// @match          *://www.wenzhan.org/threads/*/profile*
// @match          *://www.sosadfun.com/threads/*/profile*
// @match          *://www.xn--pxtr7m5ny.com/threads/*/profile*
// @match          *://www.xn--pxtr7m.com/threads/*/profile*
// @match          *://www.xn--pxtr7m5ny.net/threads/*/profile*
// @match          *://www.xn--pxtr7m.net/threads/*/profile*
// @match          *://www.sosadfun.link/threads/*/profile*
// @match          *://www.uukanshu.com/b/*/
// @match          *://www.yiruan.la/article/*.html
// @match          *://www.ishuquge.org/txt/*/index.html
// @match          *://wap.ishuquge.org/s/*.html
// @match          *://wap.ishuquge.org/d/*.html
// @match          *://www.xkzw.org/xkzw*/
// @match          *://www.lewenn.net/lw*/
// @match          *://www.266ks.com/book/*/
// @match          *://www.266ks.com/book/*/index*.html
// @match          *://www.23xsww.cc/book/*/*
// @match          *://www.hetushu.com/book/*/index.html
// @match          *://www.hetubook.com/book/*/index.html
// @match          *://hetushu.com/book/*/index.html
// @match          *://hetubook.com/book/*/index.html
// @match          *://www.gashuw.com/biquge_*/
// @match          *://www.1pwx.com/*.htm
// @match          *://www.81book.com/book/*/
// @match          *://www.81zw.com/book/*/
// @match          *://www.wanben.info/*/
// @match          *://m.wanben.info/*/
// @match          *://www.idejian.com/book/*/
// @match          *://www.wenku8.net/novel/*/*/index.htm
// @match          *://www.wenku8.net/book/*.htm
// @match          *://www.westnovel.com/*/*/
// @match          *://www.666biquge.com/*/
// @match          *://www.mht99.com/*/
// @match          *://www.xiunews.com/*/
// @match          *://www.banzhuer.org/*_*/
// @match          *://www.xbiquge.tw/book/*/
// @match          *://www.xsbiquge.la/book/*/
// @match          *://www.bqu9.cc/book/*/
// @match          *://www.bq06.cc/html/*/
// @match          *://www.biququ.com/html/*/
// @match          *://www.ddyucshu.cc/*/
// @match          *://www.ddyveshu.cc/*/
// @match          *://www.007zw.com/shuzhai/*/
// @match          *://www.shaoniandream.com/book_detail/*
// @match          *://www.linovelib.com/novel/*/catalog
// @match          *://www.linovelib.com/novel/*.html
// @match          *://www.bilinovel.com/novel/*.html
// @match          *://www.bilinovel.com/novel/*/catalog
// @match          *://www.luoqiuzw.com/book/*/
// @match          *://www.yibige.cc/*/
// @match          *://www.fushuwang.org/*/*/*/*.html
// @match          *://www.fushuwang.org/*/*/*/*.html?*
// @match          *://www.fushuwang.org/*/*/*.html
// @match          *://www.fushuwang.org/*/*/*.html?*
// @match          *://www.soxscc.net/*/
// @match          *://www.soxscc.org/*/
// @match          *://www.soxs.cc/*/
// @match          *://www.soxscc.cc/*/
// @match          *://www.soshuwu.com/*/
// @match          *://www.soxscc.net/book/*.html
// @match          *://www.soxscc.org/book/*.html
// @match          *://www.soxs.cc/book/*.html
// @match          *://www.soxscc.cc/book/*.html
// @match          *://www.soshuwu.com/book/*.html
// @match          *://www.shubaowa.org/*_*/
// @match          *://www.fuguoduxs.com/*_*/
// @match          *://www.630shu.net/shu/*.html
// @match          *://www.trxs.cc/tongren/*.html
// @match          *://www.trxs.me/tongren/*.html
// @match          *://www.trxs123.com/tongren/*.html
// @match          *://www.jpxs123.com/*/*.html
// @match          *://www.tongrenquan.org/tongren/*.html
// @match          *://www.tongrenquan.me/tongren/*.html
// @match          *://trxs.cc/tongren/*.html
// @match          *://trxs.me/tongren/*.html
// @match          *://trxs123.com/tongren/*.html
// @match          *://jpxs123.com/*/*.html
// @match          *://tongrenquan.org/tongren/*.html
// @match          *://tongrenquan.me/tongren/*.html
// @match          *://www.256wenku.com/read/*/index.html
// @match          *://www.256wenku.com/read/*/
// @match          *://www.biquge66.com/biquge*/
// @match          *://*.lofter.com/
// @match          *://*.lofter.com/?page=*
// @match          *://www.shubl.com/book/book_detail/*
// @match          *://shubl.com/book/book_detail/*
// @match          *://m.haitangtxt.net/*/*/
// @match          *://ebook.longmabook.com/*
// @match          *://www.haitangbook.com/*
// @match          *://www.longmabookcn.com/*
// @match          *://ebook.lmbooks.com/*
// @match          *://www.lmebooks.com/*
// @match          *://www.haitbook.com/*
// @match          *://www.htwhbook.com/*
// @match          *://www.myhtebook.com/*
// @match          *://www.lovehtbooks.com/*
// @match          *://www.myhtebooks.com/*
// @match          *://www.myhtlmebook.com/*
// @match          *://jp.myhtebook.com/*
// @match          *://jp.myhtlmebook.com/*
// @match          *://ebook.urhtbooks.com/*
// @match          *://www.urhtbooks.com/*
// @match          *://www.newhtbook.com/*
// @match          *://www.lvhtebook.com/*
// @match          *://jp.lvhtebook.com/*
// @match          *://www.htlvbooks.com/*
// @match          *://dijiuben.com/*_*
// @match          *://www.biquzw.la/*_*/
// @match          *://www.i25zw.com/*/
// @match          *://www.tycqzw.com/*_*/
// @match          *://www.kanunu8.com/*
// @match          *://www.ciyuanji.com/*
// @match          *://ciyuanji.com/*
// @match          *://m.wanbengo.com/*/
// @match          *://www.wanbengo.com/*/
// @match          *://www.ranwen.la/files/article/*/*/
// @match          *://www.wangshugu.org/books/*/*/
// @match          *://m.baihexs.com/info-*/
// @match          *://www.quanshuzhai.com/book/*.html
// @match          *://masiro.me/admin/novelView?novel_id=*
// @match          *://www.pixiv.net/novel/show.php?*
// @match          *://www.pixiv.net/novel/series/*
// @match          *://kakuyomu.jp/works/*
// @match          *://ncode.syosetu.com/*/
// @match          *://ncode.syosetu.com/*
// @match          *://novel18.syosetu.com/*/
// @match          *://novel18.syosetu.com/*
// @match          *://syosetu.org/novel/*/
// @match          *://houhuayuan.vip/*
// @match          *://zhaoze.vip/*/
// @match          *://www.myrics.com/novels/*
// @match          *://m.lvsewx.com/ebook/*.html
// @match          *://www.lvsewx.com/ebook/*.html
// @match          *://www.shencou.com/books/read_*.html
// @match          *://www.tianyabooks.com/*/*/
// @match          *://www.aixiaxs.net/*/*/
// @match          *://jingcaiyuedu6.com/novel/*.html
// @match          *://www.hanwujinian.com/book/*
// @match          *://www.aixdzs.com/novel/*
// @match          *://www.cool18.com/bbs4/index.php?*
// @match          *://www.biquge5200.cc/*_*/
// @match          *://www.yqxsge.cc/html/*/*/index.html
// @match          *://www.18kanshu.com/*/*/info.html
// @match          *://www.18kanshu.com/module/novel/info.php?*
// @match          *://www.bixia3.com/txt/*/
// @match          *://www.xiaoshuowu.com/html/*/*/
// @match          *://www.xrzww.com/bookdetail/*
// @match          *://xrzww.com/bookdetail/*
// @match          *://www.youdubook.com/bookdetail/*
// @match          *://youdubook.com/bookdetail/*
// @match          *://colorful-fantasybooks.com/module/novel/info.php?*
// @match          *://www.dizishu.cc/*/*/
// @match          *://www.ibiquge.la/*/*/
// @match          *://www.akatsuki-novels.com/stories/index/novel_id~*
// @match          *://www.alphapolis.co.jp/novel/*/*
// @match          *://novelup.plus/story/*
// @match          *://twkan.com/book/*.html
// @match          *://69shuba.cx/book/*.htm
// @match          *://www.69shuba.com/book/*.htm
// @match          *://book.xbookcn.net/search/label/*
// @match          *://new-read.readmoo.com/mooreader/*
// @match          *://www.iqingguo.com/book/detail/?id=*
// @match          *://www.ywggzy.com/bxwx/*/
// @match          *://www.piaotia.com/html/*
// @match          *://www.mbtxt.la/go/*/
// @match          *://m.kuangguwenhua.com/bqg/*/
// @match          *://m.kuangguwenhua.com/bqg/11365/index_*.html
// @match          *://www.xyb3.net/5200/*/
// @match          *://hongxiuzhao.net/*.html
// @match          *://www.mijiashe.com/*/
// @match          *://www.cddaoyue.cn/book/*
// @match          *://cddaoyue.cn/book/*
// @match          *://www.ttkan.co/novel/chapters/*
// @match          *://cn.ttkan.co/novel/chapters/*
// @match          *://tw.ttkan.co/novel/chapters/*
// @match          *://www.xbyuan.com/*/
// @match          *://www.ruochu.com/book/*
// @match          *://www.quanzhifashi.com/novel/*/
// @match          *://www.42zw.la/book/*/
// @match          *://www.boqugew.com/shu/*/
// @match          *://www.doufuyuedu.com/novel-*
// @match          *://www.qbtr.cc/*/*.html
// @match          *://www.penana.com/story/*/*/
// @match          *://b.guidaye.com/*/*/
// @match          *://www.esjzone.one/detail/*
// @match          *://esjzone.one/detail/*
// @match          *://www.esjzone.cc/detail/*
// @match          *://www.fxshu.top/*/*.html
// @match          *://xr.unionread.net/bookdetail/*
// @match          *://www.qu-la.com/booktxt/*/
// @match          *://www.bilibili.com/read/readlist/*
// @match          *://www.69yuedu.net/article/*.html
// @match          *://www.haiwaishubao.com/book/*/
// @match          *://www.xbanxia.cc/books/*.html
// @match          *://www.xbanxia.la/books/*.html
// @match          *://www.zgzl.net/info_*/
// @match          *://www.zhenhunxiaoshuo.com/*/
// @match          *://www.biquge.tw/book/*.html
// @match          *://xszj.org/b/*
// @match          *://m.xszj.org/b/*
// @match          *://www.52shuku.vip/*/*.html
// @match          *://mangguoshufang.com/*/info.html
// @match          *://www.mangguoshufang.com/*/info.html
// @match          *://m.bixiange.me/*/*/
// @match          *://www.xiguashuwu.com/book/*/
// @match          *://www.rmkbr.com/*/*/
// @match          *://www.fdhxs.com/*/*/
// @match          *://www.alicesw.com/novel/*.html
// @match          *://pornhulu.com/novel/*.html
// @match          *://xn--yhqvcx66l.xnxnxn7.xyz/novel/*.html
// @match          *://321dh.org/novel/*.html
// @match          *://www.pilibook.net/*/info.html
// @match          *://www.mozishuwu.com/*/info.html
// @match          *://www.dbxsd.com/book/*/
// @match          *://wxsck.com/book/*/
// @match          *://www.wxsck.com/book/*/
// @match          *://wxscs.com/book/*/
// @match          *://www.wxscs.com/book/*/
// @match          *://www.biquge345.com/book/*/
// @match          *://www.beqege.cc/*/
// @match          *://m.mjyhb.com/*/
// @match          *://m.fly-dreams.com/*/
// @match          *://www.23dishuge.com/*/*/
// @match          *://www.69hsw.com/*/
// @match          *://www.69hao.com/*/
// @match          *://www.69hsz.net/*/
// @match          *://m.shauthor.com/*/
// @match          *://m.chenkuan.com/*/
// @compatible     Firefox 100+
// @compatible     Chrome 85+
// @compatible     Edge 85+
// @compatible     Opera 71+
// @compatible     Safari 13.1+
// @connect        self
// @connect        bilibili.com
// @connect        lightnovel.fun
// @connect        www.fxshu.top
// @connect        qidian.com
// @connect        yuewen.com
// @connect        kuangxiangit.com
// @connect        sinaimg.cn
// @connect        jjwxc.net
// @connect        jjwxc.com
// @connect        gashuw.com
// @connect        qpic.cn
// @connect        zongheng.com
// @connect        17k.com
// @connect        uukanshu.com
// @connect        aliyuncs.com
// @connect        cdn.bcebos.com
// @connect        rs.sfacg.com
// @connect        shuhai.com
// @connect        ch-intel.com
// @connect        huluxia.com
// @connect        linovel.net
// @connect        ax1x.com
// @connect        tadu.com
// @connect        zhangyue01.com
// @connect        cdn.wtzw.com
// @connect        wenku8.com
// @connect        007zw.com
// @connect        hongyeshuzhai.com
// @connect        linovelib.com
// @connect        soxscc.net
// @connect        soxscc.org
// @connect        soxs.cc
// @connect        soxscc.cc
// @connect        soshuwu.com
// @connect        idejian.com
// @connect        postimg.cc
// @connect        lofter.com
// @connect        lf127.net
// @connect        126.net
// @connect        shubl.com
// @connect        loli.net
// @connect        alicdn.com
// @connect        toutiaoimg.com
// @connect        imgdb.cn
// @connect        meego.cn
// @connect        poco.cn
// @connect        dijiuzww.com
// @connect        dijiushu.net
// @connect        i25zw.com
// @connect        sina.com.cn
// @connect        ciyuanji.com
// @connect        wanben.org
// @connect        baihexs.com
// @connect        masiro.me
// @connect        pximg.net
// @connect        mitemin.net
// @connect        myrics.com
// @connect        jingcaiyuedu6.com
// @connect        aixdzs.com
// @connect        b5200.net
// @connect        xrzww.com
// @connect        youdubook.com
// @connect        akatsuki-novels.com
// @connect        alphapolis.co.jp
// @connect        cdn.shucdn.com
// @connect        readmoo.com
// @connect        qingoo.cn
// @connect        sundung.com
// @connect        cddaoyue.cn
// @connect        ttkan.co
// @connect        bg3.co
// @connect        wanbengo.com
// @connect        xbyuan.com
// @connect        shaoniandream.com
// @connect        fuxs1.com
// @connect        bqu9.cc
// @connect        biququ.com
// @connect        ddyucshu.cc
// @connect        lcread.com
// @connect        ddyveshu.cc
// @connect        xr.unionread.net
// @connect        www.qu-la.com
// @connect        *
// @downloadURL    https://github.com/yingziwu/novel-downloader/raw/gh-pages/bundle.user.js
// @grant          unsafeWindow
// @grant          GM_info
// @grant          GM_xmlhttpRequest
// @grant          GM_setValue
// @grant          GM_getValue
// @grant          GM_deleteValue
// @grant          GM.info
// @grant          GM.xmlHttpRequest
// @grant          GM.setValue
// @grant          GM.getValue
// @grant          GM.deleteValue
// @homepageURL    https://github.com/404-novel-project/novel-downloader
// @icon           https://fastly.jsdelivr.net/gh/404-novel-project/novel-downloader/assets/icon.png
// @incompatible   Internet Explorer
// @license        AGPL-3.0-or-later
// @namespace      https://blog.bgme.me
// @noframes
// @require        https://unpkg.com/crypto-js@4.2.0/crypto-js.js#sha512-XRbFQ+ZhXm1gOO0z66M5IEMivMr+rXWYM9DrNkqgpGQ29XY7/E9PVov++wzIXa2Lt4Zv2gLDi3f1UKFlL60HFQ==
// @require        https://unpkg.com/fflate@0.8.2/umd/index.js#sha512-8l6PLZDUdQBuIjsM0vEKUCup9KP+EsB6NlvUtFrDneI1JoIvIJGmxIoiq0qnA31BeKdAwYcTk0TQg71AX9HgRA==
// @require        https://unpkg.com/nunjucks@3.2.4/browser/nunjucks.min.js#sha512-YvU0oaPCJSOIFni9rIOthOs5GgtU5kNZMKQG/Nt33t/H9g/1+TK7KJuMsCZS6v4O3+x253OZlTzPryrUtxxORw==
// @require        https://unpkg.com/vue@3.3.13/dist/vue.global.prod.js#sha512-BR1xH5zlomzRP22mtARVL6Ubbk6oYFfbrFhpVI12zsJtaXfSRIHkxjpKYi38WZ6ZoBF68KKDm33shrPIMPSPQw==
// @require        https://unpkg.com/onnxruntime-web@1.22.0/dist/ort.min.js#sha512-at7pWj/BAyQT89+V/9BiuAa/WeHjsf87fLwrcgD+uzlgsvM8/kgKOgHV/xxzcWiB98XvSTezWc0bgKjCqZwjGw==
// @require        https://unpkg.com/@oovz/esearch-ocr/dist/eSearchOCR.umd.js#sha512-UvCk39TnG39qAlff1bfsl3J5s8TrKVkNN14cyf2cDmnON+VOWZvHxYmFIvbw/GRmLz0M2CLs/oaVDdwuG5WS7Q==
// @require        https://unpkg.com/@techstark/opencv-js@4.11.0-release.1/dist/opencv.js#sha512-6Rb1LoaC9dHPLtrQhND5lLcLe2u3hh92yKTvIRQkMSj2A1EDhK0O4aptnEXAuKQcKtKZwACDoQnrrEKCFt5WdA==
// @run-at         document-start
// @updateURL      https://github.com/yingziwu/novel-downloader/raw/gh-pages/bundle.meta.js
// ==/UserScript==

/*! For license information please see bundle.js.LICENSE.txt */
(()=>{var e,t,n,o,a,i=[,(e,t,n)=>{"use strict";n.d(t,{JU:()=>s,JX:()=>o,er:()=>r,mN:()=>i,nV:()=>a});const o=function(){if("undefined"!=typeof GM_info)return GM_info;if("undefined"!=typeof GM&&void 0!==GM.info)return GM.info;throw new Error("Not found: GM_info and GM.info!")}();function a(e){if("function"!=typeof GM_xmlhttpRequest){if("undefined"==typeof GM||"function"!=typeof GM.xmlHttpRequest)throw new Error("Not found: GM_xmlhttpRequest or GM.xmlHttpRequest!");GM.xmlHttpRequest(e)}else GM_xmlhttpRequest(e)}async function i(e,t){if("function"==typeof GM_setValue)return GM_setValue(e,t);if("undefined"!=typeof GM&&"function"==typeof GM.setValue)return await GM.setValue(e,t);throw new Error("Not found: GM_setValue or GM.setValue!")}async function r(e,t){if("function"==typeof GM_getValue)return GM_getValue(e,t);if("undefined"!=typeof GM&&"function"==typeof GM.getValue)return await GM.getValue(e,t);throw new Error("Not found: GM_getValue or GM.getValue!")}async function s(e){if("function"==typeof GM_deleteValue)return GM_deleteValue(e);if("undefined"!=typeof GM&&"function"==typeof GM.deleteValue)return await GM.deleteValue(e);throw new Error("Not found: GM_deleteValue or GM.deleteValue!")}},function(e,t,n){var o,a;!function(){"use strict";o=function(){var e=function(){},t="undefined",n=typeof window!==t&&typeof window.navigator!==t&&/Trident\/|MSIE /.test(window.navigator.userAgent),o=["trace","debug","info","warn","error"],a={},i=null;function r(e,t){var n=e[t];if("function"==typeof n.bind)return n.bind(e);try{return Function.prototype.bind.call(n,e)}catch(t){return function(){return Function.prototype.apply.apply(n,[e,arguments])}}}function s(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function c(){for(var n=this.getLevel(),a=0;a<o.length;a++){var i=o[a];this[i]=a<n?e:this.methodFactory(i,n,this.name)}if(this.log=this.debug,typeof console===t&&n<this.levels.SILENT)return"No console available for logging"}function l(e){return function(){typeof console!==t&&(c.call(this),this[e].apply(this,arguments))}}function u(o,a,i){return function(o){return"debug"===o&&(o="log"),typeof console!==t&&("trace"===o&&n?s:void 0!==console[o]?r(console,o):void 0!==console.log?r(console,"log"):e)}(o)||l.apply(this,arguments)}function p(e,n){var r,s,l,p=this,d="loglevel";function m(){var e;if(typeof window!==t&&d){try{e=window.localStorage[d]}catch(e){}if(typeof e===t)try{var n=window.document.cookie,o=encodeURIComponent(d),a=n.indexOf(o+"=");-1!==a&&(e=/^([^;]+)/.exec(n.slice(a+o.length+1))[1])}catch(e){}return void 0===p.levels[e]&&(e=void 0),e}}function h(e){var t=e;if("string"==typeof t&&void 0!==p.levels[t.toUpperCase()]&&(t=p.levels[t.toUpperCase()]),"number"==typeof t&&t>=0&&t<=p.levels.SILENT)return t;throw new TypeError("log.setLevel() called with invalid level: "+e)}"string"==typeof e?d+=":"+e:"symbol"==typeof e&&(d=void 0),p.name=e,p.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},p.methodFactory=n||u,p.getLevel=function(){return null!=l?l:null!=s?s:r},p.setLevel=function(e,n){return l=h(e),!1!==n&&function(e){var n=(o[e]||"silent").toUpperCase();if(typeof window!==t&&d){try{return void(window.localStorage[d]=n)}catch(e){}try{window.document.cookie=encodeURIComponent(d)+"="+n+";"}catch(e){}}}(l),c.call(p)},p.setDefaultLevel=function(e){s=h(e),m()||p.setLevel(e,!1)},p.resetLevel=function(){l=null,function(){if(typeof window!==t&&d){try{window.localStorage.removeItem(d)}catch(e){}try{window.document.cookie=encodeURIComponent(d)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch(e){}}}(),c.call(p)},p.enableAll=function(e){p.setLevel(p.levels.TRACE,e)},p.disableAll=function(e){p.setLevel(p.levels.SILENT,e)},p.rebuild=function(){if(i!==p&&(r=h(i.getLevel())),c.call(p),i===p)for(var e in a)a[e].rebuild()},r=h(i?i.getLevel():"WARN");var g=m();null!=g&&(l=h(g)),c.call(p)}(i=new p).getLogger=function(e){if("symbol"!=typeof e&&"string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=a[e];return t||(t=a[e]=new p(e,i.methodFactory)),t};var d=typeof window!==t?window.log:void 0;return i.noConflict=function(){return typeof window!==t&&window.log===i&&(window.log=d),i},i.getLoggers=function(){return a},i.default=i,i},void 0===(a=o.call(t,n,t,e))||(e.exports=a)}()},(e,t,n)=>{"use strict";n.d(t,{BV:()=>y,Fe:()=>p,GM:()=>w,HE:()=>b,Iz:()=>a,Jv:()=>r,KV:()=>f,Nw:()=>i,Og:()=>x,U5:()=>m,WZ:()=>c,Xl:()=>u,Zz:()=>s,k8:()=>h,ri:()=>l,ts:()=>g,w1:()=>v,zb:()=>d});var o=n(1);const a=5,i={value:!1},r={value:!0},s={value:!0},c={value:!1},l={value:1},u={value:500},p={value:2e3},d=!0,m=!0,h=!0,g=!0,f=!0,x="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAFYElEQVR4nO2dIUxkORyHP4XD4E6RYNZgUGvWonAnVqxDbbJiNWLNOsQ65Oo1CMQIFAnJJiQIcgY7YhIEbgTJiEkm4USPuyNh3pv2tf33tb9f8kl4fe3H0Pm37xXi50/gHJgBC+C5YB6Bv4AL4CuwH7872skBcI/9oA5lBpwAO1F7p/IcUf5fuy8L4AzYjthPVWYfeMJ+wFLxABxG660K8xv7QcrBWawOqykfsB+YnEzQv4RXOcV+UHJzD+zF6LwaMsF+QCyYo3kBALfYD4YVK+DL8C4cd+6wHwhrfgJbQztyrJEAjhvgj4F9OcrUKMA33Me778/NaLCUXKMA27ivt48BP7vArYU0k1oFAPeRHjrJPQ3u0ZGlZgHATe5+Bv6ecxooGtUuwEuOCVvsugd2vXp0ZGlFAHDL3bOA3zfHzSmqTEsCgNsjcBXwO5e4T5Hq0poA4OYFoWsg1RWNWhTgJZ8ImxdcUdFuo5YFADcvmAZcY0olRaPWBQD313wZcJ0n3Fa6UUcC/JfvAdda4TagjjYS4HWOcF/7fK/5i5FODmvcDzC0eveOsO3xt4xwRVECvJ1t3MMmvtd+AN5HuH62SIDunOC/tLxgREUjCdCf0HnBKFYUJcBm2SNsXnCZqD3RIgE2zzZuidi3PVPcxLLISAD/fMYtDvm0qdht6BIgLIf4zwuWOHmKigQIzy5hhbSiKocSYFi2cFVA3zZ+ytjGztQogMVS7Vf85gVPFLLVrEYBrGbcvlvRJzbNfJ0aBbDc1++7Fd28bFyjAOdRe8g/PlvOfhm18d/UKMCKMjZqHNM/L1hiXCmsUYBn3ILMZ+zX6N/jVgi72mr6KFqtArzwiJtsneE+li3oezLJdNGodgHGgOm3AQlgz03vKCWMBLDnrneUEkYC2CMBGkcCNI4EaBwJ0DgSYEMecE/mbkLIA59NCnCzplElEbqfLvTJXwlQGEN2z+zjv4GzKQFK/xewZPiCTumS6xOgg4cI9xiyZ08CFIIESBwJYI8E6EACJI4EsEcCdCABEkcC2CMBOpAAiSMB7JEAHUiAxJEA9kiADiRA4kgAeyRABxIgcSSAPRKgAwmQOBLAHgnQgQRIHAlgjwToQAIkjgSwRwJ0IAESRwLYYyrA7zWNKgUJkDgSwB4J0IEESBwJYE8zAqxwr0T7webv2Ivxbv2PHtc7xb1qNucDpc0I8DHTPcXIB/yPi5MAHcT4KM+dXH3ThADzXDcUMSHHxEmADr5kuqcYOSJfvzQjwIKCz8/7X3bof8O3BAjkDvtXuPcl5HBICeDB9yx3FpZj8vdHcwKsKOCsnDeyhzvNSwJkYEp5hypfY9MXTQrwjDtJo5ScYNcPzQrwTBmHOx1g+y7BpgV4xJ21Z5Ut8hV8JMAaLpPf5fqcdbRLAmTE4lj1wwHtlQCRyV0l3MHvnF8JkIGcVcLc1T4JsCE5qoQW1T4JsCGpq4RW1b5iBbhe0yhLUlYJS7xfCfAGKaqE3wq4LwngQcxTta2rfRIggDlxqoQlVPskQCAxqoQlVPskwACG7CUspdonAQYQWiUsqdonAQYSUiUsqdonASLgUyUsrdonASKwwj2y1ZcSq30SIBKbVAlLK29LgMh0VQlLrfZJgMi89aRxydU+CRCZOe5g6JfsMo6TwiVARJbABe7r3pgmfRJASAAhAQQSQCABmsdUgKs1jRL5uO0dpYSRAPZMekcpYS7WNErk47R3lBLmx5pGiXyYvi1lDFumaua6f4jS5w77jmiRBa/XM8zyjnHX0sfIkrjPPQzOAeNdTRsbUzbb2ZQ9W7i9dBNghltyjUHrny4r3JtHJ//0b9RH4P8GSxsCzEN/51YAAAAASUVORK5CYII=",b="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAESElEQVR4nO2cLUxcQRSFv4QgEBiSKgQCh6pCouvQlbVVdaRuTFUNoqaqEkktCoVD4HBITBMMosmaVsxu+kL3l3lv7p13z5ccyc68OSf3sLtvHwghhBBCjJM/hRKNowAERwEIjgIQHAUgOApAcBSA4CgAwVEAgqMABEcBCI4CEBwFIDgKQHAUgOAoAMFRAIKjAARHAQiOAhAcBSA4CkBwFIDgKADBUQCCowAERwEIjgIQHAUgOApAcBSA4CgAzkmUm9SqUvHpjYSEvRky35iEvSky35iEvTky35iEvUky35iEvVky35iEvWky35iEvXky35iEvYky35iEvZky35iEvaky35iEvbky35iEvcky35iEvdky35iEveky35iEzA9PQuaHJyHzm2e78O8T7Zhfeq2j4i1wDvyi/GAT/s1P5Gs9J197SN4An4A7hjlgz+a/fM078lm8KXxt92wDp8BPYEL9g/ZoflcT8tmcMrKK6I54TwfueS/NV8SyEe/54D3uoZmK2GTEt2KA5dov5bYiXjvivRthsea6Mq+Ivka8V0NqrlWqahUx1IjfRGeF15DWWCMVrnG2xhpDaLCKqDHiV+ka+ADs9nA9ack6qYfX3yXv9XrJOkOruCIsRvxLPZANOXztRSwhzVkvDbDO4fR1H+asV0trV4SHEf8M/ABOVm22B1Jn3VRhvRPytT1jc7YLK8LTiN/Z/FyLSNT/Vm8HZxVhtYnZiD8oOc3GOcC+Iqou9gx8p86Ib40T8tnUrogqi1wB76k/4ltkh3xWVzQegHvgM7Df6/HEYp98hvc0EoAn8hg7HuAwonNMPtsnnAVggkZ8TboV0cfb9aIRf4ZGvCX7ZA9KKmLjEf8NjXiPHJO92bQiFICRUCUAqgBfVK+AedI/gXVx80/goorQ28BhcPs2cFlF6IOgMpr7IGiRVBHrM5qPguep5vf9rWF1v0DVxbrS18EBvw5epGv6u+fPOx7uGXQXgJnGXBHWt4Q1EYCuhrwptBYebgptNgBd3dBORcxG/A325zaaAMz0G7gA3gFbaxpSgy3yni7Ie7Q+p9EGoKtH4AtwtNqfwTia7uER+/MIF4CuboCPwN5Su/phb7pWKyM+RABmGqoiWh7xoQLQ1SPwlbKKOJq+RssjPmwAurpl/YqYjfhbB/tWAHrWBLjk/9/HzX4XeYnd7yIVgMqa/T7O+neR1jLfgKQASIYy34CkAEiGcvGACKmu5j5DKPJboQha9BZ4Lh4eEiX1o+LnCKoi2tMgTxJVRfjWRiO+FFWEH5k/TVwVUV/mD4ueh4cHTY5ZVUd8KaqI/mQ+4ktRRWwulyO+FFXEcjU14ktRRfxT8yO+lIgVMcoRX8rYP2gKNeJLGVNFhB/xpbRYERrxA+C9IjTiK+KpIjTijbGoCI14hwxdERrxDdFnRWjEN85rKkIjfoSsqgiN+EB0K0IjXgghhBDh+Avri3imoU6g/AAAAABJRU5ErkJggg==",v="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAABmJLR0QA/wD/AP+gvaeTAAAIxElEQVR4nO2dW4wWRRbHfzArzAIioFxk4oMKjLgqug9k2UUi3g0YYwKId59UXnaj0ejDamLUxTWi8cEbglFJvL7hLfFuHBGNVxBXjFGZWVC8jIoDOzPLTPtwvk+GoafOqe6qntbpf1LJZKrr1L+quqtOnXOqPqhQoUKFChUqVKhQoUKF8uDvQBIoXVUwdzOGDzYBB44JKOtPAWUFRZkHYFZAWUcHlDUk0ADsJNwUtKsms3Qo6xcwAxgVUN4fgcMCyguGsg5AyPm/jlJOQ0NpAI6KIDM3yjoAIRfgOko5AGVFG+5F9fiUMqcrZT6Ozvp3goOAXtydOT6lXJNS5v9AY2Tuv2mcAKwCfsDdkVscMtqVsiuAA+PQ/+3iNGA9dp3+KYes1wzlfwZuASbm4LxfjrJRcASwGXnD5mJb3A8BnsF/U3WTQ+ZdHnI6gFuBA4xtbEBeljXIVzrTWK4QPMvejfsauA9ZGEekPH8x8BP+nZ8ASxw8lmWQtw041yFzFvJibetX7jlHmUKxAHcDfwQeARYDE4B7lOe11OzgMjeH3Bf7yG4CrgY2KGUW+HVVeIwAPsHeSE270dKnuG0643LK7wReB3qMz28m/QsvDFemkAqduoAngFOwrS0n157vKoBbUuuDQcFEdJUxa+pB3sQrgMkZ+U0GrgFaI3Gspx+BSRk55sJ9GchqaTdwP3BoQJ4jkcV5SwS+9bQyIF8TjkU6K2QjNgGzI3IeAVwGfBOYd/3FOTYi933wauAGPAqMLoj7OOBOwr9ALcCwIhqwyEDmv8Db2LSeFUWQTsFsRKuydG478K3hucWxSTcCXxiILKo9fwhwKWI+6E557vbYhBVMRqa+gaaVF4CLEO+c5cVrJawnbx/800DiddI/xQlIY55AzACD3fl1TEZM1X3XomtI12xeQW//dbGINiGGrBCLUZb5fixwHqIlvY0spt219E3tfyuBpcD+nrKbkI6boTxnUT46avKC42Gl4gS4N0K9zcBqJLLBuiDuREzb0yPwsajfa0JX+hdsC+pJAescBdyGOFKsHd8/dSMWz5COmAsN9fYCc0JVOAy7vb49UMXTgY3GOi3pTeDgALwuxf5CvEVAn/vV2A1pP5PvSziOOJulNrJHWwwDbvSs7w4CBz1cht1K2AmclaGO6cTp/L6D4Psl7Ac86FFHD2LDioKlpOvzaWk3cImH7EbgA6PsPOkdJFLOgjHs62zSXrylHm3OhDOB/xkJ9QCXG+XeZpQZIt1g4NMIvO8hs530cJkomA/sMBLrRY9EaMa2uPUCTwMXILGeo2rpcEQ7edrIqQOYonAajl31/ZJB8BHPBr43kNtqkLXaIKcV+KtB1lz0wK4EuNsg612DnPcIo2FlwlHs66zun9YqMsaih6K34tfIqeiD0IHM8S6sUWS04L/r3gt51aSPkFgcF95V8hfiNmAlyML2lQcvLdIBxByiOdU3KfmtiNqdGSH0VC3o9T0lf76S/wywzk7nV7QgGowLJyr52gDkPvoUYgCmKvmblXwtEvpxDy6+ZbW6Ne5a2wuBppJqlk/N0ZHnZMs0RfZ2pfxopfyuHNyCQdsda2eztPCRPA4OrQM7lfJ/UMrvzsENKOaARpKzfB4/ayE+2jwIMQBdSr4WObZDyc8aFwT6ZusnJX+kkt/twSUVIQagQ8nXOvBzJf9vHlx8y2p1a56tnR5cUhFiAFwHJkAPsvpQyT/Hg0t/aIYxrW5XIDDYdvlOhBgA7S06Usl/WclfgJgXfDEPCY934SUl/89K/n/sdOJgDOJtcmkKqxUZ+6ObItrw07mbkNikvKaItYqMHcCpHryCYgo2Y9UHBlmrDHLasH0J89A7P8EWz7nVIKcbP79HEMzEFqCVIGZmzQEyHbuj51kkvmgaouePrv19MXbnSRf6Bm+SUVaCmMmvV+QFw/HYzND19D42i+GtHjLzpuXGtl6L36GSVcjmLRrOxi8+50Xsh+Aa0deTEGkdun7fF4uwewAT4HnExB4c/8DulE+Ah/A/zjmFuAcqtpItam0+chDDWs+HGetJxXAkxMKnoTeS3QxwDDaPlm9qJd+NKUd78tpEIFPIMCTIyFLpbuxOeBcmYjt07TPtaGYJC6Zid9S7zjN7Yw62xejCgHU2ItELHYZ6B0pdwL/wm/M1nGCodzsR1gHNP5oggauhMQVxoPsMREeNS4xbsl4y1L8sQr00oXeCJTx9BhIK7rtIjUHsQvcisarbkTe8q/b3euQQ+BL0HW4aLCHzC9E7/2MiqqLXGQiknZUajwS2trBnKvuUSHH0GbAcUTVfQLS9tPWiAQlC0Nq/MCZRnyNKI5EoOteh6TIMwnLSv+QW5KTMtNpzlnsoXimC8GIDkW/R7+7pOwgxj6e6sMLAr5c9J3Jcz/WgW0+DIfQx1V7kBM5BBfEfAzwWuA0PFsQdiHNQO0HessuJewHGHMSOH5L3LuREaKFYGYD4QGkLMueG1N+nAQ8Q58W5OSBPMybhZx/JktqQhTDPhR1XAG/gZ8fySVE2XVYUcV1Nwp4ra042cBqOXG1T1JU1UTZdVoxAwvcsROtX0HQanx8ojXPwacB+/cBAycf+H3XTZYV2ZdkG5JBfXd9vRjY8WTvI5ZZsziE3QS79m4Co2o+g32sXddPlg+fYm9g2RMd2Bb8uxeZz9fnkl2SQlyBr2fkp8kYCZyAKx/Z+ZbRojkIxE7k9aw1ytaP1rv6xwL/xM7Td5ZB3k4ecelqLbTfegDj870BCcQrbdFmR5zLTiYhJwHLuzHUg5ClD+Xp6A9uiPqRwILp5oN1RXruW7Afkso95cej/PtCIfmIybcoYr5TppThThxll/P2ATuAz5Zm0Y1HaNQRtwHeZGA1BPEk+dXKgxbZ0KOMXAOL4CA0tEnpQMJQGYEMEmblR1gHYGEFmKQegrGjALwRSS9UPuXmih7CHHzbWZJYOZR0ACDsNlXIBhnIPQMiFuJr/K1SoUKFChQoVKlSoUBr8Ah3QujNKRJdpAAAAAElFTkSuQmCC",w="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAG6wAABusBTDGeSgAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAeVSURBVHic7VpvTBNpHv6901L+yQU3nCfrByU9IRYrWrCVGkVzgu4ZCSFSMBDJrhcTP+iqMdlcLvFyl7sPftn9diZsiHterpYz8TxuCXsauBNy2VVoXIEIXV2hAYt/WqF/mMGZ6fzugwxXSjudlnYHWJ5kMm+n7/zmeZ55531/7ztDEBF+zKCUJqA01gxQmoDSWDNAaQJKY80ApQkojTUDlCawFNTU1Pzk3LlzzYQQkmiMFW0AABzRarVfXLx40UYISUjLijaA4zjNunXrQK/XWy5dutS5b98+dbwxVrQB4jwmIyMDtm/fXrV3796eQ4cOZcYTY0UbEAqNRgM6na7caDTeP3r0aI7c81aNAQAAaWlpsG3bNr3BYHhYW1v7npxzVpUBAABqtRoKCwu1er1+sK6uLj9W/RVtQLS1DJVKBVu3bn1fr9cPWCyWAqkYK9oAKVAUBVqtNq+kpORRQ0ODLlo9kooVoVOnTv0yOzv7F1J1Yl1XDi+e53++e/fu6uzs7AX1w8sTExPMo0eP9lmtVnt4jKQbQAhJv3z58rDBYJhveuI1pEjKLSd6nsvlYh8+fFhptVp7Qvmm4hFQAUDCqWmqkJ+frykrK+tubGz8IPR4SvqA5brQumHDBpXJZPqyqampTjy2KjvBYDAILMsCwzAQCATA5/OB1+uFqakpAACqsLDQ1tzcfAoAIO7cWQ5S3QIEQYDZ2VngOA6CwSDwPA88z8+XAQDECWKkfVZWFqXVaj9vaGiYTYkByQbP80DTNDAMAwzDAMuyABBZnJRwcY+IMDMz4x8eHuYTNoAQQk6fPn1yYmLi7x0dHb7Q/5baAliWBZqm5zc5d1WOcJGby+V6cevWrY+dTudXCRlACKHOnj17o6ioyPL8+XMGAP6WSBwRgiCAz+cDn88HDMNAMBiUJSYe4YQQCAaD4HQ6v2tra/vY7Xb3ICIdtwFms1l9/vz5DpPJVMXzPLAsqwmvg4goipj7vWAP8K6jCgQCMD09DYFAICJpKcQjnBACLMvCkydPHlit1osMw/Qj4luAODvBAwcOZJrN5i6j0Vienp4OPp8vUjX+7t27nz5+/NgoFSsZmWBWVtZPi4uLj6Snp0u2jtnZWRgaGuq02Wy/EQRhEBF5MYZsAw4fPpxjMpn+W1paqtdoNICIEUkiIksI+UtfX9+SHgs5OHjw4NHi4uIj4Y9CaDkQCEBfX9+f29vbrwCAAxGF0BiyDDh27Nh7ZWVlD0pKSrRpaWnz4qPdJUT0LkWYXFRWVnKi4Ej9gdfrFXp6ej7r7u7+EwCMYgTCMQ2oqanJ37lzZ79er39frVaDIPzfwNCyUiCEAEVR82URr1+/Zru6un53//79LxDRFe18SQNqa2sLdu3a9UCn0+VRFDUveLmkuiKP8DF+cnLS39nZ+cng4OBNRHRLxYhqwPHjx3UGg+GboqKiHACIKH65tADRAEEQYHx8/OXt27cvjI6OdiBixF46FBENsFgspaWlpb1arTYz1jR0y5YtdWfOnNkVSihSWeo/OWW/3/+v1tbWO+FcRQM4joPR0dHvb968ee7Vq1f/QUQ6suSFWGRAfX39/rKysrubN2/WSIlHRMjMzASz2Vw9PT0NDMNEHMfjGa+l9uPj45WEkN3i+B0an2VZcDgc9ra2tgt+v/9BeB3ZBtTX139gNBr/uWnTJlV4Lx9eRkSYmpoCv98fNXGJJSoezF1fFXYMaZqGp0+f3rHZbL8WBGEgdIyXg3kDTpw4Ubdnzx7bxo0bqdBnO5IJHMeBx+MBlmWXJE7u3Y8Gu93+Lcdxf+zt7bUCwEj4GC8HagCAxsbGX5WXl7fk5eWRaOJF0DQNHo8n5kiQzLsf7Ryv1+vo7e29AgCBSGO8HKgtFkvj/v37P8/NzY3Zq79582ZBk0+GqKXEmmvu/rgvHgJqeHiY93g8tJT4YDAILpcL/H7pay21SUvFEpOdZIMaGhrqvHbt2ocOh8MTOoMTEQwG4cWLF8BxXERiSt39ZIFCRJ/T6fyypaWlaWBgYEwUCrBYvBRS8cz/EMZQAACISLvd7n9fvXq1yW63f8uy7ALxUoRCJ0ZSm1g31h4RQRCERVuq0u8FL0YIIWqKovQnT568UlBQUBk+yQjfcxwHIyMjXzEM8zpicIlMMNrxaHXGxsa+7u/vb0VEVpYymVj0Zoi8+9SkqLq6+pMdO3Y0Z2RkLCAWSpDjOLh3795H3d3dHckkFQVvUzHNXpQKI6JACBlpb2///czMjNtkMl3Iyspa1AWLRqhUKg4RXyWb2A+FiJOhuaTiGSHk05mZmTcVFRW/zcnJ0SjRS6cakusBiOgihLTQND1VVVV1Zf369TkAyg5byUbMFSFEdBNC/hoIBKarq6s/y8vL+5lKpYp12oqBrPQKEX3Pnj37x40bNz6anJz8XhCEVXH3AeJ4OYqI9MuXL7uuX7/+4djYmF1OcrQSEFeCjYhv/X7/162tracdDseduXd0y2OBMFHIzeTCsjoKAHQVFRV/yM3NLU4kxnLZEv5EhrzrBNYBABPvKsxyQko+klpJWJVfiMSDNQOUJqA01gxQmoDSWDNAaQJK40dvwP8AKk+/HC2PJW8AAAAASUVORK5CYII=";async function y(){const e="novel-downloader-enableSaveToArchiveOrg",t=await(0,o.er)(e);if(void 0===t){const t=confirm("欢迎使用小说下载器脚本！\n本脚本为404小说文库项目的组成部分之一。404小说文库项目致力于存档、保存、恢复因种种原因被删除的网络小说。\n您是否同意将当前书页存档至互联网档案馆（archive.org），以备日后（被删除后）查看？\n\n如您同意，小说下载器脚本将会发送当前书籍详情页URL及目录页URL（如果存在）至存档服务后端。\n该过程将会搜集并上报您如下信息：IP地址、User-Agent、Referer、当前书籍详情页URL、当前书籍目录页URL（如果存在）、当前小说下载器脚本版本、当前脚本管理器版本。\n除上述信息外，不会搜集您任何其他信息。\n\n本存档功能为主体功能以外的附加功能，同意与否并不影响小说下载功能的正常使用。");return await(0,o.mN)(e,JSON.stringify(t)),t}try{const e=JSON.parse(t);if("boolean"!=typeof e)throw new Error("value is not boolean");return e}catch(t){return await(0,o.JU)(e),!1}}},(e,t,n)=>{"use strict";n.d(t,{N4:()=>u,OH:()=>d,OJ:()=>c,ZA:()=>l,dB:()=>p,rr:()=>r,y1:()=>m,yy:()=>s});var o=n(5),a=n(1),i=n(6);function r(e,t,n,a={}){const{signal:i,reason:r}=a,s=[...e],c=[],l=Math.min(t,s.length||1);for(let e=0;e<l;e++)c.push(u(s));return Promise.all(c);async function u(e){if(i?.aborted)throw r?new o.K5(r):new o.K5("concurrencyRun was aborted!");const t=e.shift();return void 0===t?"finish!":(await n(t),0!==e.length?u(e):"finish!")}}function s(e){return new Promise(t=>setTimeout(t,e))}function c(e){return JSON.parse(JSON.stringify(e))}async function l(e){const t=await fetch("https://save.bgme.bid/save",{body:JSON.stringify({url:e}),headers:{"content-type":"application/json; charset=utf-8","x-requested-with":`novel-downloader ${a.JX.script.version}; ${a.JX.scriptHandler} ${a.JX.version}`},method:"POST"});return await t.json()}function u(){return"function"==typeof crypto.randomUUID?crypto.randomUUID():function(){const e=new Array(36),t="0123456789abcdef";for(let n=0;n<36;n++)e[n]=t.substr(Math.floor(16*Math.random()),1);return e[14]="4",e[19]=t.substr(3&e[19]|8,1),e[8]=e[13]=e[18]=e[23]="-",e.join("")}()}function p(e){for(const[t,n]of Object.entries(i))if(n.extensions?.includes(e))return t;return"application/octet-stream"}function d(e){if(i[e]){const t=i[e];if(t.compressible)return t.compressible}return!1}function m(e,t=0){return[...Array(e).keys()].map(e=>e+t)}},(e,t,n)=>{"use strict";var o,a;n.d(t,{K5:()=>i,ls:()=>a,nW:()=>o}),function(e){e[e.pending=0]="pending",e[e.downloading=1]="downloading",e[e.failed=2]="failed",e[e.finished=3]="finished",e[e.aborted=4]="aborted",e[e.saved=5]="saved"}(o||(o={})),function(e){e[e.keep=0]="keep",e[e.none=1]="none",e[e.self=2]="self",e[e.custom=3]="custom"}(a||(a={}));class i extends Error{}},(e,t,n)=>{e.exports=n(7)},e=>{"use strict";e.exports=JSON.parse('{"application/1d-interleaved-parityfec":{"source":"iana"},"application/3gpdash-qoe-report+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/3gpp-ims+xml":{"source":"iana","compressible":true},"application/3gpphal+json":{"source":"iana","compressible":true},"application/3gpphalforms+json":{"source":"iana","compressible":true},"application/a2l":{"source":"iana"},"application/ace+cbor":{"source":"iana"},"application/ace+json":{"source":"iana","compressible":true},"application/ace-groupcomm+cbor":{"source":"iana"},"application/ace-trl+cbor":{"source":"iana"},"application/activemessage":{"source":"iana"},"application/activity+json":{"source":"iana","compressible":true},"application/aif+cbor":{"source":"iana"},"application/aif+json":{"source":"iana","compressible":true},"application/alto-cdni+json":{"source":"iana","compressible":true},"application/alto-cdnifilter+json":{"source":"iana","compressible":true},"application/alto-costmap+json":{"source":"iana","compressible":true},"application/alto-costmapfilter+json":{"source":"iana","compressible":true},"application/alto-directory+json":{"source":"iana","compressible":true},"application/alto-endpointcost+json":{"source":"iana","compressible":true},"application/alto-endpointcostparams+json":{"source":"iana","compressible":true},"application/alto-endpointprop+json":{"source":"iana","compressible":true},"application/alto-endpointpropparams+json":{"source":"iana","compressible":true},"application/alto-error+json":{"source":"iana","compressible":true},"application/alto-networkmap+json":{"source":"iana","compressible":true},"application/alto-networkmapfilter+json":{"source":"iana","compressible":true},"application/alto-propmap+json":{"source":"iana","compressible":true},"application/alto-propmapparams+json":{"source":"iana","compressible":true},"application/alto-tips+json":{"source":"iana","compressible":true},"application/alto-tipsparams+json":{"source":"iana","compressible":true},"application/alto-updatestreamcontrol+json":{"source":"iana","compressible":true},"application/alto-updatestreamparams+json":{"source":"iana","compressible":true},"application/aml":{"source":"iana"},"application/andrew-inset":{"source":"iana","extensions":["ez"]},"application/appinstaller":{"compressible":false,"extensions":["appinstaller"]},"application/applefile":{"source":"iana"},"application/applixware":{"source":"apache","extensions":["aw"]},"application/appx":{"compressible":false,"extensions":["appx"]},"application/appxbundle":{"compressible":false,"extensions":["appxbundle"]},"application/at+jwt":{"source":"iana"},"application/atf":{"source":"iana"},"application/atfx":{"source":"iana"},"application/atom+xml":{"source":"iana","compressible":true,"extensions":["atom"]},"application/atomcat+xml":{"source":"iana","compressible":true,"extensions":["atomcat"]},"application/atomdeleted+xml":{"source":"iana","compressible":true,"extensions":["atomdeleted"]},"application/atomicmail":{"source":"iana"},"application/atomsvc+xml":{"source":"iana","compressible":true,"extensions":["atomsvc"]},"application/atsc-dwd+xml":{"source":"iana","compressible":true,"extensions":["dwd"]},"application/atsc-dynamic-event-message":{"source":"iana"},"application/atsc-held+xml":{"source":"iana","compressible":true,"extensions":["held"]},"application/atsc-rdt+json":{"source":"iana","compressible":true},"application/atsc-rsat+xml":{"source":"iana","compressible":true,"extensions":["rsat"]},"application/atxml":{"source":"iana"},"application/auth-policy+xml":{"source":"iana","compressible":true},"application/automationml-aml+xml":{"source":"iana","compressible":true,"extensions":["aml"]},"application/automationml-amlx+zip":{"source":"iana","compressible":false,"extensions":["amlx"]},"application/bacnet-xdd+zip":{"source":"iana","compressible":false},"application/batch-smtp":{"source":"iana"},"application/bdoc":{"compressible":false,"extensions":["bdoc"]},"application/beep+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/bufr":{"source":"iana"},"application/c2pa":{"source":"iana"},"application/calendar+json":{"source":"iana","compressible":true},"application/calendar+xml":{"source":"iana","compressible":true,"extensions":["xcs"]},"application/call-completion":{"source":"iana"},"application/cals-1840":{"source":"iana"},"application/captive+json":{"source":"iana","compressible":true},"application/cbor":{"source":"iana"},"application/cbor-seq":{"source":"iana"},"application/cccex":{"source":"iana"},"application/ccmp+xml":{"source":"iana","compressible":true},"application/ccxml+xml":{"source":"iana","compressible":true,"extensions":["ccxml"]},"application/cda+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/cdfx+xml":{"source":"iana","compressible":true,"extensions":["cdfx"]},"application/cdmi-capability":{"source":"iana","extensions":["cdmia"]},"application/cdmi-container":{"source":"iana","extensions":["cdmic"]},"application/cdmi-domain":{"source":"iana","extensions":["cdmid"]},"application/cdmi-object":{"source":"iana","extensions":["cdmio"]},"application/cdmi-queue":{"source":"iana","extensions":["cdmiq"]},"application/cdni":{"source":"iana"},"application/ce+cbor":{"source":"iana"},"application/cea":{"source":"iana"},"application/cea-2018+xml":{"source":"iana","compressible":true},"application/cellml+xml":{"source":"iana","compressible":true},"application/cfw":{"source":"iana"},"application/cid-edhoc+cbor-seq":{"source":"iana"},"application/city+json":{"source":"iana","compressible":true},"application/city+json-seq":{"source":"iana"},"application/clr":{"source":"iana"},"application/clue+xml":{"source":"iana","compressible":true},"application/clue_info+xml":{"source":"iana","compressible":true},"application/cms":{"source":"iana"},"application/cnrp+xml":{"source":"iana","compressible":true},"application/coap-eap":{"source":"iana"},"application/coap-group+json":{"source":"iana","compressible":true},"application/coap-payload":{"source":"iana"},"application/commonground":{"source":"iana"},"application/concise-problem-details+cbor":{"source":"iana"},"application/conference-info+xml":{"source":"iana","compressible":true},"application/cose":{"source":"iana"},"application/cose-key":{"source":"iana"},"application/cose-key-set":{"source":"iana"},"application/cose-x509":{"source":"iana"},"application/cpl+xml":{"source":"iana","compressible":true,"extensions":["cpl"]},"application/csrattrs":{"source":"iana"},"application/csta+xml":{"source":"iana","compressible":true},"application/cstadata+xml":{"source":"iana","compressible":true},"application/csvm+json":{"source":"iana","compressible":true},"application/cu-seeme":{"source":"apache","extensions":["cu"]},"application/cwl":{"source":"iana","extensions":["cwl"]},"application/cwl+json":{"source":"iana","compressible":true},"application/cwl+yaml":{"source":"iana"},"application/cwt":{"source":"iana"},"application/cybercash":{"source":"iana"},"application/dart":{"compressible":true},"application/dash+xml":{"source":"iana","compressible":true,"extensions":["mpd"]},"application/dash-patch+xml":{"source":"iana","compressible":true,"extensions":["mpp"]},"application/dashdelta":{"source":"iana"},"application/davmount+xml":{"source":"iana","compressible":true,"extensions":["davmount"]},"application/dca-rft":{"source":"iana"},"application/dcd":{"source":"iana"},"application/dec-dx":{"source":"iana"},"application/dialog-info+xml":{"source":"iana","compressible":true},"application/dicom":{"source":"iana","extensions":["dcm"]},"application/dicom+json":{"source":"iana","compressible":true},"application/dicom+xml":{"source":"iana","compressible":true},"application/dii":{"source":"iana"},"application/dit":{"source":"iana"},"application/dns":{"source":"iana"},"application/dns+json":{"source":"iana","compressible":true},"application/dns-message":{"source":"iana"},"application/docbook+xml":{"source":"apache","compressible":true,"extensions":["dbk"]},"application/dots+cbor":{"source":"iana"},"application/dpop+jwt":{"source":"iana"},"application/dskpp+xml":{"source":"iana","compressible":true},"application/dssc+der":{"source":"iana","extensions":["dssc"]},"application/dssc+xml":{"source":"iana","compressible":true,"extensions":["xdssc"]},"application/dvcs":{"source":"iana"},"application/eat+cwt":{"source":"iana"},"application/eat+jwt":{"source":"iana"},"application/eat-bun+cbor":{"source":"iana"},"application/eat-bun+json":{"source":"iana","compressible":true},"application/eat-ucs+cbor":{"source":"iana"},"application/eat-ucs+json":{"source":"iana","compressible":true},"application/ecmascript":{"source":"apache","compressible":true,"extensions":["ecma"]},"application/edhoc+cbor-seq":{"source":"iana"},"application/edi-consent":{"source":"iana"},"application/edi-x12":{"source":"iana","compressible":false},"application/edifact":{"source":"iana","compressible":false},"application/efi":{"source":"iana"},"application/elm+json":{"source":"iana","charset":"UTF-8","compressible":true},"application/elm+xml":{"source":"iana","compressible":true},"application/emergencycalldata.cap+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/emergencycalldata.comment+xml":{"source":"iana","compressible":true},"application/emergencycalldata.control+xml":{"source":"iana","compressible":true},"application/emergencycalldata.deviceinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.ecall.msd":{"source":"iana"},"application/emergencycalldata.legacyesn+json":{"source":"iana","compressible":true},"application/emergencycalldata.providerinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.serviceinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.subscriberinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.veds+xml":{"source":"iana","compressible":true},"application/emma+xml":{"source":"iana","compressible":true,"extensions":["emma"]},"application/emotionml+xml":{"source":"iana","compressible":true,"extensions":["emotionml"]},"application/encaprtp":{"source":"iana"},"application/entity-statement+jwt":{"source":"iana"},"application/epp+xml":{"source":"iana","compressible":true},"application/epub+zip":{"source":"iana","compressible":false,"extensions":["epub"]},"application/eshop":{"source":"iana"},"application/exi":{"source":"iana","extensions":["exi"]},"application/expect-ct-report+json":{"source":"iana","compressible":true},"application/express":{"source":"iana","extensions":["exp"]},"application/fastinfoset":{"source":"iana"},"application/fastsoap":{"source":"iana"},"application/fdf":{"source":"iana","extensions":["fdf"]},"application/fdt+xml":{"source":"iana","compressible":true,"extensions":["fdt"]},"application/fhir+json":{"source":"iana","charset":"UTF-8","compressible":true},"application/fhir+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/fido.trusted-apps+json":{"compressible":true},"application/fits":{"source":"iana"},"application/flexfec":{"source":"iana"},"application/font-sfnt":{"source":"iana"},"application/font-tdpfr":{"source":"iana","extensions":["pfr"]},"application/font-woff":{"source":"iana","compressible":false},"application/framework-attributes+xml":{"source":"iana","compressible":true},"application/geo+json":{"source":"iana","compressible":true,"extensions":["geojson"]},"application/geo+json-seq":{"source":"iana"},"application/geopackage+sqlite3":{"source":"iana"},"application/geopose+json":{"source":"iana","compressible":true},"application/geoxacml+json":{"source":"iana","compressible":true},"application/geoxacml+xml":{"source":"iana","compressible":true},"application/gltf-buffer":{"source":"iana"},"application/gml+xml":{"source":"iana","compressible":true,"extensions":["gml"]},"application/gnap-binding-jws":{"source":"iana"},"application/gnap-binding-jwsd":{"source":"iana"},"application/gnap-binding-rotation-jws":{"source":"iana"},"application/gnap-binding-rotation-jwsd":{"source":"iana"},"application/gpx+xml":{"source":"apache","compressible":true,"extensions":["gpx"]},"application/grib":{"source":"iana"},"application/gxf":{"source":"apache","extensions":["gxf"]},"application/gzip":{"source":"iana","compressible":false,"extensions":["gz"]},"application/h224":{"source":"iana"},"application/held+xml":{"source":"iana","compressible":true},"application/hjson":{"extensions":["hjson"]},"application/hl7v2+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/http":{"source":"iana"},"application/hyperstudio":{"source":"iana","extensions":["stk"]},"application/ibe-key-request+xml":{"source":"iana","compressible":true},"application/ibe-pkg-reply+xml":{"source":"iana","compressible":true},"application/ibe-pp-data":{"source":"iana"},"application/iges":{"source":"iana"},"application/im-iscomposing+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/index":{"source":"iana"},"application/index.cmd":{"source":"iana"},"application/index.obj":{"source":"iana"},"application/index.response":{"source":"iana"},"application/index.vnd":{"source":"iana"},"application/inkml+xml":{"source":"iana","compressible":true,"extensions":["ink","inkml"]},"application/iotp":{"source":"iana"},"application/ipfix":{"source":"iana","extensions":["ipfix"]},"application/ipp":{"source":"iana"},"application/isup":{"source":"iana"},"application/its+xml":{"source":"iana","compressible":true,"extensions":["its"]},"application/java-archive":{"source":"iana","compressible":false,"extensions":["jar","war","ear"]},"application/java-serialized-object":{"source":"apache","compressible":false,"extensions":["ser"]},"application/java-vm":{"source":"apache","compressible":false,"extensions":["class"]},"application/javascript":{"source":"apache","charset":"UTF-8","compressible":true,"extensions":["js"]},"application/jf2feed+json":{"source":"iana","compressible":true},"application/jose":{"source":"iana"},"application/jose+json":{"source":"iana","compressible":true},"application/jrd+json":{"source":"iana","compressible":true},"application/jscalendar+json":{"source":"iana","compressible":true},"application/jscontact+json":{"source":"iana","compressible":true},"application/json":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["json","map"]},"application/json-patch+json":{"source":"iana","compressible":true},"application/json-seq":{"source":"iana"},"application/json5":{"extensions":["json5"]},"application/jsonml+json":{"source":"apache","compressible":true,"extensions":["jsonml"]},"application/jsonpath":{"source":"iana"},"application/jwk+json":{"source":"iana","compressible":true},"application/jwk-set+json":{"source":"iana","compressible":true},"application/jwk-set+jwt":{"source":"iana"},"application/jwt":{"source":"iana"},"application/kpml-request+xml":{"source":"iana","compressible":true},"application/kpml-response+xml":{"source":"iana","compressible":true},"application/ld+json":{"source":"iana","compressible":true,"extensions":["jsonld"]},"application/lgr+xml":{"source":"iana","compressible":true,"extensions":["lgr"]},"application/link-format":{"source":"iana"},"application/linkset":{"source":"iana"},"application/linkset+json":{"source":"iana","compressible":true},"application/load-control+xml":{"source":"iana","compressible":true},"application/logout+jwt":{"source":"iana"},"application/lost+xml":{"source":"iana","compressible":true,"extensions":["lostxml"]},"application/lostsync+xml":{"source":"iana","compressible":true},"application/lpf+zip":{"source":"iana","compressible":false},"application/lxf":{"source":"iana"},"application/mac-binhex40":{"source":"iana","extensions":["hqx"]},"application/mac-compactpro":{"source":"apache","extensions":["cpt"]},"application/macwriteii":{"source":"iana"},"application/mads+xml":{"source":"iana","compressible":true,"extensions":["mads"]},"application/manifest+json":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["webmanifest"]},"application/marc":{"source":"iana","extensions":["mrc"]},"application/marcxml+xml":{"source":"iana","compressible":true,"extensions":["mrcx"]},"application/mathematica":{"source":"iana","extensions":["ma","nb","mb"]},"application/mathml+xml":{"source":"iana","compressible":true,"extensions":["mathml"]},"application/mathml-content+xml":{"source":"iana","compressible":true},"application/mathml-presentation+xml":{"source":"iana","compressible":true},"application/mbms-associated-procedure-description+xml":{"source":"iana","compressible":true},"application/mbms-deregister+xml":{"source":"iana","compressible":true},"application/mbms-envelope+xml":{"source":"iana","compressible":true},"application/mbms-msk+xml":{"source":"iana","compressible":true},"application/mbms-msk-response+xml":{"source":"iana","compressible":true},"application/mbms-protection-description+xml":{"source":"iana","compressible":true},"application/mbms-reception-report+xml":{"source":"iana","compressible":true},"application/mbms-register+xml":{"source":"iana","compressible":true},"application/mbms-register-response+xml":{"source":"iana","compressible":true},"application/mbms-schedule+xml":{"source":"iana","compressible":true},"application/mbms-user-service-description+xml":{"source":"iana","compressible":true},"application/mbox":{"source":"iana","extensions":["mbox"]},"application/media-policy-dataset+xml":{"source":"iana","compressible":true,"extensions":["mpf"]},"application/media_control+xml":{"source":"iana","compressible":true},"application/mediaservercontrol+xml":{"source":"iana","compressible":true,"extensions":["mscml"]},"application/merge-patch+json":{"source":"iana","compressible":true},"application/metalink+xml":{"source":"apache","compressible":true,"extensions":["metalink"]},"application/metalink4+xml":{"source":"iana","compressible":true,"extensions":["meta4"]},"application/mets+xml":{"source":"iana","compressible":true,"extensions":["mets"]},"application/mf4":{"source":"iana"},"application/mikey":{"source":"iana"},"application/mipc":{"source":"iana"},"application/missing-blocks+cbor-seq":{"source":"iana"},"application/mmt-aei+xml":{"source":"iana","compressible":true,"extensions":["maei"]},"application/mmt-usd+xml":{"source":"iana","compressible":true,"extensions":["musd"]},"application/mods+xml":{"source":"iana","compressible":true,"extensions":["mods"]},"application/moss-keys":{"source":"iana"},"application/moss-signature":{"source":"iana"},"application/mosskey-data":{"source":"iana"},"application/mosskey-request":{"source":"iana"},"application/mp21":{"source":"iana","extensions":["m21","mp21"]},"application/mp4":{"source":"iana","extensions":["mp4","mpg4","mp4s","m4p"]},"application/mpeg4-generic":{"source":"iana"},"application/mpeg4-iod":{"source":"iana"},"application/mpeg4-iod-xmt":{"source":"iana"},"application/mrb-consumer+xml":{"source":"iana","compressible":true},"application/mrb-publish+xml":{"source":"iana","compressible":true},"application/msc-ivr+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/msc-mixer+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/msix":{"compressible":false,"extensions":["msix"]},"application/msixbundle":{"compressible":false,"extensions":["msixbundle"]},"application/msword":{"source":"iana","compressible":false,"extensions":["doc","dot"]},"application/mud+json":{"source":"iana","compressible":true},"application/multipart-core":{"source":"iana"},"application/mxf":{"source":"iana","extensions":["mxf"]},"application/n-quads":{"source":"iana","extensions":["nq"]},"application/n-triples":{"source":"iana","extensions":["nt"]},"application/nasdata":{"source":"iana"},"application/news-checkgroups":{"source":"iana","charset":"US-ASCII"},"application/news-groupinfo":{"source":"iana","charset":"US-ASCII"},"application/news-transmission":{"source":"iana"},"application/nlsml+xml":{"source":"iana","compressible":true},"application/node":{"source":"iana","extensions":["cjs"]},"application/nss":{"source":"iana"},"application/oauth-authz-req+jwt":{"source":"iana"},"application/oblivious-dns-message":{"source":"iana"},"application/ocsp-request":{"source":"iana"},"application/ocsp-response":{"source":"iana"},"application/octet-stream":{"source":"iana","compressible":true,"extensions":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"]},"application/oda":{"source":"iana","extensions":["oda"]},"application/odm+xml":{"source":"iana","compressible":true},"application/odx":{"source":"iana"},"application/oebps-package+xml":{"source":"iana","compressible":true,"extensions":["opf"]},"application/ogg":{"source":"iana","compressible":false,"extensions":["ogx"]},"application/ohttp-keys":{"source":"iana"},"application/omdoc+xml":{"source":"apache","compressible":true,"extensions":["omdoc"]},"application/onenote":{"source":"apache","extensions":["onetoc","onetoc2","onetmp","onepkg","one","onea"]},"application/opc-nodeset+xml":{"source":"iana","compressible":true},"application/oscore":{"source":"iana"},"application/oxps":{"source":"iana","extensions":["oxps"]},"application/p21":{"source":"iana"},"application/p21+zip":{"source":"iana","compressible":false},"application/p2p-overlay+xml":{"source":"iana","compressible":true,"extensions":["relo"]},"application/parityfec":{"source":"iana"},"application/passport":{"source":"iana"},"application/patch-ops-error+xml":{"source":"iana","compressible":true,"extensions":["xer"]},"application/pdf":{"source":"iana","compressible":false,"extensions":["pdf"]},"application/pdx":{"source":"iana"},"application/pem-certificate-chain":{"source":"iana"},"application/pgp-encrypted":{"source":"iana","compressible":false,"extensions":["pgp"]},"application/pgp-keys":{"source":"iana","extensions":["asc"]},"application/pgp-signature":{"source":"iana","extensions":["sig","asc"]},"application/pics-rules":{"source":"apache","extensions":["prf"]},"application/pidf+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/pidf-diff+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/pkcs10":{"source":"iana","extensions":["p10"]},"application/pkcs12":{"source":"iana"},"application/pkcs7-mime":{"source":"iana","extensions":["p7m","p7c"]},"application/pkcs7-signature":{"source":"iana","extensions":["p7s"]},"application/pkcs8":{"source":"iana","extensions":["p8"]},"application/pkcs8-encrypted":{"source":"iana"},"application/pkix-attr-cert":{"source":"iana","extensions":["ac"]},"application/pkix-cert":{"source":"iana","extensions":["cer"]},"application/pkix-crl":{"source":"iana","extensions":["crl"]},"application/pkix-pkipath":{"source":"iana","extensions":["pkipath"]},"application/pkixcmp":{"source":"iana","extensions":["pki"]},"application/pls+xml":{"source":"iana","compressible":true,"extensions":["pls"]},"application/poc-settings+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/postscript":{"source":"iana","compressible":true,"extensions":["ai","eps","ps"]},"application/ppsp-tracker+json":{"source":"iana","compressible":true},"application/private-token-issuer-directory":{"source":"iana"},"application/private-token-request":{"source":"iana"},"application/private-token-response":{"source":"iana"},"application/problem+json":{"source":"iana","compressible":true},"application/problem+xml":{"source":"iana","compressible":true},"application/provenance+xml":{"source":"iana","compressible":true,"extensions":["provx"]},"application/provided-claims+jwt":{"source":"iana"},"application/prs.alvestrand.titrax-sheet":{"source":"iana"},"application/prs.cww":{"source":"iana","extensions":["cww"]},"application/prs.cyn":{"source":"iana","charset":"7-BIT"},"application/prs.hpub+zip":{"source":"iana","compressible":false},"application/prs.implied-document+xml":{"source":"iana","compressible":true},"application/prs.implied-executable":{"source":"iana"},"application/prs.implied-object+json":{"source":"iana","compressible":true},"application/prs.implied-object+json-seq":{"source":"iana"},"application/prs.implied-object+yaml":{"source":"iana"},"application/prs.implied-structure":{"source":"iana"},"application/prs.mayfile":{"source":"iana"},"application/prs.nprend":{"source":"iana"},"application/prs.plucker":{"source":"iana"},"application/prs.rdf-xml-crypt":{"source":"iana"},"application/prs.vcfbzip2":{"source":"iana"},"application/prs.xsf+xml":{"source":"iana","compressible":true,"extensions":["xsf"]},"application/pskc+xml":{"source":"iana","compressible":true,"extensions":["pskcxml"]},"application/pvd+json":{"source":"iana","compressible":true},"application/qsig":{"source":"iana"},"application/raml+yaml":{"compressible":true,"extensions":["raml"]},"application/raptorfec":{"source":"iana"},"application/rdap+json":{"source":"iana","compressible":true},"application/rdf+xml":{"source":"iana","compressible":true,"extensions":["rdf","owl"]},"application/reginfo+xml":{"source":"iana","compressible":true,"extensions":["rif"]},"application/relax-ng-compact-syntax":{"source":"iana","extensions":["rnc"]},"application/remote-printing":{"source":"apache"},"application/reputon+json":{"source":"iana","compressible":true},"application/resolve-response+jwt":{"source":"iana"},"application/resource-lists+xml":{"source":"iana","compressible":true,"extensions":["rl"]},"application/resource-lists-diff+xml":{"source":"iana","compressible":true,"extensions":["rld"]},"application/rfc+xml":{"source":"iana","compressible":true},"application/riscos":{"source":"iana"},"application/rlmi+xml":{"source":"iana","compressible":true},"application/rls-services+xml":{"source":"iana","compressible":true,"extensions":["rs"]},"application/route-apd+xml":{"source":"iana","compressible":true,"extensions":["rapd"]},"application/route-s-tsid+xml":{"source":"iana","compressible":true,"extensions":["sls"]},"application/route-usd+xml":{"source":"iana","compressible":true,"extensions":["rusd"]},"application/rpki-checklist":{"source":"iana"},"application/rpki-ghostbusters":{"source":"iana","extensions":["gbr"]},"application/rpki-manifest":{"source":"iana","extensions":["mft"]},"application/rpki-publication":{"source":"iana"},"application/rpki-roa":{"source":"iana","extensions":["roa"]},"application/rpki-signed-tal":{"source":"iana"},"application/rpki-updown":{"source":"iana"},"application/rsd+xml":{"source":"apache","compressible":true,"extensions":["rsd"]},"application/rss+xml":{"source":"apache","compressible":true,"extensions":["rss"]},"application/rtf":{"source":"iana","compressible":true,"extensions":["rtf"]},"application/rtploopback":{"source":"iana"},"application/rtx":{"source":"iana"},"application/samlassertion+xml":{"source":"iana","compressible":true},"application/samlmetadata+xml":{"source":"iana","compressible":true},"application/sarif+json":{"source":"iana","compressible":true},"application/sarif-external-properties+json":{"source":"iana","compressible":true},"application/sbe":{"source":"iana"},"application/sbml+xml":{"source":"iana","compressible":true,"extensions":["sbml"]},"application/scaip+xml":{"source":"iana","compressible":true},"application/scim+json":{"source":"iana","compressible":true},"application/scvp-cv-request":{"source":"iana","extensions":["scq"]},"application/scvp-cv-response":{"source":"iana","extensions":["scs"]},"application/scvp-vp-request":{"source":"iana","extensions":["spq"]},"application/scvp-vp-response":{"source":"iana","extensions":["spp"]},"application/sdp":{"source":"iana","extensions":["sdp"]},"application/secevent+jwt":{"source":"iana"},"application/senml+cbor":{"source":"iana"},"application/senml+json":{"source":"iana","compressible":true},"application/senml+xml":{"source":"iana","compressible":true,"extensions":["senmlx"]},"application/senml-etch+cbor":{"source":"iana"},"application/senml-etch+json":{"source":"iana","compressible":true},"application/senml-exi":{"source":"iana"},"application/sensml+cbor":{"source":"iana"},"application/sensml+json":{"source":"iana","compressible":true},"application/sensml+xml":{"source":"iana","compressible":true,"extensions":["sensmlx"]},"application/sensml-exi":{"source":"iana"},"application/sep+xml":{"source":"iana","compressible":true},"application/sep-exi":{"source":"iana"},"application/session-info":{"source":"iana"},"application/set-payment":{"source":"iana"},"application/set-payment-initiation":{"source":"iana","extensions":["setpay"]},"application/set-registration":{"source":"iana"},"application/set-registration-initiation":{"source":"iana","extensions":["setreg"]},"application/sgml":{"source":"iana"},"application/sgml-open-catalog":{"source":"iana"},"application/shf+xml":{"source":"iana","compressible":true,"extensions":["shf"]},"application/sieve":{"source":"iana","extensions":["siv","sieve"]},"application/simple-filter+xml":{"source":"iana","compressible":true},"application/simple-message-summary":{"source":"iana"},"application/simplesymbolcontainer":{"source":"iana"},"application/sipc":{"source":"iana"},"application/slate":{"source":"iana"},"application/smil":{"source":"apache"},"application/smil+xml":{"source":"iana","compressible":true,"extensions":["smi","smil"]},"application/smpte336m":{"source":"iana"},"application/soap+fastinfoset":{"source":"iana"},"application/soap+xml":{"source":"iana","compressible":true},"application/sparql-query":{"source":"iana","extensions":["rq"]},"application/sparql-results+xml":{"source":"iana","compressible":true,"extensions":["srx"]},"application/spdx+json":{"source":"iana","compressible":true},"application/spirits-event+xml":{"source":"iana","compressible":true},"application/sql":{"source":"iana","extensions":["sql"]},"application/srgs":{"source":"iana","extensions":["gram"]},"application/srgs+xml":{"source":"iana","compressible":true,"extensions":["grxml"]},"application/sru+xml":{"source":"iana","compressible":true,"extensions":["sru"]},"application/ssdl+xml":{"source":"apache","compressible":true,"extensions":["ssdl"]},"application/sslkeylogfile":{"source":"iana"},"application/ssml+xml":{"source":"iana","compressible":true,"extensions":["ssml"]},"application/st2110-41":{"source":"iana"},"application/stix+json":{"source":"iana","compressible":true},"application/stratum":{"source":"iana"},"application/swid+cbor":{"source":"iana"},"application/swid+xml":{"source":"iana","compressible":true,"extensions":["swidtag"]},"application/tamp-apex-update":{"source":"iana"},"application/tamp-apex-update-confirm":{"source":"iana"},"application/tamp-community-update":{"source":"iana"},"application/tamp-community-update-confirm":{"source":"iana"},"application/tamp-error":{"source":"iana"},"application/tamp-sequence-adjust":{"source":"iana"},"application/tamp-sequence-adjust-confirm":{"source":"iana"},"application/tamp-status-query":{"source":"iana"},"application/tamp-status-response":{"source":"iana"},"application/tamp-update":{"source":"iana"},"application/tamp-update-confirm":{"source":"iana"},"application/tar":{"compressible":true},"application/taxii+json":{"source":"iana","compressible":true},"application/td+json":{"source":"iana","compressible":true},"application/tei+xml":{"source":"iana","compressible":true,"extensions":["tei","teicorpus"]},"application/tetra_isi":{"source":"iana"},"application/thraud+xml":{"source":"iana","compressible":true,"extensions":["tfi"]},"application/timestamp-query":{"source":"iana"},"application/timestamp-reply":{"source":"iana"},"application/timestamped-data":{"source":"iana","extensions":["tsd"]},"application/tlsrpt+gzip":{"source":"iana"},"application/tlsrpt+json":{"source":"iana","compressible":true},"application/tm+json":{"source":"iana","compressible":true},"application/tnauthlist":{"source":"iana"},"application/toc+cbor":{"source":"iana"},"application/token-introspection+jwt":{"source":"iana"},"application/toml":{"source":"iana","compressible":true,"extensions":["toml"]},"application/trickle-ice-sdpfrag":{"source":"iana"},"application/trig":{"source":"iana","extensions":["trig"]},"application/trust-chain+json":{"source":"iana","compressible":true},"application/trust-mark+jwt":{"source":"iana"},"application/trust-mark-delegation+jwt":{"source":"iana"},"application/ttml+xml":{"source":"iana","compressible":true,"extensions":["ttml"]},"application/tve-trigger":{"source":"iana"},"application/tzif":{"source":"iana"},"application/tzif-leap":{"source":"iana"},"application/ubjson":{"compressible":false,"extensions":["ubj"]},"application/uccs+cbor":{"source":"iana"},"application/ujcs+json":{"source":"iana","compressible":true},"application/ulpfec":{"source":"iana"},"application/urc-grpsheet+xml":{"source":"iana","compressible":true},"application/urc-ressheet+xml":{"source":"iana","compressible":true,"extensions":["rsheet"]},"application/urc-targetdesc+xml":{"source":"iana","compressible":true,"extensions":["td"]},"application/urc-uisocketdesc+xml":{"source":"iana","compressible":true},"application/vc":{"source":"iana"},"application/vc+cose":{"source":"iana"},"application/vc+jwt":{"source":"iana"},"application/vcard+json":{"source":"iana","compressible":true},"application/vcard+xml":{"source":"iana","compressible":true},"application/vemmi":{"source":"iana"},"application/vividence.scriptfile":{"source":"apache"},"application/vnd.1000minds.decision-model+xml":{"source":"iana","compressible":true,"extensions":["1km"]},"application/vnd.1ob":{"source":"iana"},"application/vnd.3gpp-prose+xml":{"source":"iana","compressible":true},"application/vnd.3gpp-prose-pc3a+xml":{"source":"iana","compressible":true},"application/vnd.3gpp-prose-pc3ach+xml":{"source":"iana","compressible":true},"application/vnd.3gpp-prose-pc3ch+xml":{"source":"iana","compressible":true},"application/vnd.3gpp-prose-pc8+xml":{"source":"iana","compressible":true},"application/vnd.3gpp-v2x-local-service-information":{"source":"iana"},"application/vnd.3gpp.5gnas":{"source":"iana"},"application/vnd.3gpp.5gsa2x":{"source":"iana"},"application/vnd.3gpp.5gsa2x-local-service-information":{"source":"iana"},"application/vnd.3gpp.5gsv2x":{"source":"iana"},"application/vnd.3gpp.5gsv2x-local-service-information":{"source":"iana"},"application/vnd.3gpp.access-transfer-events+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.bsf+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.crs+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.current-location-discovery+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.gmop+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.gtpc":{"source":"iana"},"application/vnd.3gpp.interworking-data":{"source":"iana"},"application/vnd.3gpp.lpp":{"source":"iana"},"application/vnd.3gpp.mc-signalling-ear":{"source":"iana"},"application/vnd.3gpp.mcdata-affiliation-command+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-msgstore-ctrl-request+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-payload":{"source":"iana"},"application/vnd.3gpp.mcdata-regroup+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-service-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-signalling":{"source":"iana"},"application/vnd.3gpp.mcdata-ue-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-user-profile+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-affiliation-command+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-floor-request+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-location-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-mbms-usage-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-regroup+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-service-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-signed+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-ue-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-ue-init-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-user-profile+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-affiliation-command+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-location-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-mbms-usage-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-regroup+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-service-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-transmission-request+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-ue-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-user-profile+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mid-call+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.ngap":{"source":"iana"},"application/vnd.3gpp.pfcp":{"source":"iana"},"application/vnd.3gpp.pic-bw-large":{"source":"iana","extensions":["plb"]},"application/vnd.3gpp.pic-bw-small":{"source":"iana","extensions":["psb"]},"application/vnd.3gpp.pic-bw-var":{"source":"iana","extensions":["pvb"]},"application/vnd.3gpp.pinapp-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.s1ap":{"source":"iana"},"application/vnd.3gpp.seal-group-doc+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.seal-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.seal-location-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.seal-mbms-usage-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.seal-network-qos-management-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.seal-ue-config-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.seal-unicast-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.seal-user-profile-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.sms":{"source":"iana"},"application/vnd.3gpp.sms+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.srvcc-ext+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.srvcc-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.state-and-event-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.ussd+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.v2x":{"source":"iana"},"application/vnd.3gpp.vae-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp2.bcmcsinfo+xml":{"source":"iana","compressible":true},"application/vnd.3gpp2.sms":{"source":"iana"},"application/vnd.3gpp2.tcap":{"source":"iana","extensions":["tcap"]},"application/vnd.3lightssoftware.imagescal":{"source":"iana"},"application/vnd.3m.post-it-notes":{"source":"iana","extensions":["pwn"]},"application/vnd.accpac.simply.aso":{"source":"iana","extensions":["aso"]},"application/vnd.accpac.simply.imp":{"source":"iana","extensions":["imp"]},"application/vnd.acm.addressxfer+json":{"source":"iana","compressible":true},"application/vnd.acm.chatbot+json":{"source":"iana","compressible":true},"application/vnd.acucobol":{"source":"iana","extensions":["acu"]},"application/vnd.acucorp":{"source":"iana","extensions":["atc","acutc"]},"application/vnd.adobe.air-application-installer-package+zip":{"source":"apache","compressible":false,"extensions":["air"]},"application/vnd.adobe.flash.movie":{"source":"iana"},"application/vnd.adobe.formscentral.fcdt":{"source":"iana","extensions":["fcdt"]},"application/vnd.adobe.fxp":{"source":"iana","extensions":["fxp","fxpl"]},"application/vnd.adobe.partial-upload":{"source":"iana"},"application/vnd.adobe.xdp+xml":{"source":"iana","compressible":true,"extensions":["xdp"]},"application/vnd.adobe.xfdf":{"source":"apache","extensions":["xfdf"]},"application/vnd.aether.imp":{"source":"iana"},"application/vnd.afpc.afplinedata":{"source":"iana"},"application/vnd.afpc.afplinedata-pagedef":{"source":"iana"},"application/vnd.afpc.cmoca-cmresource":{"source":"iana"},"application/vnd.afpc.foca-charset":{"source":"iana"},"application/vnd.afpc.foca-codedfont":{"source":"iana"},"application/vnd.afpc.foca-codepage":{"source":"iana"},"application/vnd.afpc.modca":{"source":"iana"},"application/vnd.afpc.modca-cmtable":{"source":"iana"},"application/vnd.afpc.modca-formdef":{"source":"iana"},"application/vnd.afpc.modca-mediummap":{"source":"iana"},"application/vnd.afpc.modca-objectcontainer":{"source":"iana"},"application/vnd.afpc.modca-overlay":{"source":"iana"},"application/vnd.afpc.modca-pagesegment":{"source":"iana"},"application/vnd.age":{"source":"iana","extensions":["age"]},"application/vnd.ah-barcode":{"source":"apache"},"application/vnd.ahead.space":{"source":"iana","extensions":["ahead"]},"application/vnd.airzip.filesecure.azf":{"source":"iana","extensions":["azf"]},"application/vnd.airzip.filesecure.azs":{"source":"iana","extensions":["azs"]},"application/vnd.amadeus+json":{"source":"iana","compressible":true},"application/vnd.amazon.ebook":{"source":"apache","extensions":["azw"]},"application/vnd.amazon.mobi8-ebook":{"source":"iana"},"application/vnd.americandynamics.acc":{"source":"iana","extensions":["acc"]},"application/vnd.amiga.ami":{"source":"iana","extensions":["ami"]},"application/vnd.amundsen.maze+xml":{"source":"iana","compressible":true},"application/vnd.android.ota":{"source":"iana"},"application/vnd.android.package-archive":{"source":"apache","compressible":false,"extensions":["apk"]},"application/vnd.anki":{"source":"iana"},"application/vnd.anser-web-certificate-issue-initiation":{"source":"iana","extensions":["cii"]},"application/vnd.anser-web-funds-transfer-initiation":{"source":"apache","extensions":["fti"]},"application/vnd.antix.game-component":{"source":"iana","extensions":["atx"]},"application/vnd.apache.arrow.file":{"source":"iana"},"application/vnd.apache.arrow.stream":{"source":"iana"},"application/vnd.apache.parquet":{"source":"iana"},"application/vnd.apache.thrift.binary":{"source":"iana"},"application/vnd.apache.thrift.compact":{"source":"iana"},"application/vnd.apache.thrift.json":{"source":"iana"},"application/vnd.apexlang":{"source":"iana"},"application/vnd.api+json":{"source":"iana","compressible":true},"application/vnd.aplextor.warrp+json":{"source":"iana","compressible":true},"application/vnd.apothekende.reservation+json":{"source":"iana","compressible":true},"application/vnd.apple.installer+xml":{"source":"iana","compressible":true,"extensions":["mpkg"]},"application/vnd.apple.keynote":{"source":"iana","extensions":["key"]},"application/vnd.apple.mpegurl":{"source":"iana","extensions":["m3u8"]},"application/vnd.apple.numbers":{"source":"iana","extensions":["numbers"]},"application/vnd.apple.pages":{"source":"iana","extensions":["pages"]},"application/vnd.apple.pkpass":{"compressible":false,"extensions":["pkpass"]},"application/vnd.arastra.swi":{"source":"apache"},"application/vnd.aristanetworks.swi":{"source":"iana","extensions":["swi"]},"application/vnd.artisan+json":{"source":"iana","compressible":true},"application/vnd.artsquare":{"source":"iana"},"application/vnd.astraea-software.iota":{"source":"iana","extensions":["iota"]},"application/vnd.audiograph":{"source":"iana","extensions":["aep"]},"application/vnd.autodesk.fbx":{"extensions":["fbx"]},"application/vnd.autopackage":{"source":"iana"},"application/vnd.avalon+json":{"source":"iana","compressible":true},"application/vnd.avistar+xml":{"source":"iana","compressible":true},"application/vnd.balsamiq.bmml+xml":{"source":"iana","compressible":true,"extensions":["bmml"]},"application/vnd.balsamiq.bmpr":{"source":"iana"},"application/vnd.banana-accounting":{"source":"iana"},"application/vnd.bbf.usp.error":{"source":"iana"},"application/vnd.bbf.usp.msg":{"source":"iana"},"application/vnd.bbf.usp.msg+json":{"source":"iana","compressible":true},"application/vnd.bekitzur-stech+json":{"source":"iana","compressible":true},"application/vnd.belightsoft.lhzd+zip":{"source":"iana","compressible":false},"application/vnd.belightsoft.lhzl+zip":{"source":"iana","compressible":false},"application/vnd.bint.med-content":{"source":"iana"},"application/vnd.biopax.rdf+xml":{"source":"iana","compressible":true},"application/vnd.blink-idb-value-wrapper":{"source":"iana"},"application/vnd.blueice.multipass":{"source":"iana","extensions":["mpm"]},"application/vnd.bluetooth.ep.oob":{"source":"iana"},"application/vnd.bluetooth.le.oob":{"source":"iana"},"application/vnd.bmi":{"source":"iana","extensions":["bmi"]},"application/vnd.bpf":{"source":"iana"},"application/vnd.bpf3":{"source":"iana"},"application/vnd.businessobjects":{"source":"iana","extensions":["rep"]},"application/vnd.byu.uapi+json":{"source":"iana","compressible":true},"application/vnd.bzip3":{"source":"iana"},"application/vnd.c3voc.schedule+xml":{"source":"iana","compressible":true},"application/vnd.cab-jscript":{"source":"iana"},"application/vnd.canon-cpdl":{"source":"iana"},"application/vnd.canon-lips":{"source":"iana"},"application/vnd.capasystems-pg+json":{"source":"iana","compressible":true},"application/vnd.cendio.thinlinc.clientconf":{"source":"iana"},"application/vnd.century-systems.tcp_stream":{"source":"iana"},"application/vnd.chemdraw+xml":{"source":"iana","compressible":true,"extensions":["cdxml"]},"application/vnd.chess-pgn":{"source":"iana"},"application/vnd.chipnuts.karaoke-mmd":{"source":"iana","extensions":["mmd"]},"application/vnd.ciedi":{"source":"iana"},"application/vnd.cinderella":{"source":"iana","extensions":["cdy"]},"application/vnd.cirpack.isdn-ext":{"source":"iana"},"application/vnd.citationstyles.style+xml":{"source":"iana","compressible":true,"extensions":["csl"]},"application/vnd.claymore":{"source":"iana","extensions":["cla"]},"application/vnd.cloanto.rp9":{"source":"iana","extensions":["rp9"]},"application/vnd.clonk.c4group":{"source":"iana","extensions":["c4g","c4d","c4f","c4p","c4u"]},"application/vnd.cluetrust.cartomobile-config":{"source":"iana","extensions":["c11amc"]},"application/vnd.cluetrust.cartomobile-config-pkg":{"source":"iana","extensions":["c11amz"]},"application/vnd.cncf.helm.chart.content.v1.tar+gzip":{"source":"iana"},"application/vnd.cncf.helm.chart.provenance.v1.prov":{"source":"iana"},"application/vnd.cncf.helm.config.v1+json":{"source":"iana","compressible":true},"application/vnd.coffeescript":{"source":"iana"},"application/vnd.collabio.xodocuments.document":{"source":"iana"},"application/vnd.collabio.xodocuments.document-template":{"source":"iana"},"application/vnd.collabio.xodocuments.presentation":{"source":"iana"},"application/vnd.collabio.xodocuments.presentation-template":{"source":"iana"},"application/vnd.collabio.xodocuments.spreadsheet":{"source":"iana"},"application/vnd.collabio.xodocuments.spreadsheet-template":{"source":"iana"},"application/vnd.collection+json":{"source":"iana","compressible":true},"application/vnd.collection.doc+json":{"source":"iana","compressible":true},"application/vnd.collection.next+json":{"source":"iana","compressible":true},"application/vnd.comicbook+zip":{"source":"iana","compressible":false},"application/vnd.comicbook-rar":{"source":"iana"},"application/vnd.commerce-battelle":{"source":"iana"},"application/vnd.commonspace":{"source":"iana","extensions":["csp"]},"application/vnd.contact.cmsg":{"source":"iana","extensions":["cdbcmsg"]},"application/vnd.coreos.ignition+json":{"source":"iana","compressible":true},"application/vnd.cosmocaller":{"source":"iana","extensions":["cmc"]},"application/vnd.crick.clicker":{"source":"iana","extensions":["clkx"]},"application/vnd.crick.clicker.keyboard":{"source":"iana","extensions":["clkk"]},"application/vnd.crick.clicker.palette":{"source":"iana","extensions":["clkp"]},"application/vnd.crick.clicker.template":{"source":"iana","extensions":["clkt"]},"application/vnd.crick.clicker.wordbank":{"source":"iana","extensions":["clkw"]},"application/vnd.criticaltools.wbs+xml":{"source":"iana","compressible":true,"extensions":["wbs"]},"application/vnd.cryptii.pipe+json":{"source":"iana","compressible":true},"application/vnd.crypto-shade-file":{"source":"iana"},"application/vnd.cryptomator.encrypted":{"source":"iana"},"application/vnd.cryptomator.vault":{"source":"iana"},"application/vnd.ctc-posml":{"source":"iana","extensions":["pml"]},"application/vnd.ctct.ws+xml":{"source":"iana","compressible":true},"application/vnd.cups-pdf":{"source":"iana"},"application/vnd.cups-postscript":{"source":"iana"},"application/vnd.cups-ppd":{"source":"iana","extensions":["ppd"]},"application/vnd.cups-raster":{"source":"iana"},"application/vnd.cups-raw":{"source":"iana"},"application/vnd.curl":{"source":"iana"},"application/vnd.curl.car":{"source":"apache","extensions":["car"]},"application/vnd.curl.pcurl":{"source":"apache","extensions":["pcurl"]},"application/vnd.cyan.dean.root+xml":{"source":"iana","compressible":true},"application/vnd.cybank":{"source":"iana"},"application/vnd.cyclonedx+json":{"source":"iana","compressible":true},"application/vnd.cyclonedx+xml":{"source":"iana","compressible":true},"application/vnd.d2l.coursepackage1p0+zip":{"source":"iana","compressible":false},"application/vnd.d3m-dataset":{"source":"iana"},"application/vnd.d3m-problem":{"source":"iana"},"application/vnd.dart":{"source":"iana","compressible":true,"extensions":["dart"]},"application/vnd.data-vision.rdz":{"source":"iana","extensions":["rdz"]},"application/vnd.datalog":{"source":"iana"},"application/vnd.datapackage+json":{"source":"iana","compressible":true},"application/vnd.dataresource+json":{"source":"iana","compressible":true},"application/vnd.dbf":{"source":"iana","extensions":["dbf"]},"application/vnd.dcmp+xml":{"source":"iana","compressible":true,"extensions":["dcmp"]},"application/vnd.debian.binary-package":{"source":"iana"},"application/vnd.dece.data":{"source":"iana","extensions":["uvf","uvvf","uvd","uvvd"]},"application/vnd.dece.ttml+xml":{"source":"iana","compressible":true,"extensions":["uvt","uvvt"]},"application/vnd.dece.unspecified":{"source":"iana","extensions":["uvx","uvvx"]},"application/vnd.dece.zip":{"source":"iana","extensions":["uvz","uvvz"]},"application/vnd.denovo.fcselayout-link":{"source":"iana","extensions":["fe_launch"]},"application/vnd.desmume.movie":{"source":"iana"},"application/vnd.dir-bi.plate-dl-nosuffix":{"source":"iana"},"application/vnd.dm.delegation+xml":{"source":"iana","compressible":true},"application/vnd.dna":{"source":"iana","extensions":["dna"]},"application/vnd.document+json":{"source":"iana","compressible":true},"application/vnd.dolby.mlp":{"source":"apache","extensions":["mlp"]},"application/vnd.dolby.mobile.1":{"source":"iana"},"application/vnd.dolby.mobile.2":{"source":"iana"},"application/vnd.doremir.scorecloud-binary-document":{"source":"iana"},"application/vnd.dpgraph":{"source":"iana","extensions":["dpg"]},"application/vnd.dreamfactory":{"source":"iana","extensions":["dfac"]},"application/vnd.drive+json":{"source":"iana","compressible":true},"application/vnd.ds-keypoint":{"source":"apache","extensions":["kpxx"]},"application/vnd.dtg.local":{"source":"iana"},"application/vnd.dtg.local.flash":{"source":"iana"},"application/vnd.dtg.local.html":{"source":"iana"},"application/vnd.dvb.ait":{"source":"iana","extensions":["ait"]},"application/vnd.dvb.dvbisl+xml":{"source":"iana","compressible":true},"application/vnd.dvb.dvbj":{"source":"iana"},"application/vnd.dvb.esgcontainer":{"source":"iana"},"application/vnd.dvb.ipdcdftnotifaccess":{"source":"iana"},"application/vnd.dvb.ipdcesgaccess":{"source":"iana"},"application/vnd.dvb.ipdcesgaccess2":{"source":"iana"},"application/vnd.dvb.ipdcesgpdd":{"source":"iana"},"application/vnd.dvb.ipdcroaming":{"source":"iana"},"application/vnd.dvb.iptv.alfec-base":{"source":"iana"},"application/vnd.dvb.iptv.alfec-enhancement":{"source":"iana"},"application/vnd.dvb.notif-aggregate-root+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-container+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-generic+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-ia-msglist+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-ia-registration-request+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-ia-registration-response+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-init+xml":{"source":"iana","compressible":true},"application/vnd.dvb.pfr":{"source":"iana"},"application/vnd.dvb.service":{"source":"iana","extensions":["svc"]},"application/vnd.dxr":{"source":"iana"},"application/vnd.dynageo":{"source":"iana","extensions":["geo"]},"application/vnd.dzr":{"source":"iana"},"application/vnd.easykaraoke.cdgdownload":{"source":"iana"},"application/vnd.ecdis-update":{"source":"iana"},"application/vnd.ecip.rlp":{"source":"iana"},"application/vnd.eclipse.ditto+json":{"source":"iana","compressible":true},"application/vnd.ecowin.chart":{"source":"iana","extensions":["mag"]},"application/vnd.ecowin.filerequest":{"source":"iana"},"application/vnd.ecowin.fileupdate":{"source":"iana"},"application/vnd.ecowin.series":{"source":"iana"},"application/vnd.ecowin.seriesrequest":{"source":"iana"},"application/vnd.ecowin.seriesupdate":{"source":"iana"},"application/vnd.efi.img":{"source":"iana"},"application/vnd.efi.iso":{"source":"iana"},"application/vnd.eln+zip":{"source":"iana","compressible":false},"application/vnd.emclient.accessrequest+xml":{"source":"iana","compressible":true},"application/vnd.enliven":{"source":"iana","extensions":["nml"]},"application/vnd.enphase.envoy":{"source":"iana"},"application/vnd.eprints.data+xml":{"source":"iana","compressible":true},"application/vnd.epson.esf":{"source":"iana","extensions":["esf"]},"application/vnd.epson.msf":{"source":"iana","extensions":["msf"]},"application/vnd.epson.quickanime":{"source":"iana","extensions":["qam"]},"application/vnd.epson.salt":{"source":"iana","extensions":["slt"]},"application/vnd.epson.ssf":{"source":"iana","extensions":["ssf"]},"application/vnd.ericsson.quickcall":{"source":"iana"},"application/vnd.erofs":{"source":"iana"},"application/vnd.espass-espass+zip":{"source":"iana","compressible":false},"application/vnd.eszigno3+xml":{"source":"iana","compressible":true,"extensions":["es3","et3"]},"application/vnd.etsi.aoc+xml":{"source":"iana","compressible":true},"application/vnd.etsi.asic-e+zip":{"source":"iana","compressible":false},"application/vnd.etsi.asic-s+zip":{"source":"iana","compressible":false},"application/vnd.etsi.cug+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvcommand+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvdiscovery+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvprofile+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsad-bc+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsad-cod+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsad-npvr+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvservice+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsync+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvueprofile+xml":{"source":"iana","compressible":true},"application/vnd.etsi.mcid+xml":{"source":"iana","compressible":true},"application/vnd.etsi.mheg5":{"source":"iana"},"application/vnd.etsi.overload-control-policy-dataset+xml":{"source":"iana","compressible":true},"application/vnd.etsi.pstn+xml":{"source":"iana","compressible":true},"application/vnd.etsi.sci+xml":{"source":"iana","compressible":true},"application/vnd.etsi.simservs+xml":{"source":"iana","compressible":true},"application/vnd.etsi.timestamp-token":{"source":"iana"},"application/vnd.etsi.tsl+xml":{"source":"iana","compressible":true},"application/vnd.etsi.tsl.der":{"source":"iana"},"application/vnd.eu.kasparian.car+json":{"source":"iana","compressible":true},"application/vnd.eudora.data":{"source":"iana"},"application/vnd.evolv.ecig.profile":{"source":"iana"},"application/vnd.evolv.ecig.settings":{"source":"iana"},"application/vnd.evolv.ecig.theme":{"source":"iana"},"application/vnd.exstream-empower+zip":{"source":"iana","compressible":false},"application/vnd.exstream-package":{"source":"iana"},"application/vnd.ezpix-album":{"source":"iana","extensions":["ez2"]},"application/vnd.ezpix-package":{"source":"iana","extensions":["ez3"]},"application/vnd.f-secure.mobile":{"source":"iana"},"application/vnd.familysearch.gedcom+zip":{"source":"iana","compressible":false},"application/vnd.fastcopy-disk-image":{"source":"iana"},"application/vnd.fdf":{"source":"apache","extensions":["fdf"]},"application/vnd.fdsn.mseed":{"source":"iana","extensions":["mseed"]},"application/vnd.fdsn.seed":{"source":"iana","extensions":["seed","dataless"]},"application/vnd.fdsn.stationxml+xml":{"source":"iana","charset":"XML-BASED","compressible":true},"application/vnd.ffsns":{"source":"iana"},"application/vnd.ficlab.flb+zip":{"source":"iana","compressible":false},"application/vnd.filmit.zfc":{"source":"iana"},"application/vnd.fints":{"source":"iana"},"application/vnd.firemonkeys.cloudcell":{"source":"iana"},"application/vnd.flographit":{"source":"iana","extensions":["gph"]},"application/vnd.fluxtime.clip":{"source":"iana","extensions":["ftc"]},"application/vnd.font-fontforge-sfd":{"source":"iana"},"application/vnd.framemaker":{"source":"iana","extensions":["fm","frame","maker","book"]},"application/vnd.freelog.comic":{"source":"iana"},"application/vnd.frogans.fnc":{"source":"apache","extensions":["fnc"]},"application/vnd.frogans.ltf":{"source":"apache","extensions":["ltf"]},"application/vnd.fsc.weblaunch":{"source":"iana","extensions":["fsc"]},"application/vnd.fujifilm.fb.docuworks":{"source":"iana"},"application/vnd.fujifilm.fb.docuworks.binder":{"source":"iana"},"application/vnd.fujifilm.fb.docuworks.container":{"source":"iana"},"application/vnd.fujifilm.fb.jfi+xml":{"source":"iana","compressible":true},"application/vnd.fujitsu.oasys":{"source":"iana","extensions":["oas"]},"application/vnd.fujitsu.oasys2":{"source":"iana","extensions":["oa2"]},"application/vnd.fujitsu.oasys3":{"source":"iana","extensions":["oa3"]},"application/vnd.fujitsu.oasysgp":{"source":"iana","extensions":["fg5"]},"application/vnd.fujitsu.oasysprs":{"source":"iana","extensions":["bh2"]},"application/vnd.fujixerox.art-ex":{"source":"iana"},"application/vnd.fujixerox.art4":{"source":"iana"},"application/vnd.fujixerox.ddd":{"source":"iana","extensions":["ddd"]},"application/vnd.fujixerox.docuworks":{"source":"iana","extensions":["xdw"]},"application/vnd.fujixerox.docuworks.binder":{"source":"iana","extensions":["xbd"]},"application/vnd.fujixerox.docuworks.container":{"source":"iana"},"application/vnd.fujixerox.hbpl":{"source":"iana"},"application/vnd.fut-misnet":{"source":"iana"},"application/vnd.futoin+cbor":{"source":"iana"},"application/vnd.futoin+json":{"source":"iana","compressible":true},"application/vnd.fuzzysheet":{"source":"iana","extensions":["fzs"]},"application/vnd.ga4gh.passport+jwt":{"source":"iana"},"application/vnd.genomatix.tuxedo":{"source":"iana","extensions":["txd"]},"application/vnd.genozip":{"source":"iana"},"application/vnd.gentics.grd+json":{"source":"iana","compressible":true},"application/vnd.gentoo.catmetadata+xml":{"source":"iana","compressible":true},"application/vnd.gentoo.ebuild":{"source":"iana"},"application/vnd.gentoo.eclass":{"source":"iana"},"application/vnd.gentoo.gpkg":{"source":"iana"},"application/vnd.gentoo.manifest":{"source":"iana"},"application/vnd.gentoo.pkgmetadata+xml":{"source":"iana","compressible":true},"application/vnd.gentoo.xpak":{"source":"iana"},"application/vnd.geo+json":{"source":"apache","compressible":true},"application/vnd.geocube+xml":{"source":"apache","compressible":true},"application/vnd.geogebra.file":{"source":"iana","extensions":["ggb"]},"application/vnd.geogebra.pinboard":{"source":"iana"},"application/vnd.geogebra.slides":{"source":"iana","extensions":["ggs"]},"application/vnd.geogebra.tool":{"source":"iana","extensions":["ggt"]},"application/vnd.geometry-explorer":{"source":"iana","extensions":["gex","gre"]},"application/vnd.geonext":{"source":"iana","extensions":["gxt"]},"application/vnd.geoplan":{"source":"iana","extensions":["g2w"]},"application/vnd.geospace":{"source":"iana","extensions":["g3w"]},"application/vnd.gerber":{"source":"iana"},"application/vnd.globalplatform.card-content-mgt":{"source":"iana"},"application/vnd.globalplatform.card-content-mgt-response":{"source":"iana"},"application/vnd.gmx":{"source":"iana","extensions":["gmx"]},"application/vnd.gnu.taler.exchange+json":{"source":"iana","compressible":true},"application/vnd.gnu.taler.merchant+json":{"source":"iana","compressible":true},"application/vnd.google-apps.audio":{},"application/vnd.google-apps.document":{"compressible":false,"extensions":["gdoc"]},"application/vnd.google-apps.drawing":{"compressible":false,"extensions":["gdraw"]},"application/vnd.google-apps.drive-sdk":{"compressible":false},"application/vnd.google-apps.file":{},"application/vnd.google-apps.folder":{"compressible":false},"application/vnd.google-apps.form":{"compressible":false,"extensions":["gform"]},"application/vnd.google-apps.fusiontable":{},"application/vnd.google-apps.jam":{"compressible":false,"extensions":["gjam"]},"application/vnd.google-apps.mail-layout":{},"application/vnd.google-apps.map":{"compressible":false,"extensions":["gmap"]},"application/vnd.google-apps.photo":{},"application/vnd.google-apps.presentation":{"compressible":false,"extensions":["gslides"]},"application/vnd.google-apps.script":{"compressible":false,"extensions":["gscript"]},"application/vnd.google-apps.shortcut":{},"application/vnd.google-apps.site":{"compressible":false,"extensions":["gsite"]},"application/vnd.google-apps.spreadsheet":{"compressible":false,"extensions":["gsheet"]},"application/vnd.google-apps.unknown":{},"application/vnd.google-apps.video":{},"application/vnd.google-earth.kml+xml":{"source":"iana","compressible":true,"extensions":["kml"]},"application/vnd.google-earth.kmz":{"source":"iana","compressible":false,"extensions":["kmz"]},"application/vnd.gov.sk.e-form+xml":{"source":"apache","compressible":true},"application/vnd.gov.sk.e-form+zip":{"source":"iana","compressible":false},"application/vnd.gov.sk.xmldatacontainer+xml":{"source":"iana","compressible":true,"extensions":["xdcf"]},"application/vnd.gpxsee.map+xml":{"source":"iana","compressible":true},"application/vnd.grafeq":{"source":"iana","extensions":["gqf","gqs"]},"application/vnd.gridmp":{"source":"iana"},"application/vnd.groove-account":{"source":"iana","extensions":["gac"]},"application/vnd.groove-help":{"source":"iana","extensions":["ghf"]},"application/vnd.groove-identity-message":{"source":"iana","extensions":["gim"]},"application/vnd.groove-injector":{"source":"iana","extensions":["grv"]},"application/vnd.groove-tool-message":{"source":"iana","extensions":["gtm"]},"application/vnd.groove-tool-template":{"source":"iana","extensions":["tpl"]},"application/vnd.groove-vcard":{"source":"iana","extensions":["vcg"]},"application/vnd.hal+json":{"source":"iana","compressible":true},"application/vnd.hal+xml":{"source":"iana","compressible":true,"extensions":["hal"]},"application/vnd.handheld-entertainment+xml":{"source":"iana","compressible":true,"extensions":["zmm"]},"application/vnd.hbci":{"source":"iana","extensions":["hbci"]},"application/vnd.hc+json":{"source":"iana","compressible":true},"application/vnd.hcl-bireports":{"source":"iana"},"application/vnd.hdt":{"source":"iana"},"application/vnd.heroku+json":{"source":"iana","compressible":true},"application/vnd.hhe.lesson-player":{"source":"iana","extensions":["les"]},"application/vnd.hp-hpgl":{"source":"iana","extensions":["hpgl"]},"application/vnd.hp-hpid":{"source":"iana","extensions":["hpid"]},"application/vnd.hp-hps":{"source":"iana","extensions":["hps"]},"application/vnd.hp-jlyt":{"source":"iana","extensions":["jlt"]},"application/vnd.hp-pcl":{"source":"iana","extensions":["pcl"]},"application/vnd.hp-pclxl":{"source":"iana","extensions":["pclxl"]},"application/vnd.hsl":{"source":"iana"},"application/vnd.httphone":{"source":"iana"},"application/vnd.hydrostatix.sof-data":{"source":"iana","extensions":["sfd-hdstx"]},"application/vnd.hyper+json":{"source":"iana","compressible":true},"application/vnd.hyper-item+json":{"source":"iana","compressible":true},"application/vnd.hyperdrive+json":{"source":"iana","compressible":true},"application/vnd.hzn-3d-crossword":{"source":"iana"},"application/vnd.ibm.afplinedata":{"source":"apache"},"application/vnd.ibm.electronic-media":{"source":"iana"},"application/vnd.ibm.minipay":{"source":"iana","extensions":["mpy"]},"application/vnd.ibm.modcap":{"source":"apache","extensions":["afp","listafp","list3820"]},"application/vnd.ibm.rights-management":{"source":"iana","extensions":["irm"]},"application/vnd.ibm.secure-container":{"source":"iana","extensions":["sc"]},"application/vnd.iccprofile":{"source":"iana","extensions":["icc","icm"]},"application/vnd.ieee.1905":{"source":"iana"},"application/vnd.igloader":{"source":"iana","extensions":["igl"]},"application/vnd.imagemeter.folder+zip":{"source":"iana","compressible":false},"application/vnd.imagemeter.image+zip":{"source":"iana","compressible":false},"application/vnd.immervision-ivp":{"source":"iana","extensions":["ivp"]},"application/vnd.immervision-ivu":{"source":"iana","extensions":["ivu"]},"application/vnd.ims.imsccv1p1":{"source":"iana"},"application/vnd.ims.imsccv1p2":{"source":"iana"},"application/vnd.ims.imsccv1p3":{"source":"iana"},"application/vnd.ims.lis.v2.result+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolconsumerprofile+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolproxy+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolproxy.id+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolsettings+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolsettings.simple+json":{"source":"iana","compressible":true},"application/vnd.informedcontrol.rms+xml":{"source":"iana","compressible":true},"application/vnd.informix-visionary":{"source":"apache"},"application/vnd.infotech.project":{"source":"iana"},"application/vnd.infotech.project+xml":{"source":"iana","compressible":true},"application/vnd.innopath.wamp.notification":{"source":"iana"},"application/vnd.insors.igm":{"source":"iana","extensions":["igm"]},"application/vnd.intercon.formnet":{"source":"iana","extensions":["xpw","xpx"]},"application/vnd.intergeo":{"source":"iana","extensions":["i2g"]},"application/vnd.intertrust.digibox":{"source":"iana"},"application/vnd.intertrust.nncp":{"source":"iana"},"application/vnd.intu.qbo":{"source":"iana","extensions":["qbo"]},"application/vnd.intu.qfx":{"source":"iana","extensions":["qfx"]},"application/vnd.ipfs.ipns-record":{"source":"iana"},"application/vnd.ipld.car":{"source":"iana"},"application/vnd.ipld.dag-cbor":{"source":"iana"},"application/vnd.ipld.dag-json":{"source":"iana"},"application/vnd.ipld.raw":{"source":"iana"},"application/vnd.iptc.g2.catalogitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.conceptitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.knowledgeitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.newsitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.newsmessage+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.packageitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.planningitem+xml":{"source":"iana","compressible":true},"application/vnd.ipunplugged.rcprofile":{"source":"iana","extensions":["rcprofile"]},"application/vnd.irepository.package+xml":{"source":"iana","compressible":true,"extensions":["irp"]},"application/vnd.is-xpr":{"source":"iana","extensions":["xpr"]},"application/vnd.isac.fcs":{"source":"iana","extensions":["fcs"]},"application/vnd.iso11783-10+zip":{"source":"iana","compressible":false},"application/vnd.jam":{"source":"iana","extensions":["jam"]},"application/vnd.japannet-directory-service":{"source":"iana"},"application/vnd.japannet-jpnstore-wakeup":{"source":"iana"},"application/vnd.japannet-payment-wakeup":{"source":"iana"},"application/vnd.japannet-registration":{"source":"iana"},"application/vnd.japannet-registration-wakeup":{"source":"iana"},"application/vnd.japannet-setstore-wakeup":{"source":"iana"},"application/vnd.japannet-verification":{"source":"iana"},"application/vnd.japannet-verification-wakeup":{"source":"iana"},"application/vnd.jcp.javame.midlet-rms":{"source":"iana","extensions":["rms"]},"application/vnd.jisp":{"source":"iana","extensions":["jisp"]},"application/vnd.joost.joda-archive":{"source":"iana","extensions":["joda"]},"application/vnd.jsk.isdn-ngn":{"source":"iana"},"application/vnd.kahootz":{"source":"iana","extensions":["ktz","ktr"]},"application/vnd.kde.karbon":{"source":"iana","extensions":["karbon"]},"application/vnd.kde.kchart":{"source":"iana","extensions":["chrt"]},"application/vnd.kde.kformula":{"source":"iana","extensions":["kfo"]},"application/vnd.kde.kivio":{"source":"iana","extensions":["flw"]},"application/vnd.kde.kontour":{"source":"iana","extensions":["kon"]},"application/vnd.kde.kpresenter":{"source":"iana","extensions":["kpr","kpt"]},"application/vnd.kde.kspread":{"source":"iana","extensions":["ksp"]},"application/vnd.kde.kword":{"source":"iana","extensions":["kwd","kwt"]},"application/vnd.kdl":{"source":"iana"},"application/vnd.kenameaapp":{"source":"iana","extensions":["htke"]},"application/vnd.keyman.kmp+zip":{"source":"iana","compressible":false},"application/vnd.keyman.kmx":{"source":"iana"},"application/vnd.kidspiration":{"source":"iana","extensions":["kia"]},"application/vnd.kinar":{"source":"iana","extensions":["kne","knp"]},"application/vnd.koan":{"source":"iana","extensions":["skp","skd","skt","skm"]},"application/vnd.kodak-descriptor":{"source":"iana","extensions":["sse"]},"application/vnd.las":{"source":"iana"},"application/vnd.las.las+json":{"source":"iana","compressible":true},"application/vnd.las.las+xml":{"source":"iana","compressible":true,"extensions":["lasxml"]},"application/vnd.laszip":{"source":"iana"},"application/vnd.ldev.productlicensing":{"source":"iana"},"application/vnd.leap+json":{"source":"iana","compressible":true},"application/vnd.liberty-request+xml":{"source":"iana","compressible":true},"application/vnd.llamagraphics.life-balance.desktop":{"source":"iana","extensions":["lbd"]},"application/vnd.llamagraphics.life-balance.exchange+xml":{"source":"iana","compressible":true,"extensions":["lbe"]},"application/vnd.logipipe.circuit+zip":{"source":"iana","compressible":false},"application/vnd.loom":{"source":"iana"},"application/vnd.lotus-1-2-3":{"source":"iana","extensions":["123"]},"application/vnd.lotus-approach":{"source":"iana","extensions":["apr"]},"application/vnd.lotus-freelance":{"source":"iana","extensions":["pre"]},"application/vnd.lotus-notes":{"source":"iana","extensions":["nsf"]},"application/vnd.lotus-organizer":{"source":"iana","extensions":["org"]},"application/vnd.lotus-screencam":{"source":"iana","extensions":["scm"]},"application/vnd.lotus-wordpro":{"source":"iana","extensions":["lwp"]},"application/vnd.macports.portpkg":{"source":"iana","extensions":["portpkg"]},"application/vnd.mapbox-vector-tile":{"source":"iana","extensions":["mvt"]},"application/vnd.marlin.drm.actiontoken+xml":{"source":"iana","compressible":true},"application/vnd.marlin.drm.conftoken+xml":{"source":"iana","compressible":true},"application/vnd.marlin.drm.license+xml":{"source":"iana","compressible":true},"application/vnd.marlin.drm.mdcf":{"source":"iana"},"application/vnd.mason+json":{"source":"iana","compressible":true},"application/vnd.maxar.archive.3tz+zip":{"source":"iana","compressible":false},"application/vnd.maxmind.maxmind-db":{"source":"iana"},"application/vnd.mcd":{"source":"iana","extensions":["mcd"]},"application/vnd.mdl":{"source":"iana"},"application/vnd.mdl-mbsdf":{"source":"iana"},"application/vnd.medcalcdata":{"source":"iana","extensions":["mc1"]},"application/vnd.mediastation.cdkey":{"source":"iana","extensions":["cdkey"]},"application/vnd.medicalholodeck.recordxr":{"source":"iana"},"application/vnd.meridian-slingshot":{"source":"iana"},"application/vnd.mermaid":{"source":"iana"},"application/vnd.mfer":{"source":"iana","extensions":["mwf"]},"application/vnd.mfmp":{"source":"iana","extensions":["mfm"]},"application/vnd.micro+json":{"source":"iana","compressible":true},"application/vnd.micrografx.flo":{"source":"iana","extensions":["flo"]},"application/vnd.micrografx.igx":{"source":"iana","extensions":["igx"]},"application/vnd.microsoft.portable-executable":{"source":"iana"},"application/vnd.microsoft.windows.thumbnail-cache":{"source":"iana"},"application/vnd.miele+json":{"source":"iana","compressible":true},"application/vnd.mif":{"source":"iana","extensions":["mif"]},"application/vnd.minisoft-hp3000-save":{"source":"iana"},"application/vnd.mitsubishi.misty-guard.trustweb":{"source":"iana"},"application/vnd.mobius.daf":{"source":"iana","extensions":["daf"]},"application/vnd.mobius.dis":{"source":"iana","extensions":["dis"]},"application/vnd.mobius.mbk":{"source":"iana","extensions":["mbk"]},"application/vnd.mobius.mqy":{"source":"iana","extensions":["mqy"]},"application/vnd.mobius.msl":{"source":"iana","extensions":["msl"]},"application/vnd.mobius.plc":{"source":"iana","extensions":["plc"]},"application/vnd.mobius.txf":{"source":"iana","extensions":["txf"]},"application/vnd.modl":{"source":"iana"},"application/vnd.mophun.application":{"source":"iana","extensions":["mpn"]},"application/vnd.mophun.certificate":{"source":"iana","extensions":["mpc"]},"application/vnd.motorola.flexsuite":{"source":"iana"},"application/vnd.motorola.flexsuite.adsi":{"source":"iana"},"application/vnd.motorola.flexsuite.fis":{"source":"iana"},"application/vnd.motorola.flexsuite.gotap":{"source":"iana"},"application/vnd.motorola.flexsuite.kmr":{"source":"iana"},"application/vnd.motorola.flexsuite.ttc":{"source":"iana"},"application/vnd.motorola.flexsuite.wem":{"source":"iana"},"application/vnd.motorola.iprm":{"source":"iana"},"application/vnd.mozilla.xul+xml":{"source":"iana","compressible":true,"extensions":["xul"]},"application/vnd.ms-3mfdocument":{"source":"iana"},"application/vnd.ms-artgalry":{"source":"iana","extensions":["cil"]},"application/vnd.ms-asf":{"source":"iana"},"application/vnd.ms-cab-compressed":{"source":"iana","extensions":["cab"]},"application/vnd.ms-color.iccprofile":{"source":"apache"},"application/vnd.ms-excel":{"source":"iana","compressible":false,"extensions":["xls","xlm","xla","xlc","xlt","xlw"]},"application/vnd.ms-excel.addin.macroenabled.12":{"source":"iana","extensions":["xlam"]},"application/vnd.ms-excel.sheet.binary.macroenabled.12":{"source":"iana","extensions":["xlsb"]},"application/vnd.ms-excel.sheet.macroenabled.12":{"source":"iana","extensions":["xlsm"]},"application/vnd.ms-excel.template.macroenabled.12":{"source":"iana","extensions":["xltm"]},"application/vnd.ms-fontobject":{"source":"iana","compressible":true,"extensions":["eot"]},"application/vnd.ms-htmlhelp":{"source":"iana","extensions":["chm"]},"application/vnd.ms-ims":{"source":"iana","extensions":["ims"]},"application/vnd.ms-lrm":{"source":"iana","extensions":["lrm"]},"application/vnd.ms-office.activex+xml":{"source":"iana","compressible":true},"application/vnd.ms-officetheme":{"source":"iana","extensions":["thmx"]},"application/vnd.ms-opentype":{"source":"apache","compressible":true},"application/vnd.ms-outlook":{"compressible":false,"extensions":["msg"]},"application/vnd.ms-package.obfuscated-opentype":{"source":"apache"},"application/vnd.ms-pki.seccat":{"source":"apache","extensions":["cat"]},"application/vnd.ms-pki.stl":{"source":"apache","extensions":["stl"]},"application/vnd.ms-playready.initiator+xml":{"source":"iana","compressible":true},"application/vnd.ms-powerpoint":{"source":"iana","compressible":false,"extensions":["ppt","pps","pot"]},"application/vnd.ms-powerpoint.addin.macroenabled.12":{"source":"iana","extensions":["ppam"]},"application/vnd.ms-powerpoint.presentation.macroenabled.12":{"source":"iana","extensions":["pptm"]},"application/vnd.ms-powerpoint.slide.macroenabled.12":{"source":"iana","extensions":["sldm"]},"application/vnd.ms-powerpoint.slideshow.macroenabled.12":{"source":"iana","extensions":["ppsm"]},"application/vnd.ms-powerpoint.template.macroenabled.12":{"source":"iana","extensions":["potm"]},"application/vnd.ms-printdevicecapabilities+xml":{"source":"iana","compressible":true},"application/vnd.ms-printing.printticket+xml":{"source":"apache","compressible":true},"application/vnd.ms-printschematicket+xml":{"source":"iana","compressible":true},"application/vnd.ms-project":{"source":"iana","extensions":["mpp","mpt"]},"application/vnd.ms-tnef":{"source":"iana"},"application/vnd.ms-visio.viewer":{"extensions":["vdx"]},"application/vnd.ms-windows.devicepairing":{"source":"iana"},"application/vnd.ms-windows.nwprinting.oob":{"source":"iana"},"application/vnd.ms-windows.printerpairing":{"source":"iana"},"application/vnd.ms-windows.wsd.oob":{"source":"iana"},"application/vnd.ms-wmdrm.lic-chlg-req":{"source":"iana"},"application/vnd.ms-wmdrm.lic-resp":{"source":"iana"},"application/vnd.ms-wmdrm.meter-chlg-req":{"source":"iana"},"application/vnd.ms-wmdrm.meter-resp":{"source":"iana"},"application/vnd.ms-word.document.macroenabled.12":{"source":"iana","extensions":["docm"]},"application/vnd.ms-word.template.macroenabled.12":{"source":"iana","extensions":["dotm"]},"application/vnd.ms-works":{"source":"iana","extensions":["wps","wks","wcm","wdb"]},"application/vnd.ms-wpl":{"source":"iana","extensions":["wpl"]},"application/vnd.ms-xpsdocument":{"source":"iana","compressible":false,"extensions":["xps"]},"application/vnd.msa-disk-image":{"source":"iana"},"application/vnd.mseq":{"source":"iana","extensions":["mseq"]},"application/vnd.msgpack":{"source":"iana"},"application/vnd.msign":{"source":"iana"},"application/vnd.multiad.creator":{"source":"iana"},"application/vnd.multiad.creator.cif":{"source":"iana"},"application/vnd.music-niff":{"source":"iana"},"application/vnd.musician":{"source":"iana","extensions":["mus"]},"application/vnd.muvee.style":{"source":"iana","extensions":["msty"]},"application/vnd.mynfc":{"source":"iana","extensions":["taglet"]},"application/vnd.nacamar.ybrid+json":{"source":"iana","compressible":true},"application/vnd.nato.bindingdataobject+cbor":{"source":"iana"},"application/vnd.nato.bindingdataobject+json":{"source":"iana","compressible":true},"application/vnd.nato.bindingdataobject+xml":{"source":"iana","compressible":true,"extensions":["bdo"]},"application/vnd.nato.openxmlformats-package.iepd+zip":{"source":"iana","compressible":false},"application/vnd.ncd.control":{"source":"iana"},"application/vnd.ncd.reference":{"source":"iana"},"application/vnd.nearst.inv+json":{"source":"iana","compressible":true},"application/vnd.nebumind.line":{"source":"iana"},"application/vnd.nervana":{"source":"iana"},"application/vnd.netfpx":{"source":"iana"},"application/vnd.neurolanguage.nlu":{"source":"iana","extensions":["nlu"]},"application/vnd.nimn":{"source":"iana"},"application/vnd.nintendo.nitro.rom":{"source":"iana"},"application/vnd.nintendo.snes.rom":{"source":"iana"},"application/vnd.nitf":{"source":"iana","extensions":["ntf","nitf"]},"application/vnd.noblenet-directory":{"source":"iana","extensions":["nnd"]},"application/vnd.noblenet-sealer":{"source":"iana","extensions":["nns"]},"application/vnd.noblenet-web":{"source":"iana","extensions":["nnw"]},"application/vnd.nokia.catalogs":{"source":"iana"},"application/vnd.nokia.conml+wbxml":{"source":"iana"},"application/vnd.nokia.conml+xml":{"source":"iana","compressible":true},"application/vnd.nokia.iptv.config+xml":{"source":"iana","compressible":true},"application/vnd.nokia.isds-radio-presets":{"source":"iana"},"application/vnd.nokia.landmark+wbxml":{"source":"iana"},"application/vnd.nokia.landmark+xml":{"source":"iana","compressible":true},"application/vnd.nokia.landmarkcollection+xml":{"source":"iana","compressible":true},"application/vnd.nokia.n-gage.ac+xml":{"source":"iana","compressible":true,"extensions":["ac"]},"application/vnd.nokia.n-gage.data":{"source":"iana","extensions":["ngdat"]},"application/vnd.nokia.n-gage.symbian.install":{"source":"apache","extensions":["n-gage"]},"application/vnd.nokia.ncd":{"source":"iana"},"application/vnd.nokia.pcd+wbxml":{"source":"iana"},"application/vnd.nokia.pcd+xml":{"source":"iana","compressible":true},"application/vnd.nokia.radio-preset":{"source":"iana","extensions":["rpst"]},"application/vnd.nokia.radio-presets":{"source":"iana","extensions":["rpss"]},"application/vnd.novadigm.edm":{"source":"iana","extensions":["edm"]},"application/vnd.novadigm.edx":{"source":"iana","extensions":["edx"]},"application/vnd.novadigm.ext":{"source":"iana","extensions":["ext"]},"application/vnd.ntt-local.content-share":{"source":"iana"},"application/vnd.ntt-local.file-transfer":{"source":"iana"},"application/vnd.ntt-local.ogw_remote-access":{"source":"iana"},"application/vnd.ntt-local.sip-ta_remote":{"source":"iana"},"application/vnd.ntt-local.sip-ta_tcp_stream":{"source":"iana"},"application/vnd.oai.workflows":{"source":"iana"},"application/vnd.oai.workflows+json":{"source":"iana","compressible":true},"application/vnd.oai.workflows+yaml":{"source":"iana"},"application/vnd.oasis.opendocument.base":{"source":"iana"},"application/vnd.oasis.opendocument.chart":{"source":"iana","extensions":["odc"]},"application/vnd.oasis.opendocument.chart-template":{"source":"iana","extensions":["otc"]},"application/vnd.oasis.opendocument.database":{"source":"apache","extensions":["odb"]},"application/vnd.oasis.opendocument.formula":{"source":"iana","extensions":["odf"]},"application/vnd.oasis.opendocument.formula-template":{"source":"iana","extensions":["odft"]},"application/vnd.oasis.opendocument.graphics":{"source":"iana","compressible":false,"extensions":["odg"]},"application/vnd.oasis.opendocument.graphics-template":{"source":"iana","extensions":["otg"]},"application/vnd.oasis.opendocument.image":{"source":"iana","extensions":["odi"]},"application/vnd.oasis.opendocument.image-template":{"source":"iana","extensions":["oti"]},"application/vnd.oasis.opendocument.presentation":{"source":"iana","compressible":false,"extensions":["odp"]},"application/vnd.oasis.opendocument.presentation-template":{"source":"iana","extensions":["otp"]},"application/vnd.oasis.opendocument.spreadsheet":{"source":"iana","compressible":false,"extensions":["ods"]},"application/vnd.oasis.opendocument.spreadsheet-template":{"source":"iana","extensions":["ots"]},"application/vnd.oasis.opendocument.text":{"source":"iana","compressible":false,"extensions":["odt"]},"application/vnd.oasis.opendocument.text-master":{"source":"iana","extensions":["odm"]},"application/vnd.oasis.opendocument.text-master-template":{"source":"iana"},"application/vnd.oasis.opendocument.text-template":{"source":"iana","extensions":["ott"]},"application/vnd.oasis.opendocument.text-web":{"source":"iana","extensions":["oth"]},"application/vnd.obn":{"source":"iana"},"application/vnd.ocf+cbor":{"source":"iana"},"application/vnd.oci.image.manifest.v1+json":{"source":"iana","compressible":true},"application/vnd.oftn.l10n+json":{"source":"iana","compressible":true},"application/vnd.oipf.contentaccessdownload+xml":{"source":"iana","compressible":true},"application/vnd.oipf.contentaccessstreaming+xml":{"source":"iana","compressible":true},"application/vnd.oipf.cspg-hexbinary":{"source":"iana"},"application/vnd.oipf.dae.svg+xml":{"source":"iana","compressible":true},"application/vnd.oipf.dae.xhtml+xml":{"source":"iana","compressible":true},"application/vnd.oipf.mippvcontrolmessage+xml":{"source":"iana","compressible":true},"application/vnd.oipf.pae.gem":{"source":"iana"},"application/vnd.oipf.spdiscovery+xml":{"source":"iana","compressible":true},"application/vnd.oipf.spdlist+xml":{"source":"iana","compressible":true},"application/vnd.oipf.ueprofile+xml":{"source":"iana","compressible":true},"application/vnd.oipf.userprofile+xml":{"source":"iana","compressible":true},"application/vnd.olpc-sugar":{"source":"iana","extensions":["xo"]},"application/vnd.oma-scws-config":{"source":"iana"},"application/vnd.oma-scws-http-request":{"source":"iana"},"application/vnd.oma-scws-http-response":{"source":"iana"},"application/vnd.oma.bcast.associated-procedure-parameter+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.drm-trigger+xml":{"source":"apache","compressible":true},"application/vnd.oma.bcast.imd+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.ltkm":{"source":"iana"},"application/vnd.oma.bcast.notification+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.provisioningtrigger":{"source":"iana"},"application/vnd.oma.bcast.sgboot":{"source":"iana"},"application/vnd.oma.bcast.sgdd+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.sgdu":{"source":"iana"},"application/vnd.oma.bcast.simple-symbol-container":{"source":"iana"},"application/vnd.oma.bcast.smartcard-trigger+xml":{"source":"apache","compressible":true},"application/vnd.oma.bcast.sprov+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.stkm":{"source":"iana"},"application/vnd.oma.cab-address-book+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-feature-handler+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-pcc+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-subs-invite+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-user-prefs+xml":{"source":"iana","compressible":true},"application/vnd.oma.dcd":{"source":"iana"},"application/vnd.oma.dcdc":{"source":"iana"},"application/vnd.oma.dd2+xml":{"source":"iana","compressible":true,"extensions":["dd2"]},"application/vnd.oma.drm.risd+xml":{"source":"iana","compressible":true},"application/vnd.oma.group-usage-list+xml":{"source":"iana","compressible":true},"application/vnd.oma.lwm2m+cbor":{"source":"iana"},"application/vnd.oma.lwm2m+json":{"source":"iana","compressible":true},"application/vnd.oma.lwm2m+tlv":{"source":"iana"},"application/vnd.oma.pal+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.detailed-progress-report+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.final-report+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.groups+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.invocation-descriptor+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.optimized-progress-report+xml":{"source":"iana","compressible":true},"application/vnd.oma.push":{"source":"iana"},"application/vnd.oma.scidm.messages+xml":{"source":"iana","compressible":true},"application/vnd.oma.xcap-directory+xml":{"source":"iana","compressible":true},"application/vnd.omads-email+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.omads-file+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.omads-folder+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.omaloc-supl-init":{"source":"iana"},"application/vnd.onepager":{"source":"iana"},"application/vnd.onepagertamp":{"source":"iana"},"application/vnd.onepagertamx":{"source":"iana"},"application/vnd.onepagertat":{"source":"iana"},"application/vnd.onepagertatp":{"source":"iana"},"application/vnd.onepagertatx":{"source":"iana"},"application/vnd.onvif.metadata":{"source":"iana"},"application/vnd.openblox.game+xml":{"source":"iana","compressible":true,"extensions":["obgx"]},"application/vnd.openblox.game-binary":{"source":"iana"},"application/vnd.openeye.oeb":{"source":"iana"},"application/vnd.openofficeorg.extension":{"source":"apache","extensions":["oxt"]},"application/vnd.openstreetmap.data+xml":{"source":"iana","compressible":true,"extensions":["osm"]},"application/vnd.opentimestamps.ots":{"source":"iana"},"application/vnd.openvpi.dspx+json":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.custom-properties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.customxmlproperties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawing+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.chart+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramcolors+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramdata+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramlayout+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramstyle+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.extended-properties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.commentauthors+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.comments+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.handoutmaster+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.notesmaster+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.notesslide+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{"source":"iana","compressible":false,"extensions":["pptx"]},"application/vnd.openxmlformats-officedocument.presentationml.presentation.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.presprops+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slide":{"source":"iana","extensions":["sldx"]},"application/vnd.openxmlformats-officedocument.presentationml.slide+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slidelayout+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slidemaster+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slideshow":{"source":"iana","extensions":["ppsx"]},"application/vnd.openxmlformats-officedocument.presentationml.slideshow.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slideupdateinfo+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.tablestyles+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.tags+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.template":{"source":"iana","extensions":["potx"]},"application/vnd.openxmlformats-officedocument.presentationml.template.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.viewprops+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.calcchain+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.externallink+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcachedefinition+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcacherecords+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivottable+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.querytable+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionheaders+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionlog+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedstrings+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{"source":"iana","compressible":false,"extensions":["xlsx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetmetadata+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.tablesinglecells+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.template":{"source":"iana","extensions":["xltx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.usernames+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.volatiledependencies+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.theme+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.themeoverride+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.vmldrawing":{"source":"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{"source":"iana","compressible":false,"extensions":["docx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.glossary+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.endnotes+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.fonttable+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.template":{"source":"iana","extensions":["dotx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.template.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.websettings+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-package.core-properties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-package.digital-signature-xmlsignature+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-package.relationships+xml":{"source":"iana","compressible":true},"application/vnd.oracle.resource+json":{"source":"iana","compressible":true},"application/vnd.orange.indata":{"source":"iana"},"application/vnd.osa.netdeploy":{"source":"iana"},"application/vnd.osgeo.mapguide.package":{"source":"iana","extensions":["mgp"]},"application/vnd.osgi.bundle":{"source":"iana"},"application/vnd.osgi.dp":{"source":"iana","extensions":["dp"]},"application/vnd.osgi.subsystem":{"source":"iana","extensions":["esa"]},"application/vnd.otps.ct-kip+xml":{"source":"iana","compressible":true},"application/vnd.oxli.countgraph":{"source":"iana"},"application/vnd.pagerduty+json":{"source":"iana","compressible":true},"application/vnd.palm":{"source":"iana","extensions":["pdb","pqa","oprc"]},"application/vnd.panoply":{"source":"iana"},"application/vnd.paos.xml":{"source":"iana"},"application/vnd.patentdive":{"source":"iana"},"application/vnd.patientecommsdoc":{"source":"iana"},"application/vnd.pawaafile":{"source":"iana","extensions":["paw"]},"application/vnd.pcos":{"source":"iana"},"application/vnd.pg.format":{"source":"iana","extensions":["str"]},"application/vnd.pg.osasli":{"source":"iana","extensions":["ei6"]},"application/vnd.piaccess.application-licence":{"source":"iana"},"application/vnd.picsel":{"source":"iana","extensions":["efif"]},"application/vnd.pmi.widget":{"source":"iana","extensions":["wg"]},"application/vnd.poc.group-advertisement+xml":{"source":"iana","compressible":true},"application/vnd.pocketlearn":{"source":"iana","extensions":["plf"]},"application/vnd.powerbuilder6":{"source":"iana","extensions":["pbd"]},"application/vnd.powerbuilder6-s":{"source":"iana"},"application/vnd.powerbuilder7":{"source":"iana"},"application/vnd.powerbuilder7-s":{"source":"iana"},"application/vnd.powerbuilder75":{"source":"iana"},"application/vnd.powerbuilder75-s":{"source":"iana"},"application/vnd.preminet":{"source":"iana"},"application/vnd.previewsystems.box":{"source":"iana","extensions":["box"]},"application/vnd.procrate.brushset":{"extensions":["brushset"]},"application/vnd.procreate.brush":{"extensions":["brush"]},"application/vnd.procreate.dream":{"extensions":["drm"]},"application/vnd.proteus.magazine":{"source":"iana","extensions":["mgz"]},"application/vnd.psfs":{"source":"iana"},"application/vnd.pt.mundusmundi":{"source":"iana"},"application/vnd.publishare-delta-tree":{"source":"iana","extensions":["qps"]},"application/vnd.pvi.ptid1":{"source":"iana","extensions":["ptid"]},"application/vnd.pwg-multiplexed":{"source":"iana"},"application/vnd.pwg-xhtml-print+xml":{"source":"iana","compressible":true,"extensions":["xhtm"]},"application/vnd.qualcomm.brew-app-res":{"source":"iana"},"application/vnd.quarantainenet":{"source":"iana"},"application/vnd.quark.quarkxpress":{"source":"iana","extensions":["qxd","qxt","qwd","qwt","qxl","qxb"]},"application/vnd.quobject-quoxdocument":{"source":"iana"},"application/vnd.radisys.moml+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-conf+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-conn+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-dialog+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-stream+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-conf+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-base+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-fax-detect+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-fax-sendrecv+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-group+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-speech+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-transform+xml":{"source":"iana","compressible":true},"application/vnd.rainstor.data":{"source":"iana"},"application/vnd.rapid":{"source":"iana"},"application/vnd.rar":{"source":"iana","extensions":["rar"]},"application/vnd.realvnc.bed":{"source":"iana","extensions":["bed"]},"application/vnd.recordare.musicxml":{"source":"iana","extensions":["mxl"]},"application/vnd.recordare.musicxml+xml":{"source":"iana","compressible":true,"extensions":["musicxml"]},"application/vnd.relpipe":{"source":"iana"},"application/vnd.renlearn.rlprint":{"source":"iana"},"application/vnd.resilient.logic":{"source":"iana"},"application/vnd.restful+json":{"source":"iana","compressible":true},"application/vnd.rig.cryptonote":{"source":"iana","extensions":["cryptonote"]},"application/vnd.rim.cod":{"source":"apache","extensions":["cod"]},"application/vnd.rn-realmedia":{"source":"apache","extensions":["rm"]},"application/vnd.rn-realmedia-vbr":{"source":"apache","extensions":["rmvb"]},"application/vnd.route66.link66+xml":{"source":"iana","compressible":true,"extensions":["link66"]},"application/vnd.rs-274x":{"source":"iana"},"application/vnd.ruckus.download":{"source":"iana"},"application/vnd.s3sms":{"source":"iana"},"application/vnd.sailingtracker.track":{"source":"iana","extensions":["st"]},"application/vnd.sar":{"source":"iana"},"application/vnd.sbm.cid":{"source":"iana"},"application/vnd.sbm.mid2":{"source":"iana"},"application/vnd.scribus":{"source":"iana"},"application/vnd.sealed.3df":{"source":"iana"},"application/vnd.sealed.csf":{"source":"iana"},"application/vnd.sealed.doc":{"source":"iana"},"application/vnd.sealed.eml":{"source":"iana"},"application/vnd.sealed.mht":{"source":"iana"},"application/vnd.sealed.net":{"source":"iana"},"application/vnd.sealed.ppt":{"source":"iana"},"application/vnd.sealed.tiff":{"source":"iana"},"application/vnd.sealed.xls":{"source":"iana"},"application/vnd.sealedmedia.softseal.html":{"source":"iana"},"application/vnd.sealedmedia.softseal.pdf":{"source":"iana"},"application/vnd.seemail":{"source":"iana","extensions":["see"]},"application/vnd.seis+json":{"source":"iana","compressible":true},"application/vnd.sema":{"source":"iana","extensions":["sema"]},"application/vnd.semd":{"source":"iana","extensions":["semd"]},"application/vnd.semf":{"source":"iana","extensions":["semf"]},"application/vnd.shade-save-file":{"source":"iana"},"application/vnd.shana.informed.formdata":{"source":"iana","extensions":["ifm"]},"application/vnd.shana.informed.formtemplate":{"source":"iana","extensions":["itp"]},"application/vnd.shana.informed.interchange":{"source":"iana","extensions":["iif"]},"application/vnd.shana.informed.package":{"source":"iana","extensions":["ipk"]},"application/vnd.shootproof+json":{"source":"iana","compressible":true},"application/vnd.shopkick+json":{"source":"iana","compressible":true},"application/vnd.shp":{"source":"iana"},"application/vnd.shx":{"source":"iana"},"application/vnd.sigrok.session":{"source":"iana"},"application/vnd.simtech-mindmapper":{"source":"iana","extensions":["twd","twds"]},"application/vnd.siren+json":{"source":"iana","compressible":true},"application/vnd.sketchometry":{"source":"iana"},"application/vnd.smaf":{"source":"iana","extensions":["mmf"]},"application/vnd.smart.notebook":{"source":"iana"},"application/vnd.smart.teacher":{"source":"iana","extensions":["teacher"]},"application/vnd.smintio.portals.archive":{"source":"iana"},"application/vnd.snesdev-page-table":{"source":"iana"},"application/vnd.software602.filler.form+xml":{"source":"iana","compressible":true,"extensions":["fo"]},"application/vnd.software602.filler.form-xml-zip":{"source":"iana"},"application/vnd.solent.sdkm+xml":{"source":"iana","compressible":true,"extensions":["sdkm","sdkd"]},"application/vnd.spotfire.dxp":{"source":"iana","extensions":["dxp"]},"application/vnd.spotfire.sfs":{"source":"iana","extensions":["sfs"]},"application/vnd.sqlite3":{"source":"iana"},"application/vnd.sss-cod":{"source":"iana"},"application/vnd.sss-dtf":{"source":"iana"},"application/vnd.sss-ntf":{"source":"iana"},"application/vnd.stardivision.calc":{"source":"apache","extensions":["sdc"]},"application/vnd.stardivision.draw":{"source":"apache","extensions":["sda"]},"application/vnd.stardivision.impress":{"source":"apache","extensions":["sdd"]},"application/vnd.stardivision.math":{"source":"apache","extensions":["smf"]},"application/vnd.stardivision.writer":{"source":"apache","extensions":["sdw","vor"]},"application/vnd.stardivision.writer-global":{"source":"apache","extensions":["sgl"]},"application/vnd.stepmania.package":{"source":"iana","extensions":["smzip"]},"application/vnd.stepmania.stepchart":{"source":"iana","extensions":["sm"]},"application/vnd.street-stream":{"source":"iana"},"application/vnd.sun.wadl+xml":{"source":"iana","compressible":true,"extensions":["wadl"]},"application/vnd.sun.xml.calc":{"source":"apache","extensions":["sxc"]},"application/vnd.sun.xml.calc.template":{"source":"apache","extensions":["stc"]},"application/vnd.sun.xml.draw":{"source":"apache","extensions":["sxd"]},"application/vnd.sun.xml.draw.template":{"source":"apache","extensions":["std"]},"application/vnd.sun.xml.impress":{"source":"apache","extensions":["sxi"]},"application/vnd.sun.xml.impress.template":{"source":"apache","extensions":["sti"]},"application/vnd.sun.xml.math":{"source":"apache","extensions":["sxm"]},"application/vnd.sun.xml.writer":{"source":"apache","extensions":["sxw"]},"application/vnd.sun.xml.writer.global":{"source":"apache","extensions":["sxg"]},"application/vnd.sun.xml.writer.template":{"source":"apache","extensions":["stw"]},"application/vnd.sus-calendar":{"source":"iana","extensions":["sus","susp"]},"application/vnd.svd":{"source":"iana","extensions":["svd"]},"application/vnd.swiftview-ics":{"source":"iana"},"application/vnd.sybyl.mol2":{"source":"iana"},"application/vnd.sycle+xml":{"source":"iana","compressible":true},"application/vnd.syft+json":{"source":"iana","compressible":true},"application/vnd.symbian.install":{"source":"apache","extensions":["sis","sisx"]},"application/vnd.syncml+xml":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["xsm"]},"application/vnd.syncml.dm+wbxml":{"source":"iana","charset":"UTF-8","extensions":["bdm"]},"application/vnd.syncml.dm+xml":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["xdm"]},"application/vnd.syncml.dm.notification":{"source":"iana"},"application/vnd.syncml.dmddf+wbxml":{"source":"iana"},"application/vnd.syncml.dmddf+xml":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["ddf"]},"application/vnd.syncml.dmtnds+wbxml":{"source":"iana"},"application/vnd.syncml.dmtnds+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.syncml.ds.notification":{"source":"iana"},"application/vnd.tableschema+json":{"source":"iana","compressible":true},"application/vnd.tao.intent-module-archive":{"source":"iana","extensions":["tao"]},"application/vnd.tcpdump.pcap":{"source":"iana","extensions":["pcap","cap","dmp"]},"application/vnd.think-cell.ppttc+json":{"source":"iana","compressible":true},"application/vnd.tmd.mediaflex.api+xml":{"source":"iana","compressible":true},"application/vnd.tml":{"source":"iana"},"application/vnd.tmobile-livetv":{"source":"iana","extensions":["tmo"]},"application/vnd.tri.onesource":{"source":"iana"},"application/vnd.trid.tpt":{"source":"iana","extensions":["tpt"]},"application/vnd.triscape.mxs":{"source":"iana","extensions":["mxs"]},"application/vnd.trueapp":{"source":"iana","extensions":["tra"]},"application/vnd.truedoc":{"source":"iana"},"application/vnd.ubisoft.webplayer":{"source":"iana"},"application/vnd.ufdl":{"source":"iana","extensions":["ufd","ufdl"]},"application/vnd.uic.osdm+json":{"source":"iana","compressible":true},"application/vnd.uiq.theme":{"source":"iana","extensions":["utz"]},"application/vnd.umajin":{"source":"iana","extensions":["umj"]},"application/vnd.unity":{"source":"iana","extensions":["unityweb"]},"application/vnd.uoml+xml":{"source":"iana","compressible":true,"extensions":["uoml","uo"]},"application/vnd.uplanet.alert":{"source":"iana"},"application/vnd.uplanet.alert-wbxml":{"source":"iana"},"application/vnd.uplanet.bearer-choice":{"source":"iana"},"application/vnd.uplanet.bearer-choice-wbxml":{"source":"iana"},"application/vnd.uplanet.cacheop":{"source":"iana"},"application/vnd.uplanet.cacheop-wbxml":{"source":"iana"},"application/vnd.uplanet.channel":{"source":"iana"},"application/vnd.uplanet.channel-wbxml":{"source":"iana"},"application/vnd.uplanet.list":{"source":"iana"},"application/vnd.uplanet.list-wbxml":{"source":"iana"},"application/vnd.uplanet.listcmd":{"source":"iana"},"application/vnd.uplanet.listcmd-wbxml":{"source":"iana"},"application/vnd.uplanet.signal":{"source":"iana"},"application/vnd.uri-map":{"source":"iana"},"application/vnd.valve.source.material":{"source":"iana"},"application/vnd.vcx":{"source":"iana","extensions":["vcx"]},"application/vnd.vd-study":{"source":"iana"},"application/vnd.vectorworks":{"source":"iana"},"application/vnd.vel+json":{"source":"iana","compressible":true},"application/vnd.veraison.tsm-report+cbor":{"source":"iana"},"application/vnd.veraison.tsm-report+json":{"source":"iana","compressible":true},"application/vnd.verimatrix.vcas":{"source":"iana"},"application/vnd.veritone.aion+json":{"source":"iana","compressible":true},"application/vnd.veryant.thin":{"source":"iana"},"application/vnd.ves.encrypted":{"source":"iana"},"application/vnd.vidsoft.vidconference":{"source":"iana"},"application/vnd.visio":{"source":"iana","extensions":["vsd","vst","vss","vsw","vsdx","vtx"]},"application/vnd.visionary":{"source":"iana","extensions":["vis"]},"application/vnd.vividence.scriptfile":{"source":"iana"},"application/vnd.vocalshaper.vsp4":{"source":"iana"},"application/vnd.vsf":{"source":"iana","extensions":["vsf"]},"application/vnd.wap.sic":{"source":"iana"},"application/vnd.wap.slc":{"source":"iana"},"application/vnd.wap.wbxml":{"source":"iana","charset":"UTF-8","extensions":["wbxml"]},"application/vnd.wap.wmlc":{"source":"iana","extensions":["wmlc"]},"application/vnd.wap.wmlscriptc":{"source":"iana","extensions":["wmlsc"]},"application/vnd.wasmflow.wafl":{"source":"iana"},"application/vnd.webturbo":{"source":"iana","extensions":["wtb"]},"application/vnd.wfa.dpp":{"source":"iana"},"application/vnd.wfa.p2p":{"source":"iana"},"application/vnd.wfa.wsc":{"source":"iana"},"application/vnd.windows.devicepairing":{"source":"iana"},"application/vnd.wmc":{"source":"iana"},"application/vnd.wmf.bootstrap":{"source":"iana"},"application/vnd.wolfram.mathematica":{"source":"iana"},"application/vnd.wolfram.mathematica.package":{"source":"iana"},"application/vnd.wolfram.player":{"source":"iana","extensions":["nbp"]},"application/vnd.wordlift":{"source":"iana"},"application/vnd.wordperfect":{"source":"iana","extensions":["wpd"]},"application/vnd.wqd":{"source":"iana","extensions":["wqd"]},"application/vnd.wrq-hp3000-labelled":{"source":"iana"},"application/vnd.wt.stf":{"source":"iana","extensions":["stf"]},"application/vnd.wv.csp+wbxml":{"source":"iana"},"application/vnd.wv.csp+xml":{"source":"iana","compressible":true},"application/vnd.wv.ssp+xml":{"source":"iana","compressible":true},"application/vnd.xacml+json":{"source":"iana","compressible":true},"application/vnd.xara":{"source":"iana","extensions":["xar"]},"application/vnd.xarin.cpj":{"source":"iana"},"application/vnd.xecrets-encrypted":{"source":"iana"},"application/vnd.xfdl":{"source":"iana","extensions":["xfdl"]},"application/vnd.xfdl.webform":{"source":"iana"},"application/vnd.xmi+xml":{"source":"iana","compressible":true},"application/vnd.xmpie.cpkg":{"source":"iana"},"application/vnd.xmpie.dpkg":{"source":"iana"},"application/vnd.xmpie.plan":{"source":"iana"},"application/vnd.xmpie.ppkg":{"source":"iana"},"application/vnd.xmpie.xlim":{"source":"iana"},"application/vnd.yamaha.hv-dic":{"source":"iana","extensions":["hvd"]},"application/vnd.yamaha.hv-script":{"source":"iana","extensions":["hvs"]},"application/vnd.yamaha.hv-voice":{"source":"iana","extensions":["hvp"]},"application/vnd.yamaha.openscoreformat":{"source":"iana","extensions":["osf"]},"application/vnd.yamaha.openscoreformat.osfpvg+xml":{"source":"iana","compressible":true,"extensions":["osfpvg"]},"application/vnd.yamaha.remote-setup":{"source":"iana"},"application/vnd.yamaha.smaf-audio":{"source":"iana","extensions":["saf"]},"application/vnd.yamaha.smaf-phrase":{"source":"iana","extensions":["spf"]},"application/vnd.yamaha.through-ngn":{"source":"iana"},"application/vnd.yamaha.tunnel-udpencap":{"source":"iana"},"application/vnd.yaoweme":{"source":"iana"},"application/vnd.yellowriver-custom-menu":{"source":"iana","extensions":["cmp"]},"application/vnd.zul":{"source":"iana","extensions":["zir","zirz"]},"application/vnd.zzazz.deck+xml":{"source":"iana","compressible":true,"extensions":["zaz"]},"application/voicexml+xml":{"source":"iana","compressible":true,"extensions":["vxml"]},"application/voucher-cms+json":{"source":"iana","compressible":true},"application/voucher-jws+json":{"source":"iana","compressible":true},"application/vp":{"source":"iana"},"application/vp+cose":{"source":"iana"},"application/vp+jwt":{"source":"iana"},"application/vq-rtcpxr":{"source":"iana"},"application/wasm":{"source":"iana","compressible":true,"extensions":["wasm"]},"application/watcherinfo+xml":{"source":"iana","compressible":true,"extensions":["wif"]},"application/webpush-options+json":{"source":"iana","compressible":true},"application/whoispp-query":{"source":"iana"},"application/whoispp-response":{"source":"iana"},"application/widget":{"source":"iana","extensions":["wgt"]},"application/winhlp":{"source":"apache","extensions":["hlp"]},"application/wita":{"source":"iana"},"application/wordperfect5.1":{"source":"iana"},"application/wsdl+xml":{"source":"iana","compressible":true,"extensions":["wsdl"]},"application/wspolicy+xml":{"source":"iana","compressible":true,"extensions":["wspolicy"]},"application/x-7z-compressed":{"source":"apache","compressible":false,"extensions":["7z"]},"application/x-abiword":{"source":"apache","extensions":["abw"]},"application/x-ace-compressed":{"source":"apache","extensions":["ace"]},"application/x-amf":{"source":"apache"},"application/x-apple-diskimage":{"source":"apache","extensions":["dmg"]},"application/x-arj":{"compressible":false,"extensions":["arj"]},"application/x-authorware-bin":{"source":"apache","extensions":["aab","x32","u32","vox"]},"application/x-authorware-map":{"source":"apache","extensions":["aam"]},"application/x-authorware-seg":{"source":"apache","extensions":["aas"]},"application/x-bcpio":{"source":"apache","extensions":["bcpio"]},"application/x-bdoc":{"compressible":false,"extensions":["bdoc"]},"application/x-bittorrent":{"source":"apache","extensions":["torrent"]},"application/x-blender":{"extensions":["blend"]},"application/x-blorb":{"source":"apache","extensions":["blb","blorb"]},"application/x-bzip":{"source":"apache","compressible":false,"extensions":["bz"]},"application/x-bzip2":{"source":"apache","compressible":false,"extensions":["bz2","boz"]},"application/x-cbr":{"source":"apache","extensions":["cbr","cba","cbt","cbz","cb7"]},"application/x-cdlink":{"source":"apache","extensions":["vcd"]},"application/x-cfs-compressed":{"source":"apache","extensions":["cfs"]},"application/x-chat":{"source":"apache","extensions":["chat"]},"application/x-chess-pgn":{"source":"apache","extensions":["pgn"]},"application/x-chrome-extension":{"extensions":["crx"]},"application/x-cocoa":{"source":"nginx","extensions":["cco"]},"application/x-compress":{"source":"apache"},"application/x-compressed":{"extensions":["rar"]},"application/x-conference":{"source":"apache","extensions":["nsc"]},"application/x-cpio":{"source":"apache","extensions":["cpio"]},"application/x-csh":{"source":"apache","extensions":["csh"]},"application/x-deb":{"compressible":false},"application/x-debian-package":{"source":"apache","extensions":["deb","udeb"]},"application/x-dgc-compressed":{"source":"apache","extensions":["dgc"]},"application/x-director":{"source":"apache","extensions":["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"]},"application/x-doom":{"source":"apache","extensions":["wad"]},"application/x-dtbncx+xml":{"source":"apache","compressible":true,"extensions":["ncx"]},"application/x-dtbook+xml":{"source":"apache","compressible":true,"extensions":["dtb"]},"application/x-dtbresource+xml":{"source":"apache","compressible":true,"extensions":["res"]},"application/x-dvi":{"source":"apache","compressible":false,"extensions":["dvi"]},"application/x-envoy":{"source":"apache","extensions":["evy"]},"application/x-eva":{"source":"apache","extensions":["eva"]},"application/x-font-bdf":{"source":"apache","extensions":["bdf"]},"application/x-font-dos":{"source":"apache"},"application/x-font-framemaker":{"source":"apache"},"application/x-font-ghostscript":{"source":"apache","extensions":["gsf"]},"application/x-font-libgrx":{"source":"apache"},"application/x-font-linux-psf":{"source":"apache","extensions":["psf"]},"application/x-font-pcf":{"source":"apache","extensions":["pcf"]},"application/x-font-snf":{"source":"apache","extensions":["snf"]},"application/x-font-speedo":{"source":"apache"},"application/x-font-sunos-news":{"source":"apache"},"application/x-font-type1":{"source":"apache","extensions":["pfa","pfb","pfm","afm"]},"application/x-font-vfont":{"source":"apache"},"application/x-freearc":{"source":"apache","extensions":["arc"]},"application/x-futuresplash":{"source":"apache","extensions":["spl"]},"application/x-gca-compressed":{"source":"apache","extensions":["gca"]},"application/x-glulx":{"source":"apache","extensions":["ulx"]},"application/x-gnumeric":{"source":"apache","extensions":["gnumeric"]},"application/x-gramps-xml":{"source":"apache","extensions":["gramps"]},"application/x-gtar":{"source":"apache","extensions":["gtar"]},"application/x-gzip":{"source":"apache"},"application/x-hdf":{"source":"apache","extensions":["hdf"]},"application/x-httpd-php":{"compressible":true,"extensions":["php"]},"application/x-install-instructions":{"source":"apache","extensions":["install"]},"application/x-ipynb+json":{"compressible":true,"extensions":["ipynb"]},"application/x-iso9660-image":{"source":"apache","extensions":["iso"]},"application/x-iwork-keynote-sffkey":{"extensions":["key"]},"application/x-iwork-numbers-sffnumbers":{"extensions":["numbers"]},"application/x-iwork-pages-sffpages":{"extensions":["pages"]},"application/x-java-archive-diff":{"source":"nginx","extensions":["jardiff"]},"application/x-java-jnlp-file":{"source":"apache","compressible":false,"extensions":["jnlp"]},"application/x-javascript":{"compressible":true},"application/x-keepass2":{"extensions":["kdbx"]},"application/x-latex":{"source":"apache","compressible":false,"extensions":["latex"]},"application/x-lua-bytecode":{"extensions":["luac"]},"application/x-lzh-compressed":{"source":"apache","extensions":["lzh","lha"]},"application/x-makeself":{"source":"nginx","extensions":["run"]},"application/x-mie":{"source":"apache","extensions":["mie"]},"application/x-mobipocket-ebook":{"source":"apache","extensions":["prc","mobi"]},"application/x-mpegurl":{"compressible":false},"application/x-ms-application":{"source":"apache","extensions":["application"]},"application/x-ms-shortcut":{"source":"apache","extensions":["lnk"]},"application/x-ms-wmd":{"source":"apache","extensions":["wmd"]},"application/x-ms-wmz":{"source":"apache","extensions":["wmz"]},"application/x-ms-xbap":{"source":"apache","extensions":["xbap"]},"application/x-msaccess":{"source":"apache","extensions":["mdb"]},"application/x-msbinder":{"source":"apache","extensions":["obd"]},"application/x-mscardfile":{"source":"apache","extensions":["crd"]},"application/x-msclip":{"source":"apache","extensions":["clp"]},"application/x-msdos-program":{"extensions":["exe"]},"application/x-msdownload":{"source":"apache","extensions":["exe","dll","com","bat","msi"]},"application/x-msmediaview":{"source":"apache","extensions":["mvb","m13","m14"]},"application/x-msmetafile":{"source":"apache","extensions":["wmf","wmz","emf","emz"]},"application/x-msmoney":{"source":"apache","extensions":["mny"]},"application/x-mspublisher":{"source":"apache","extensions":["pub"]},"application/x-msschedule":{"source":"apache","extensions":["scd"]},"application/x-msterminal":{"source":"apache","extensions":["trm"]},"application/x-mswrite":{"source":"apache","extensions":["wri"]},"application/x-netcdf":{"source":"apache","extensions":["nc","cdf"]},"application/x-ns-proxy-autoconfig":{"compressible":true,"extensions":["pac"]},"application/x-nzb":{"source":"apache","extensions":["nzb"]},"application/x-perl":{"source":"nginx","extensions":["pl","pm"]},"application/x-pilot":{"source":"nginx","extensions":["prc","pdb"]},"application/x-pkcs12":{"source":"apache","compressible":false,"extensions":["p12","pfx"]},"application/x-pkcs7-certificates":{"source":"apache","extensions":["p7b","spc"]},"application/x-pkcs7-certreqresp":{"source":"apache","extensions":["p7r"]},"application/x-pki-message":{"source":"iana"},"application/x-rar-compressed":{"source":"apache","compressible":false,"extensions":["rar"]},"application/x-redhat-package-manager":{"source":"nginx","extensions":["rpm"]},"application/x-research-info-systems":{"source":"apache","extensions":["ris"]},"application/x-sea":{"source":"nginx","extensions":["sea"]},"application/x-sh":{"source":"apache","compressible":true,"extensions":["sh"]},"application/x-shar":{"source":"apache","extensions":["shar"]},"application/x-shockwave-flash":{"source":"apache","compressible":false,"extensions":["swf"]},"application/x-silverlight-app":{"source":"apache","extensions":["xap"]},"application/x-sql":{"source":"apache","extensions":["sql"]},"application/x-stuffit":{"source":"apache","compressible":false,"extensions":["sit"]},"application/x-stuffitx":{"source":"apache","extensions":["sitx"]},"application/x-subrip":{"source":"apache","extensions":["srt"]},"application/x-sv4cpio":{"source":"apache","extensions":["sv4cpio"]},"application/x-sv4crc":{"source":"apache","extensions":["sv4crc"]},"application/x-t3vm-image":{"source":"apache","extensions":["t3"]},"application/x-tads":{"source":"apache","extensions":["gam"]},"application/x-tar":{"source":"apache","compressible":true,"extensions":["tar"]},"application/x-tcl":{"source":"apache","extensions":["tcl","tk"]},"application/x-tex":{"source":"apache","extensions":["tex"]},"application/x-tex-tfm":{"source":"apache","extensions":["tfm"]},"application/x-texinfo":{"source":"apache","extensions":["texinfo","texi"]},"application/x-tgif":{"source":"apache","extensions":["obj"]},"application/x-ustar":{"source":"apache","extensions":["ustar"]},"application/x-virtualbox-hdd":{"compressible":true,"extensions":["hdd"]},"application/x-virtualbox-ova":{"compressible":true,"extensions":["ova"]},"application/x-virtualbox-ovf":{"compressible":true,"extensions":["ovf"]},"application/x-virtualbox-vbox":{"compressible":true,"extensions":["vbox"]},"application/x-virtualbox-vbox-extpack":{"compressible":false,"extensions":["vbox-extpack"]},"application/x-virtualbox-vdi":{"compressible":true,"extensions":["vdi"]},"application/x-virtualbox-vhd":{"compressible":true,"extensions":["vhd"]},"application/x-virtualbox-vmdk":{"compressible":true,"extensions":["vmdk"]},"application/x-wais-source":{"source":"apache","extensions":["src"]},"application/x-web-app-manifest+json":{"compressible":true,"extensions":["webapp"]},"application/x-www-form-urlencoded":{"source":"iana","compressible":true},"application/x-x509-ca-cert":{"source":"iana","extensions":["der","crt","pem"]},"application/x-x509-ca-ra-cert":{"source":"iana"},"application/x-x509-next-ca-cert":{"source":"iana"},"application/x-xfig":{"source":"apache","extensions":["fig"]},"application/x-xliff+xml":{"source":"apache","compressible":true,"extensions":["xlf"]},"application/x-xpinstall":{"source":"apache","compressible":false,"extensions":["xpi"]},"application/x-xz":{"source":"apache","extensions":["xz"]},"application/x-zip-compressed":{"extensions":["zip"]},"application/x-zmachine":{"source":"apache","extensions":["z1","z2","z3","z4","z5","z6","z7","z8"]},"application/x400-bp":{"source":"iana"},"application/xacml+xml":{"source":"iana","compressible":true},"application/xaml+xml":{"source":"apache","compressible":true,"extensions":["xaml"]},"application/xcap-att+xml":{"source":"iana","compressible":true,"extensions":["xav"]},"application/xcap-caps+xml":{"source":"iana","compressible":true,"extensions":["xca"]},"application/xcap-diff+xml":{"source":"iana","compressible":true,"extensions":["xdf"]},"application/xcap-el+xml":{"source":"iana","compressible":true,"extensions":["xel"]},"application/xcap-error+xml":{"source":"iana","compressible":true},"application/xcap-ns+xml":{"source":"iana","compressible":true,"extensions":["xns"]},"application/xcon-conference-info+xml":{"source":"iana","compressible":true},"application/xcon-conference-info-diff+xml":{"source":"iana","compressible":true},"application/xenc+xml":{"source":"iana","compressible":true,"extensions":["xenc"]},"application/xfdf":{"source":"iana","extensions":["xfdf"]},"application/xhtml+xml":{"source":"iana","compressible":true,"extensions":["xhtml","xht"]},"application/xhtml-voice+xml":{"source":"apache","compressible":true},"application/xliff+xml":{"source":"iana","compressible":true,"extensions":["xlf"]},"application/xml":{"source":"iana","compressible":true,"extensions":["xml","xsl","xsd","rng"]},"application/xml-dtd":{"source":"iana","compressible":true,"extensions":["dtd"]},"application/xml-external-parsed-entity":{"source":"iana"},"application/xml-patch+xml":{"source":"iana","compressible":true},"application/xmpp+xml":{"source":"iana","compressible":true},"application/xop+xml":{"source":"iana","compressible":true,"extensions":["xop"]},"application/xproc+xml":{"source":"apache","compressible":true,"extensions":["xpl"]},"application/xslt+xml":{"source":"iana","compressible":true,"extensions":["xsl","xslt"]},"application/xspf+xml":{"source":"apache","compressible":true,"extensions":["xspf"]},"application/xv+xml":{"source":"iana","compressible":true,"extensions":["mxml","xhvml","xvml","xvm"]},"application/yaml":{"source":"iana"},"application/yang":{"source":"iana","extensions":["yang"]},"application/yang-data+cbor":{"source":"iana"},"application/yang-data+json":{"source":"iana","compressible":true},"application/yang-data+xml":{"source":"iana","compressible":true},"application/yang-patch+json":{"source":"iana","compressible":true},"application/yang-patch+xml":{"source":"iana","compressible":true},"application/yang-sid+json":{"source":"iana","compressible":true},"application/yin+xml":{"source":"iana","compressible":true,"extensions":["yin"]},"application/zip":{"source":"iana","compressible":false,"extensions":["zip"]},"application/zip+dotlottie":{"extensions":["lottie"]},"application/zlib":{"source":"iana"},"application/zstd":{"source":"iana"},"audio/1d-interleaved-parityfec":{"source":"iana"},"audio/32kadpcm":{"source":"iana"},"audio/3gpp":{"source":"iana","compressible":false,"extensions":["3gpp"]},"audio/3gpp2":{"source":"iana"},"audio/aac":{"source":"iana","extensions":["adts","aac"]},"audio/ac3":{"source":"iana"},"audio/adpcm":{"source":"apache","extensions":["adp"]},"audio/amr":{"source":"iana","extensions":["amr"]},"audio/amr-wb":{"source":"iana"},"audio/amr-wb+":{"source":"iana"},"audio/aptx":{"source":"iana"},"audio/asc":{"source":"iana"},"audio/atrac-advanced-lossless":{"source":"iana"},"audio/atrac-x":{"source":"iana"},"audio/atrac3":{"source":"iana"},"audio/basic":{"source":"iana","compressible":false,"extensions":["au","snd"]},"audio/bv16":{"source":"iana"},"audio/bv32":{"source":"iana"},"audio/clearmode":{"source":"iana"},"audio/cn":{"source":"iana"},"audio/dat12":{"source":"iana"},"audio/dls":{"source":"iana"},"audio/dsr-es201108":{"source":"iana"},"audio/dsr-es202050":{"source":"iana"},"audio/dsr-es202211":{"source":"iana"},"audio/dsr-es202212":{"source":"iana"},"audio/dv":{"source":"iana"},"audio/dvi4":{"source":"iana"},"audio/eac3":{"source":"iana"},"audio/encaprtp":{"source":"iana"},"audio/evrc":{"source":"iana"},"audio/evrc-qcp":{"source":"iana"},"audio/evrc0":{"source":"iana"},"audio/evrc1":{"source":"iana"},"audio/evrcb":{"source":"iana"},"audio/evrcb0":{"source":"iana"},"audio/evrcb1":{"source":"iana"},"audio/evrcnw":{"source":"iana"},"audio/evrcnw0":{"source":"iana"},"audio/evrcnw1":{"source":"iana"},"audio/evrcwb":{"source":"iana"},"audio/evrcwb0":{"source":"iana"},"audio/evrcwb1":{"source":"iana"},"audio/evs":{"source":"iana"},"audio/flac":{"source":"iana"},"audio/flexfec":{"source":"iana"},"audio/fwdred":{"source":"iana"},"audio/g711-0":{"source":"iana"},"audio/g719":{"source":"iana"},"audio/g722":{"source":"iana"},"audio/g7221":{"source":"iana"},"audio/g723":{"source":"iana"},"audio/g726-16":{"source":"iana"},"audio/g726-24":{"source":"iana"},"audio/g726-32":{"source":"iana"},"audio/g726-40":{"source":"iana"},"audio/g728":{"source":"iana"},"audio/g729":{"source":"iana"},"audio/g7291":{"source":"iana"},"audio/g729d":{"source":"iana"},"audio/g729e":{"source":"iana"},"audio/gsm":{"source":"iana"},"audio/gsm-efr":{"source":"iana"},"audio/gsm-hr-08":{"source":"iana"},"audio/ilbc":{"source":"iana"},"audio/ip-mr_v2.5":{"source":"iana"},"audio/isac":{"source":"apache"},"audio/l16":{"source":"iana"},"audio/l20":{"source":"iana"},"audio/l24":{"source":"iana","compressible":false},"audio/l8":{"source":"iana"},"audio/lpc":{"source":"iana"},"audio/matroska":{"source":"iana"},"audio/melp":{"source":"iana"},"audio/melp1200":{"source":"iana"},"audio/melp2400":{"source":"iana"},"audio/melp600":{"source":"iana"},"audio/mhas":{"source":"iana"},"audio/midi":{"source":"apache","extensions":["mid","midi","kar","rmi"]},"audio/midi-clip":{"source":"iana"},"audio/mobile-xmf":{"source":"iana","extensions":["mxmf"]},"audio/mp3":{"compressible":false,"extensions":["mp3"]},"audio/mp4":{"source":"iana","compressible":false,"extensions":["m4a","mp4a","m4b"]},"audio/mp4a-latm":{"source":"iana"},"audio/mpa":{"source":"iana"},"audio/mpa-robust":{"source":"iana"},"audio/mpeg":{"source":"iana","compressible":false,"extensions":["mpga","mp2","mp2a","mp3","m2a","m3a"]},"audio/mpeg4-generic":{"source":"iana"},"audio/musepack":{"source":"apache"},"audio/ogg":{"source":"iana","compressible":false,"extensions":["oga","ogg","spx","opus"]},"audio/opus":{"source":"iana"},"audio/parityfec":{"source":"iana"},"audio/pcma":{"source":"iana"},"audio/pcma-wb":{"source":"iana"},"audio/pcmu":{"source":"iana"},"audio/pcmu-wb":{"source":"iana"},"audio/prs.sid":{"source":"iana"},"audio/qcelp":{"source":"iana"},"audio/raptorfec":{"source":"iana"},"audio/red":{"source":"iana"},"audio/rtp-enc-aescm128":{"source":"iana"},"audio/rtp-midi":{"source":"iana"},"audio/rtploopback":{"source":"iana"},"audio/rtx":{"source":"iana"},"audio/s3m":{"source":"apache","extensions":["s3m"]},"audio/scip":{"source":"iana"},"audio/silk":{"source":"apache","extensions":["sil"]},"audio/smv":{"source":"iana"},"audio/smv-qcp":{"source":"iana"},"audio/smv0":{"source":"iana"},"audio/sofa":{"source":"iana"},"audio/sp-midi":{"source":"iana"},"audio/speex":{"source":"iana"},"audio/t140c":{"source":"iana"},"audio/t38":{"source":"iana"},"audio/telephone-event":{"source":"iana"},"audio/tetra_acelp":{"source":"iana"},"audio/tetra_acelp_bb":{"source":"iana"},"audio/tone":{"source":"iana"},"audio/tsvcis":{"source":"iana"},"audio/uemclip":{"source":"iana"},"audio/ulpfec":{"source":"iana"},"audio/usac":{"source":"iana"},"audio/vdvi":{"source":"iana"},"audio/vmr-wb":{"source":"iana"},"audio/vnd.3gpp.iufp":{"source":"iana"},"audio/vnd.4sb":{"source":"iana"},"audio/vnd.audiokoz":{"source":"iana"},"audio/vnd.celp":{"source":"iana"},"audio/vnd.cisco.nse":{"source":"iana"},"audio/vnd.cmles.radio-events":{"source":"iana"},"audio/vnd.cns.anp1":{"source":"iana"},"audio/vnd.cns.inf1":{"source":"iana"},"audio/vnd.dece.audio":{"source":"iana","extensions":["uva","uvva"]},"audio/vnd.digital-winds":{"source":"iana","extensions":["eol"]},"audio/vnd.dlna.adts":{"source":"iana"},"audio/vnd.dolby.heaac.1":{"source":"iana"},"audio/vnd.dolby.heaac.2":{"source":"iana"},"audio/vnd.dolby.mlp":{"source":"iana"},"audio/vnd.dolby.mps":{"source":"iana"},"audio/vnd.dolby.pl2":{"source":"iana"},"audio/vnd.dolby.pl2x":{"source":"iana"},"audio/vnd.dolby.pl2z":{"source":"iana"},"audio/vnd.dolby.pulse.1":{"source":"iana"},"audio/vnd.dra":{"source":"iana","extensions":["dra"]},"audio/vnd.dts":{"source":"iana","extensions":["dts"]},"audio/vnd.dts.hd":{"source":"iana","extensions":["dtshd"]},"audio/vnd.dts.uhd":{"source":"iana"},"audio/vnd.dvb.file":{"source":"iana"},"audio/vnd.everad.plj":{"source":"iana"},"audio/vnd.hns.audio":{"source":"iana"},"audio/vnd.lucent.voice":{"source":"iana","extensions":["lvp"]},"audio/vnd.ms-playready.media.pya":{"source":"iana","extensions":["pya"]},"audio/vnd.nokia.mobile-xmf":{"source":"iana"},"audio/vnd.nortel.vbk":{"source":"iana"},"audio/vnd.nuera.ecelp4800":{"source":"iana","extensions":["ecelp4800"]},"audio/vnd.nuera.ecelp7470":{"source":"iana","extensions":["ecelp7470"]},"audio/vnd.nuera.ecelp9600":{"source":"iana","extensions":["ecelp9600"]},"audio/vnd.octel.sbc":{"source":"iana"},"audio/vnd.presonus.multitrack":{"source":"iana"},"audio/vnd.qcelp":{"source":"apache"},"audio/vnd.rhetorex.32kadpcm":{"source":"iana"},"audio/vnd.rip":{"source":"iana","extensions":["rip"]},"audio/vnd.rn-realaudio":{"compressible":false},"audio/vnd.sealedmedia.softseal.mpeg":{"source":"iana"},"audio/vnd.vmx.cvsd":{"source":"iana"},"audio/vnd.wave":{"compressible":false},"audio/vorbis":{"source":"iana","compressible":false},"audio/vorbis-config":{"source":"iana"},"audio/wav":{"compressible":false,"extensions":["wav"]},"audio/wave":{"compressible":false,"extensions":["wav"]},"audio/webm":{"source":"apache","compressible":false,"extensions":["weba"]},"audio/x-aac":{"source":"apache","compressible":false,"extensions":["aac"]},"audio/x-aiff":{"source":"apache","extensions":["aif","aiff","aifc"]},"audio/x-caf":{"source":"apache","compressible":false,"extensions":["caf"]},"audio/x-flac":{"source":"apache","extensions":["flac"]},"audio/x-m4a":{"source":"nginx","extensions":["m4a"]},"audio/x-matroska":{"source":"apache","extensions":["mka"]},"audio/x-mpegurl":{"source":"apache","extensions":["m3u"]},"audio/x-ms-wax":{"source":"apache","extensions":["wax"]},"audio/x-ms-wma":{"source":"apache","extensions":["wma"]},"audio/x-pn-realaudio":{"source":"apache","extensions":["ram","ra"]},"audio/x-pn-realaudio-plugin":{"source":"apache","extensions":["rmp"]},"audio/x-realaudio":{"source":"nginx","extensions":["ra"]},"audio/x-tta":{"source":"apache"},"audio/x-wav":{"source":"apache","extensions":["wav"]},"audio/xm":{"source":"apache","extensions":["xm"]},"chemical/x-cdx":{"source":"apache","extensions":["cdx"]},"chemical/x-cif":{"source":"apache","extensions":["cif"]},"chemical/x-cmdf":{"source":"apache","extensions":["cmdf"]},"chemical/x-cml":{"source":"apache","extensions":["cml"]},"chemical/x-csml":{"source":"apache","extensions":["csml"]},"chemical/x-pdb":{"source":"apache"},"chemical/x-xyz":{"source":"apache","extensions":["xyz"]},"font/collection":{"source":"iana","extensions":["ttc"]},"font/otf":{"source":"iana","compressible":true,"extensions":["otf"]},"font/sfnt":{"source":"iana"},"font/ttf":{"source":"iana","compressible":true,"extensions":["ttf"]},"font/woff":{"source":"iana","extensions":["woff"]},"font/woff2":{"source":"iana","extensions":["woff2"]},"image/aces":{"source":"iana","extensions":["exr"]},"image/apng":{"source":"iana","compressible":false,"extensions":["apng"]},"image/avci":{"source":"iana","extensions":["avci"]},"image/avcs":{"source":"iana","extensions":["avcs"]},"image/avif":{"source":"iana","compressible":false,"extensions":["avif"]},"image/bmp":{"source":"iana","compressible":true,"extensions":["bmp","dib"]},"image/cgm":{"source":"iana","extensions":["cgm"]},"image/dicom-rle":{"source":"iana","extensions":["drle"]},"image/dpx":{"source":"iana","extensions":["dpx"]},"image/emf":{"source":"iana","extensions":["emf"]},"image/fits":{"source":"iana","extensions":["fits"]},"image/g3fax":{"source":"iana","extensions":["g3"]},"image/gif":{"source":"iana","compressible":false,"extensions":["gif"]},"image/heic":{"source":"iana","extensions":["heic"]},"image/heic-sequence":{"source":"iana","extensions":["heics"]},"image/heif":{"source":"iana","extensions":["heif"]},"image/heif-sequence":{"source":"iana","extensions":["heifs"]},"image/hej2k":{"source":"iana","extensions":["hej2"]},"image/ief":{"source":"iana","extensions":["ief"]},"image/j2c":{"source":"iana"},"image/jaii":{"source":"iana","extensions":["jaii"]},"image/jais":{"source":"iana","extensions":["jais"]},"image/jls":{"source":"iana","extensions":["jls"]},"image/jp2":{"source":"iana","compressible":false,"extensions":["jp2","jpg2"]},"image/jpeg":{"source":"iana","compressible":false,"extensions":["jpg","jpeg","jpe"]},"image/jph":{"source":"iana","extensions":["jph"]},"image/jphc":{"source":"iana","extensions":["jhc"]},"image/jpm":{"source":"iana","compressible":false,"extensions":["jpm","jpgm"]},"image/jpx":{"source":"iana","compressible":false,"extensions":["jpx","jpf"]},"image/jxl":{"source":"iana","extensions":["jxl"]},"image/jxr":{"source":"iana","extensions":["jxr"]},"image/jxra":{"source":"iana","extensions":["jxra"]},"image/jxrs":{"source":"iana","extensions":["jxrs"]},"image/jxs":{"source":"iana","extensions":["jxs"]},"image/jxsc":{"source":"iana","extensions":["jxsc"]},"image/jxsi":{"source":"iana","extensions":["jxsi"]},"image/jxss":{"source":"iana","extensions":["jxss"]},"image/ktx":{"source":"iana","extensions":["ktx"]},"image/ktx2":{"source":"iana","extensions":["ktx2"]},"image/naplps":{"source":"iana"},"image/pjpeg":{"compressible":false,"extensions":["jfif"]},"image/png":{"source":"iana","compressible":false,"extensions":["png"]},"image/prs.btif":{"source":"iana","extensions":["btif","btf"]},"image/prs.pti":{"source":"iana","extensions":["pti"]},"image/pwg-raster":{"source":"iana"},"image/sgi":{"source":"apache","extensions":["sgi"]},"image/svg+xml":{"source":"iana","compressible":true,"extensions":["svg","svgz"]},"image/t38":{"source":"iana","extensions":["t38"]},"image/tiff":{"source":"iana","compressible":false,"extensions":["tif","tiff"]},"image/tiff-fx":{"source":"iana","extensions":["tfx"]},"image/vnd.adobe.photoshop":{"source":"iana","compressible":true,"extensions":["psd"]},"image/vnd.airzip.accelerator.azv":{"source":"iana","extensions":["azv"]},"image/vnd.clip":{"source":"iana"},"image/vnd.cns.inf2":{"source":"iana"},"image/vnd.dece.graphic":{"source":"iana","extensions":["uvi","uvvi","uvg","uvvg"]},"image/vnd.djvu":{"source":"iana","extensions":["djvu","djv"]},"image/vnd.dvb.subtitle":{"source":"iana","extensions":["sub"]},"image/vnd.dwg":{"source":"iana","extensions":["dwg"]},"image/vnd.dxf":{"source":"iana","extensions":["dxf"]},"image/vnd.fastbidsheet":{"source":"iana","extensions":["fbs"]},"image/vnd.fpx":{"source":"iana","extensions":["fpx"]},"image/vnd.fst":{"source":"iana","extensions":["fst"]},"image/vnd.fujixerox.edmics-mmr":{"source":"iana","extensions":["mmr"]},"image/vnd.fujixerox.edmics-rlc":{"source":"iana","extensions":["rlc"]},"image/vnd.globalgraphics.pgb":{"source":"iana"},"image/vnd.microsoft.icon":{"source":"iana","compressible":true,"extensions":["ico"]},"image/vnd.mix":{"source":"iana"},"image/vnd.mozilla.apng":{"source":"iana"},"image/vnd.ms-dds":{"compressible":true,"extensions":["dds"]},"image/vnd.ms-modi":{"source":"iana","extensions":["mdi"]},"image/vnd.ms-photo":{"source":"apache","extensions":["wdp"]},"image/vnd.net-fpx":{"source":"iana","extensions":["npx"]},"image/vnd.pco.b16":{"source":"iana","extensions":["b16"]},"image/vnd.radiance":{"source":"iana"},"image/vnd.sealed.png":{"source":"iana"},"image/vnd.sealedmedia.softseal.gif":{"source":"iana"},"image/vnd.sealedmedia.softseal.jpg":{"source":"iana"},"image/vnd.svf":{"source":"iana"},"image/vnd.tencent.tap":{"source":"iana","extensions":["tap"]},"image/vnd.valve.source.texture":{"source":"iana","extensions":["vtf"]},"image/vnd.wap.wbmp":{"source":"iana","extensions":["wbmp"]},"image/vnd.xiff":{"source":"iana","extensions":["xif"]},"image/vnd.zbrush.pcx":{"source":"iana","extensions":["pcx"]},"image/webp":{"source":"iana","extensions":["webp"]},"image/wmf":{"source":"iana","extensions":["wmf"]},"image/x-3ds":{"source":"apache","extensions":["3ds"]},"image/x-adobe-dng":{"extensions":["dng"]},"image/x-cmu-raster":{"source":"apache","extensions":["ras"]},"image/x-cmx":{"source":"apache","extensions":["cmx"]},"image/x-emf":{"source":"iana"},"image/x-freehand":{"source":"apache","extensions":["fh","fhc","fh4","fh5","fh7"]},"image/x-icon":{"source":"apache","compressible":true,"extensions":["ico"]},"image/x-jng":{"source":"nginx","extensions":["jng"]},"image/x-mrsid-image":{"source":"apache","extensions":["sid"]},"image/x-ms-bmp":{"source":"nginx","compressible":true,"extensions":["bmp"]},"image/x-pcx":{"source":"apache","extensions":["pcx"]},"image/x-pict":{"source":"apache","extensions":["pic","pct"]},"image/x-portable-anymap":{"source":"apache","extensions":["pnm"]},"image/x-portable-bitmap":{"source":"apache","extensions":["pbm"]},"image/x-portable-graymap":{"source":"apache","extensions":["pgm"]},"image/x-portable-pixmap":{"source":"apache","extensions":["ppm"]},"image/x-rgb":{"source":"apache","extensions":["rgb"]},"image/x-tga":{"source":"apache","extensions":["tga"]},"image/x-wmf":{"source":"iana"},"image/x-xbitmap":{"source":"apache","extensions":["xbm"]},"image/x-xcf":{"compressible":false},"image/x-xpixmap":{"source":"apache","extensions":["xpm"]},"image/x-xwindowdump":{"source":"apache","extensions":["xwd"]},"message/bhttp":{"source":"iana"},"message/cpim":{"source":"iana"},"message/delivery-status":{"source":"iana"},"message/disposition-notification":{"source":"iana","extensions":["disposition-notification"]},"message/external-body":{"source":"iana"},"message/feedback-report":{"source":"iana"},"message/global":{"source":"iana","extensions":["u8msg"]},"message/global-delivery-status":{"source":"iana","extensions":["u8dsn"]},"message/global-disposition-notification":{"source":"iana","extensions":["u8mdn"]},"message/global-headers":{"source":"iana","extensions":["u8hdr"]},"message/http":{"source":"iana","compressible":false},"message/imdn+xml":{"source":"iana","compressible":true},"message/mls":{"source":"iana"},"message/news":{"source":"apache"},"message/ohttp-req":{"source":"iana"},"message/ohttp-res":{"source":"iana"},"message/partial":{"source":"iana","compressible":false},"message/rfc822":{"source":"iana","compressible":true,"extensions":["eml","mime","mht","mhtml"]},"message/s-http":{"source":"apache"},"message/sip":{"source":"iana"},"message/sipfrag":{"source":"iana"},"message/tracking-status":{"source":"iana"},"message/vnd.si.simp":{"source":"apache"},"message/vnd.wfa.wsc":{"source":"iana","extensions":["wsc"]},"model/3mf":{"source":"iana","extensions":["3mf"]},"model/e57":{"source":"iana"},"model/gltf+json":{"source":"iana","compressible":true,"extensions":["gltf"]},"model/gltf-binary":{"source":"iana","compressible":true,"extensions":["glb"]},"model/iges":{"source":"iana","compressible":false,"extensions":["igs","iges"]},"model/jt":{"source":"iana","extensions":["jt"]},"model/mesh":{"source":"iana","compressible":false,"extensions":["msh","mesh","silo"]},"model/mtl":{"source":"iana","extensions":["mtl"]},"model/obj":{"source":"iana","extensions":["obj"]},"model/prc":{"source":"iana","extensions":["prc"]},"model/step":{"source":"iana","extensions":["step","stp","stpnc","p21","210"]},"model/step+xml":{"source":"iana","compressible":true,"extensions":["stpx"]},"model/step+zip":{"source":"iana","compressible":false,"extensions":["stpz"]},"model/step-xml+zip":{"source":"iana","compressible":false,"extensions":["stpxz"]},"model/stl":{"source":"iana","extensions":["stl"]},"model/u3d":{"source":"iana","extensions":["u3d"]},"model/vnd.bary":{"source":"iana","extensions":["bary"]},"model/vnd.cld":{"source":"iana","extensions":["cld"]},"model/vnd.collada+xml":{"source":"iana","compressible":true,"extensions":["dae"]},"model/vnd.dwf":{"source":"iana","extensions":["dwf"]},"model/vnd.flatland.3dml":{"source":"iana"},"model/vnd.gdl":{"source":"iana","extensions":["gdl"]},"model/vnd.gs-gdl":{"source":"apache"},"model/vnd.gs.gdl":{"source":"iana"},"model/vnd.gtw":{"source":"iana","extensions":["gtw"]},"model/vnd.moml+xml":{"source":"iana","compressible":true},"model/vnd.mts":{"source":"iana","extensions":["mts"]},"model/vnd.opengex":{"source":"iana","extensions":["ogex"]},"model/vnd.parasolid.transmit.binary":{"source":"iana","extensions":["x_b"]},"model/vnd.parasolid.transmit.text":{"source":"iana","extensions":["x_t"]},"model/vnd.pytha.pyox":{"source":"iana","extensions":["pyo","pyox"]},"model/vnd.rosette.annotated-data-model":{"source":"iana"},"model/vnd.sap.vds":{"source":"iana","extensions":["vds"]},"model/vnd.usda":{"source":"iana","extensions":["usda"]},"model/vnd.usdz+zip":{"source":"iana","compressible":false,"extensions":["usdz"]},"model/vnd.valve.source.compiled-map":{"source":"iana","extensions":["bsp"]},"model/vnd.vtu":{"source":"iana","extensions":["vtu"]},"model/vrml":{"source":"iana","compressible":false,"extensions":["wrl","vrml"]},"model/x3d+binary":{"source":"apache","compressible":false,"extensions":["x3db","x3dbz"]},"model/x3d+fastinfoset":{"source":"iana","extensions":["x3db"]},"model/x3d+vrml":{"source":"apache","compressible":false,"extensions":["x3dv","x3dvz"]},"model/x3d+xml":{"source":"iana","compressible":true,"extensions":["x3d","x3dz"]},"model/x3d-vrml":{"source":"iana","extensions":["x3dv"]},"multipart/alternative":{"source":"iana","compressible":false},"multipart/appledouble":{"source":"iana"},"multipart/byteranges":{"source":"iana"},"multipart/digest":{"source":"iana"},"multipart/encrypted":{"source":"iana","compressible":false},"multipart/form-data":{"source":"iana","compressible":false},"multipart/header-set":{"source":"iana"},"multipart/mixed":{"source":"iana"},"multipart/multilingual":{"source":"iana"},"multipart/parallel":{"source":"iana"},"multipart/related":{"source":"iana","compressible":false},"multipart/report":{"source":"iana"},"multipart/signed":{"source":"iana","compressible":false},"multipart/vnd.bint.med-plus":{"source":"iana"},"multipart/voice-message":{"source":"iana"},"multipart/x-mixed-replace":{"source":"iana"},"text/1d-interleaved-parityfec":{"source":"iana"},"text/cache-manifest":{"source":"iana","compressible":true,"extensions":["appcache","manifest"]},"text/calendar":{"source":"iana","extensions":["ics","ifb"]},"text/calender":{"compressible":true},"text/cmd":{"compressible":true},"text/coffeescript":{"extensions":["coffee","litcoffee"]},"text/cql":{"source":"iana"},"text/cql-expression":{"source":"iana"},"text/cql-identifier":{"source":"iana"},"text/css":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["css"]},"text/csv":{"source":"iana","compressible":true,"extensions":["csv"]},"text/csv-schema":{"source":"iana"},"text/directory":{"source":"iana"},"text/dns":{"source":"iana"},"text/ecmascript":{"source":"apache"},"text/encaprtp":{"source":"iana"},"text/enriched":{"source":"iana"},"text/fhirpath":{"source":"iana"},"text/flexfec":{"source":"iana"},"text/fwdred":{"source":"iana"},"text/gff3":{"source":"iana"},"text/grammar-ref-list":{"source":"iana"},"text/hl7v2":{"source":"iana"},"text/html":{"source":"iana","compressible":true,"extensions":["html","htm","shtml"]},"text/jade":{"extensions":["jade"]},"text/javascript":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["js","mjs"]},"text/jcr-cnd":{"source":"iana"},"text/jsx":{"compressible":true,"extensions":["jsx"]},"text/less":{"compressible":true,"extensions":["less"]},"text/markdown":{"source":"iana","compressible":true,"extensions":["md","markdown"]},"text/mathml":{"source":"nginx","extensions":["mml"]},"text/mdx":{"compressible":true,"extensions":["mdx"]},"text/mizar":{"source":"iana"},"text/n3":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["n3"]},"text/parameters":{"source":"iana","charset":"UTF-8"},"text/parityfec":{"source":"iana"},"text/plain":{"source":"iana","compressible":true,"extensions":["txt","text","conf","def","list","log","in","ini"]},"text/provenance-notation":{"source":"iana","charset":"UTF-8"},"text/prs.fallenstein.rst":{"source":"iana"},"text/prs.lines.tag":{"source":"iana","extensions":["dsc"]},"text/prs.prop.logic":{"source":"iana"},"text/prs.texi":{"source":"iana"},"text/raptorfec":{"source":"iana"},"text/red":{"source":"iana"},"text/rfc822-headers":{"source":"iana"},"text/richtext":{"source":"iana","compressible":true,"extensions":["rtx"]},"text/rtf":{"source":"iana","compressible":true,"extensions":["rtf"]},"text/rtp-enc-aescm128":{"source":"iana"},"text/rtploopback":{"source":"iana"},"text/rtx":{"source":"iana"},"text/sgml":{"source":"iana","extensions":["sgml","sgm"]},"text/shaclc":{"source":"iana"},"text/shex":{"source":"iana","extensions":["shex"]},"text/slim":{"extensions":["slim","slm"]},"text/spdx":{"source":"iana","extensions":["spdx"]},"text/strings":{"source":"iana"},"text/stylus":{"extensions":["stylus","styl"]},"text/t140":{"source":"iana"},"text/tab-separated-values":{"source":"iana","compressible":true,"extensions":["tsv"]},"text/troff":{"source":"iana","extensions":["t","tr","roff","man","me","ms"]},"text/turtle":{"source":"iana","charset":"UTF-8","extensions":["ttl"]},"text/ulpfec":{"source":"iana"},"text/uri-list":{"source":"iana","compressible":true,"extensions":["uri","uris","urls"]},"text/vcard":{"source":"iana","compressible":true,"extensions":["vcard"]},"text/vnd.a":{"source":"iana"},"text/vnd.abc":{"source":"iana"},"text/vnd.ascii-art":{"source":"iana"},"text/vnd.curl":{"source":"iana","extensions":["curl"]},"text/vnd.curl.dcurl":{"source":"apache","extensions":["dcurl"]},"text/vnd.curl.mcurl":{"source":"apache","extensions":["mcurl"]},"text/vnd.curl.scurl":{"source":"apache","extensions":["scurl"]},"text/vnd.debian.copyright":{"source":"iana","charset":"UTF-8"},"text/vnd.dmclientscript":{"source":"iana"},"text/vnd.dvb.subtitle":{"source":"iana","extensions":["sub"]},"text/vnd.esmertec.theme-descriptor":{"source":"iana","charset":"UTF-8"},"text/vnd.exchangeable":{"source":"iana"},"text/vnd.familysearch.gedcom":{"source":"iana","extensions":["ged"]},"text/vnd.ficlab.flt":{"source":"iana"},"text/vnd.fly":{"source":"iana","extensions":["fly"]},"text/vnd.fmi.flexstor":{"source":"iana","extensions":["flx"]},"text/vnd.gml":{"source":"iana"},"text/vnd.graphviz":{"source":"iana","extensions":["gv"]},"text/vnd.hans":{"source":"iana"},"text/vnd.hgl":{"source":"iana"},"text/vnd.in3d.3dml":{"source":"iana","extensions":["3dml"]},"text/vnd.in3d.spot":{"source":"iana","extensions":["spot"]},"text/vnd.iptc.newsml":{"source":"iana"},"text/vnd.iptc.nitf":{"source":"iana"},"text/vnd.latex-z":{"source":"iana"},"text/vnd.motorola.reflex":{"source":"iana"},"text/vnd.ms-mediapackage":{"source":"iana"},"text/vnd.net2phone.commcenter.command":{"source":"iana"},"text/vnd.radisys.msml-basic-layout":{"source":"iana"},"text/vnd.senx.warpscript":{"source":"iana"},"text/vnd.si.uricatalogue":{"source":"apache"},"text/vnd.sosi":{"source":"iana"},"text/vnd.sun.j2me.app-descriptor":{"source":"iana","charset":"UTF-8","extensions":["jad"]},"text/vnd.trolltech.linguist":{"source":"iana","charset":"UTF-8"},"text/vnd.vcf":{"source":"iana"},"text/vnd.wap.si":{"source":"iana"},"text/vnd.wap.sl":{"source":"iana"},"text/vnd.wap.wml":{"source":"iana","extensions":["wml"]},"text/vnd.wap.wmlscript":{"source":"iana","extensions":["wmls"]},"text/vnd.zoo.kcl":{"source":"iana"},"text/vtt":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["vtt"]},"text/wgsl":{"source":"iana","extensions":["wgsl"]},"text/x-asm":{"source":"apache","extensions":["s","asm"]},"text/x-c":{"source":"apache","extensions":["c","cc","cxx","cpp","h","hh","dic"]},"text/x-component":{"source":"nginx","extensions":["htc"]},"text/x-fortran":{"source":"apache","extensions":["f","for","f77","f90"]},"text/x-gwt-rpc":{"compressible":true},"text/x-handlebars-template":{"extensions":["hbs"]},"text/x-java-source":{"source":"apache","extensions":["java"]},"text/x-jquery-tmpl":{"compressible":true},"text/x-lua":{"extensions":["lua"]},"text/x-markdown":{"compressible":true,"extensions":["mkd"]},"text/x-nfo":{"source":"apache","extensions":["nfo"]},"text/x-opml":{"source":"apache","extensions":["opml"]},"text/x-org":{"compressible":true,"extensions":["org"]},"text/x-pascal":{"source":"apache","extensions":["p","pas"]},"text/x-processing":{"compressible":true,"extensions":["pde"]},"text/x-sass":{"extensions":["sass"]},"text/x-scss":{"extensions":["scss"]},"text/x-setext":{"source":"apache","extensions":["etx"]},"text/x-sfv":{"source":"apache","extensions":["sfv"]},"text/x-suse-ymp":{"compressible":true,"extensions":["ymp"]},"text/x-uuencode":{"source":"apache","extensions":["uu"]},"text/x-vcalendar":{"source":"apache","extensions":["vcs"]},"text/x-vcard":{"source":"apache","extensions":["vcf"]},"text/xml":{"source":"iana","compressible":true,"extensions":["xml"]},"text/xml-external-parsed-entity":{"source":"iana"},"text/yaml":{"compressible":true,"extensions":["yaml","yml"]},"video/1d-interleaved-parityfec":{"source":"iana"},"video/3gpp":{"source":"iana","extensions":["3gp","3gpp"]},"video/3gpp-tt":{"source":"iana"},"video/3gpp2":{"source":"iana","extensions":["3g2"]},"video/av1":{"source":"iana"},"video/bmpeg":{"source":"iana"},"video/bt656":{"source":"iana"},"video/celb":{"source":"iana"},"video/dv":{"source":"iana"},"video/encaprtp":{"source":"iana"},"video/evc":{"source":"iana"},"video/ffv1":{"source":"iana"},"video/flexfec":{"source":"iana"},"video/h261":{"source":"iana","extensions":["h261"]},"video/h263":{"source":"iana","extensions":["h263"]},"video/h263-1998":{"source":"iana"},"video/h263-2000":{"source":"iana"},"video/h264":{"source":"iana","extensions":["h264"]},"video/h264-rcdo":{"source":"iana"},"video/h264-svc":{"source":"iana"},"video/h265":{"source":"iana"},"video/h266":{"source":"iana"},"video/iso.segment":{"source":"iana","extensions":["m4s"]},"video/jpeg":{"source":"iana","extensions":["jpgv"]},"video/jpeg2000":{"source":"iana"},"video/jpm":{"source":"apache","extensions":["jpm","jpgm"]},"video/jxsv":{"source":"iana"},"video/lottie+json":{"source":"iana","compressible":true},"video/matroska":{"source":"iana"},"video/matroska-3d":{"source":"iana"},"video/mj2":{"source":"iana","extensions":["mj2","mjp2"]},"video/mp1s":{"source":"iana"},"video/mp2p":{"source":"iana"},"video/mp2t":{"source":"iana","extensions":["ts","m2t","m2ts","mts"]},"video/mp4":{"source":"iana","compressible":false,"extensions":["mp4","mp4v","mpg4"]},"video/mp4v-es":{"source":"iana"},"video/mpeg":{"source":"iana","compressible":false,"extensions":["mpeg","mpg","mpe","m1v","m2v"]},"video/mpeg4-generic":{"source":"iana"},"video/mpv":{"source":"iana"},"video/nv":{"source":"iana"},"video/ogg":{"source":"iana","compressible":false,"extensions":["ogv"]},"video/parityfec":{"source":"iana"},"video/pointer":{"source":"iana"},"video/quicktime":{"source":"iana","compressible":false,"extensions":["qt","mov"]},"video/raptorfec":{"source":"iana"},"video/raw":{"source":"iana"},"video/rtp-enc-aescm128":{"source":"iana"},"video/rtploopback":{"source":"iana"},"video/rtx":{"source":"iana"},"video/scip":{"source":"iana"},"video/smpte291":{"source":"iana"},"video/smpte292m":{"source":"iana"},"video/ulpfec":{"source":"iana"},"video/vc1":{"source":"iana"},"video/vc2":{"source":"iana"},"video/vnd.cctv":{"source":"iana"},"video/vnd.dece.hd":{"source":"iana","extensions":["uvh","uvvh"]},"video/vnd.dece.mobile":{"source":"iana","extensions":["uvm","uvvm"]},"video/vnd.dece.mp4":{"source":"iana"},"video/vnd.dece.pd":{"source":"iana","extensions":["uvp","uvvp"]},"video/vnd.dece.sd":{"source":"iana","extensions":["uvs","uvvs"]},"video/vnd.dece.video":{"source":"iana","extensions":["uvv","uvvv"]},"video/vnd.directv.mpeg":{"source":"iana"},"video/vnd.directv.mpeg-tts":{"source":"iana"},"video/vnd.dlna.mpeg-tts":{"source":"iana"},"video/vnd.dvb.file":{"source":"iana","extensions":["dvb"]},"video/vnd.fvt":{"source":"iana","extensions":["fvt"]},"video/vnd.hns.video":{"source":"iana"},"video/vnd.iptvforum.1dparityfec-1010":{"source":"iana"},"video/vnd.iptvforum.1dparityfec-2005":{"source":"iana"},"video/vnd.iptvforum.2dparityfec-1010":{"source":"iana"},"video/vnd.iptvforum.2dparityfec-2005":{"source":"iana"},"video/vnd.iptvforum.ttsavc":{"source":"iana"},"video/vnd.iptvforum.ttsmpeg2":{"source":"iana"},"video/vnd.motorola.video":{"source":"iana"},"video/vnd.motorola.videop":{"source":"iana"},"video/vnd.mpegurl":{"source":"iana","extensions":["mxu","m4u"]},"video/vnd.ms-playready.media.pyv":{"source":"iana","extensions":["pyv"]},"video/vnd.nokia.interleaved-multimedia":{"source":"iana"},"video/vnd.nokia.mp4vr":{"source":"iana"},"video/vnd.nokia.videovoip":{"source":"iana"},"video/vnd.objectvideo":{"source":"iana"},"video/vnd.planar":{"source":"iana"},"video/vnd.radgamettools.bink":{"source":"iana"},"video/vnd.radgamettools.smacker":{"source":"apache"},"video/vnd.sealed.mpeg1":{"source":"iana"},"video/vnd.sealed.mpeg4":{"source":"iana"},"video/vnd.sealed.swf":{"source":"iana"},"video/vnd.sealedmedia.softseal.mov":{"source":"iana"},"video/vnd.uvvu.mp4":{"source":"iana","extensions":["uvu","uvvu"]},"video/vnd.vivo":{"source":"iana","extensions":["viv"]},"video/vnd.youtube.yt":{"source":"iana"},"video/vp8":{"source":"iana"},"video/vp9":{"source":"iana"},"video/webm":{"source":"apache","compressible":false,"extensions":["webm"]},"video/x-f4v":{"source":"apache","extensions":["f4v"]},"video/x-fli":{"source":"apache","extensions":["fli"]},"video/x-flv":{"source":"apache","compressible":false,"extensions":["flv"]},"video/x-m4v":{"source":"apache","extensions":["m4v"]},"video/x-matroska":{"source":"apache","compressible":false,"extensions":["mkv","mk3d","mks"]},"video/x-mng":{"source":"apache","extensions":["mng"]},"video/x-ms-asf":{"source":"apache","extensions":["asf","asx"]},"video/x-ms-vob":{"source":"apache","extensions":["vob"]},"video/x-ms-wm":{"source":"apache","extensions":["wm"]},"video/x-ms-wmv":{"source":"apache","compressible":false,"extensions":["wmv"]},"video/x-ms-wmx":{"source":"apache","extensions":["wmx"]},"video/x-ms-wvx":{"source":"apache","extensions":["wvx"]},"video/x-msvideo":{"source":"apache","extensions":["avi"]},"video/x-sgi-movie":{"source":"apache","extensions":["movie"]},"video/x-smv":{"source":"apache","extensions":["smv"]},"x-conference/x-cooltalk":{"source":"apache","extensions":["ice"]},"x-shader/x-fragment":{"compressible":true},"x-shader/x-vertex":{"compressible":true}}')},e=>{"use strict";e.exports=Vue},(e,t,n)=>{"use strict";function o(e,t=!1,n){if(t)n.querySelectorAll(e).forEach(e=>e.remove());else{const t=n.querySelector(e);t&&t.remove()}}function a(e,t){!function t(n){Array.from(n.childNodes).forEach(n=>{let o;if(o="#text"===n.nodeName?n.textContent??"":n.innerText??"",o.length<200||n instanceof Text)for(const t of e)t instanceof RegExp&&t.test(o)&&n.remove(),"string"==typeof t&&o.includes(t)&&n.remove();else t(n)})}(t)}function i(e,t){for(const n of e)"string"==typeof n?t.innerHTML=t.innerHTML.replaceAll(n,""):n instanceof RegExp&&(t.innerHTML=t.innerHTML.replace(n,""));return t}function r(e,t){Array.from(e.childNodes).forEach(e=>t.appendChild(e))}function s(e){const t=e.querySelectorAll("*"),n=Array.from(t).filter(e=>0===e.childElementCount).map(e=>o(e,0));return Math.max(...n);function o(t,n){if(e.isSameNode(t))return n;{const e=t.parentElement;return e?o(e,n+1):n}}}function c(e){return Array.from(e.childNodes).filter(e=>"#text"===e.nodeName).reduce((e,t)=>(e||(e=0),e+(t.textContent?.trim().length??0)),0)}function l(e){const t=document.createElement("iframe");document.body.appendChild(t);const n=/^[$A-Z_][0-9A-Z_$]*$/i;if(t.contentWindow){const o=t.contentWindow.Function,a=Object.keys(t.contentWindow).filter(e=>n.test(e)).join();return document.body.removeChild(t),o(a,e)()}}function u(e){const t=document.createElement("div");if(t.innerHTML=e,1===t.childElementCount&&t.firstElementChild)return t.firstElementChild;throw new Error("Create HTMLElement Failed!")}function p(e,t){const n=u(`<style>${e}</style>`);return t&&(n.id=t),n}function d(e){return e.nextSibling instanceof HTMLElement?e.nextSibling:e.nextSibling instanceof Text?""!==e.nextSibling.textContent?.trim()?e.nextSibling:e.nextSibling.nextSibling:void 0}function m(e){return e.previousSibling instanceof HTMLElement?e.previousSibling:e.previousSibling instanceof Text?""!==e.previousSibling.textContent?.trim()?e.previousSibling:e.previousSibling.previousSibling:void 0}function h(e){const t=m(e);return t instanceof HTMLBRElement?h(t)+1:0}function g(e){const t=m(e);return e instanceof HTMLBRElement&&e.remove(),t instanceof HTMLBRElement?g(t):void 0}function f(e){return Array.from(e).reduce((e,t)=>{const n=t.codePointAt(0);return void 0===n?e:n<128?e+.5:e+1},0)}function x(e){let t;if("string"==typeof e&&(t=(new DOMParser).parseFromString(e,"text/html")),e instanceof Document&&(t=e),t instanceof Document)return(new XMLSerializer).serializeToString(t);throw new Error("input format error!")}function b(e){for(const t of Array.from(e.childNodes))t instanceof Text&&""!==t.textContent?.trim()&&t.parentElement?.insertBefore(document.createElement("br"),t)}function v(e){return null===e.offsetParent}function w(e){const t=document.createElement("p");return t.appendChild(document.createTextNode(e)),t.innerHTML}n.d(t,{Fv:()=>r,Jw:()=>h,K4:()=>c,Md:()=>b,QJ:()=>f,S0:()=>g,Sf:()=>a,UN:()=>m,Zn:()=>w,_r:()=>p,a_:()=>u,d6:()=>l,dK:()=>v,e_:()=>s,j3:()=>i,pI:()=>x,rm:()=>o,wX:()=>d})},(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var o=n(11),a=n.n(o),i=n(12),r=n.n(i)()(a());r.push([e.id,".button-div {\n  position: fixed;\n  top: 15%;\n  right: 5%;\n  z-index: 10000;\n}\n.button-div button {\n  border-style: none;\n  text-align: center;\n  vertical-align: baseline;\n  background-color: rgba(128, 128, 128, 0.2);\n  padding: 3px;\n  border-radius: 12px;\n  min-width: auto;\n  min-height: auto;\n}\n.button-div img.start,\n.button-div img.jump {\n  height: 2em;\n}\n.button-div img.setting {\n  height: 1em;\n}\n",""]);const s=r},e=>{"use strict";e.exports=function(e){return e[1]}},e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n="",o=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),o&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),o&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n}).join("")},t.i=function(e,n,o,a,i){"string"==typeof e&&(e=[[null,e,void 0]]);var r={};if(o)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(r[c]=!0)}for(var l=0;l<e.length;l++){var u=[].concat(e[l]);o&&r[u[0]]||(void 0!==i&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=i),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),a&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=a):u[4]="".concat(a)),t.push(u))}},t}},function(e,t,n){var o,a;void 0===(a="function"==typeof(o=function(){"use strict";function t(e,t,n){var o=new XMLHttpRequest;o.open("GET",e),o.responseType="blob",o.onload=function(){s(o.response,t,n)},o.onerror=function(){console.error("could not download file")},o.send()}function o(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function a(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(n){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var i="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof n.g&&n.g.global===n.g?n.g:void 0,r=i.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),s=i.saveAs||("object"!=typeof window||window!==i?function(){}:"download"in HTMLAnchorElement.prototype&&!r?function(e,n,r){var s=i.URL||i.webkitURL,c=document.createElement("a");n=n||e.name||"download",c.download=n,c.rel="noopener","string"==typeof e?(c.href=e,c.origin===location.origin?a(c):o(c.href)?t(e,n,r):a(c,c.target="_blank")):(c.href=s.createObjectURL(e),setTimeout(function(){s.revokeObjectURL(c.href)},4e4),setTimeout(function(){a(c)},0))}:"msSaveOrOpenBlob"in navigator?function(e,n,i){if(n=n||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(function(e,t){return void 0===t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}(e,i),n);else if(o(e))t(e,n,i);else{var r=document.createElement("a");r.href=e,r.target="_blank",setTimeout(function(){a(r)})}}:function(e,n,o,a){if((a=a||open("","_blank"))&&(a.document.title=a.document.body.innerText="downloading..."),"string"==typeof e)return t(e,n,o);var s="application/octet-stream"===e.type,c=/constructor/i.test(i.HTMLElement)||i.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||s&&c||r)&&"undefined"!=typeof FileReader){var u=new FileReader;u.onloadend=function(){var e=u.result;e=l?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),a?a.location.href=e:location=e,a=null},u.readAsDataURL(e)}else{var p=i.URL||i.webkitURL,d=p.createObjectURL(e);a?a.location=d:location.href=d,a=null,setTimeout(function(){p.revokeObjectURL(d)},4e4)}});i.saveAs=s.saveAs=s,e.exports=s})?o.apply(t,[]):o)||(e.exports=a)},(e,t,n)=>{"use strict";function o(e,t=(e,t)=>e.chapterNumber-t.chapterNumber){const n={};for(const t of e){let e=null;e=t.sectionNumber&&t.sectionName?t.sectionNumber:-99999999,n[e]?n[e].chpaters.push(t):n[e]={sectionName:t.sectionName,sectionNumber:t.sectionNumber,chpaters:[t]}}const o=Object.values(n);return o.sort(function(e,n){const o=e.chpaters[0],a=n.chpaters[0];return t(o,a)}),o.forEach(e=>e.chpaters.sort(t)),o}n.d(t,{e:()=>o})},(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var o=n(11),a=n.n(o),i=n(12),r=n.n(i)()(a());r.push([e.id,":root {\n  --good-chapter-color: #41b883;\n  --bad-chapter-color: #e73838;\n  --warning-chapter-color: #ff9900;\n}\ndiv.chapter-list-loading {\n  padding-top: 5em;\n  padding-bottom: 5em;\n  text-align: center;\n}\ndiv.chapter-list {\n  max-height: 200px;\n  overflow-y: scroll;\n}\ndiv.chapter-list .section {\n  margin-top: 1.5em;\n  display: grid;\n  grid-template-columns: 32% 32% 32%;\n}\ndiv.chapter-list .section > h3:first-child {\n  grid-column-end: span 3;\n  text-align: center;\n}\ndiv.chapter-list .section > div.chapter {\n  text-align: center;\n  padding-top: 0.5em;\n  padding-bottom: 0.3em;\n  padding-left: 23px;\n  padding-right: 20px;\n  border: 1px solid #d9d9d9;\n  border-radius: 5px;\n  margin-left: 10px;\n  margin-top: 5px;\n  margin-right: 0;\n  margin-bottom: 0;\n}\ndiv.chapter-list .section a.disabled {\n  pointer-events: none;\n  cursor: default;\n}\ndiv.chapter-list .section a {\n  text-decoration: none;\n}\ndiv.chapter-list div.chapter.good {\n  background: var(--good-chapter-color);\n}\ndiv.chapter-list div.chapter.bad {\n  background: var(--bad-chapter-color);\n}\ndiv.chapter-list div.chapter.good.warning {\n  background: var(--warning-chapter-color);\n}\ndiv.chapter-list div.chapter.bad a,\ndiv.chapter-list div.chapter.good a {\n  color: white;\n  font-size: 0.9em;\n}\n.nd-setting-body span.good {\n  color: var(--good-chapter-color);\n}\n.nd-setting-body span.bad {\n  color: var(--bad-chapter-color);\n}\n.nd-setting-body span.warning {\n  color: var(--warning-chapter-color);\n}\n",""]);const s=r},(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var o=n(11),a=n.n(o),i=n(12),r=n.n(i)()(a());r.push([e.id,".filter-setting {\n  padding-top: 0.4em;\n  padding-bottom: 0.8em;\n  text-align: center;\n}\n\n.filter-input + .filter-setter {\n  margin-top: 1em;\n}\n\n.filter-description {\n  font-size: larger;\n  color: cornflowerblue;\n}\n",""]);const s=r},(e,t,n)=>{"use strict";n.d(t,{M6:()=>l,gh:()=>s,kc:()=>r});var o=n(13),a=n(2),i=n.n(a);n(3).Nw.value?i().setLevel("trace"):i().setLevel("info");let r="";function s(){return r}const c=i().methodFactory;function l(){(0,o.saveAs)(new Blob([r],{type:"text/plain; charset=UTF-8"}),`novel-downloader-${Date.now().toString()}.log`)}i().methodFactory=(e,t,n)=>{const o=c(e,t,n);return e=>{try{"object"==typeof e?e instanceof Error?(r+=e.name,r+=e.message,r+=e.stack):r+=JSON.stringify(e,void 0,2)+"\n":r+=e+"\n"}catch(e){i().error(e)}o(e)}},i().setLevel(i().getLevel())},(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var o=n(11),a=n.n(o),i=n(12),r=n.n(i)()(a());r.push([e.id,'.nd-setting-body {\n  background: #e0e0e0;\n  padding: 1em;\n  border-top-right-radius: 3px;\n}\n.nd-setting-body hr {\n  margin-top: 0.8em;\n  margin-bottom: 0.8em;\n}\n.nd-setting-body input[type="checkbox"],\n.nd-setting-body input[type="radio"],\n.nd-setting-body input[type="text"] {\n  position: static;\n  opacity: 1;\n  margin: auto;\n  padding: initial;\n  appearance: revert !important;\n  -webkit-appearance: revert !important;\n  all: revert;\n}\ndialog-ui .tab-button {\n  padding: 6px 10px;\n  border-top-left-radius: 3px;\n  border-top-right-radius: 3px;\n  border: 1px solid #ccc;\n  cursor: pointer;\n  background: #f0f0f0;\n  margin-bottom: -1px;\n  margin-right: -1px;\n  color: black;\n  line-height: normal;\n  display: inline-block;\n  text-align: center;\n  font-weight: bold;\n  max-width: 9em;\n  box-sizing: initial;\n}\ndialog-ui .tab-button:hover {\n  background: #e0e0e0;\n}\ndialog-ui .tab-button.active {\n  background: #e0e0e0;\n}\ndialog-ui #nd-setting-tab-1 input + label {\n  all: revert;\n}\ndialog-ui #nd-setting-tab-2 select {\n  all: revert;\n}\n.nd-setting-footer {\n  background: #e0e0e0;\n  padding-bottom: 0.7em;\n  text-align: center;\n  border-bottom-left-radius: 3px;\n  border-bottom-right-radius: 3px;\n}\n.nd-setting-footer > button {\n  all: revert;\n}\n/* 日志页面 */\n#novel-downloader-log {\n  max-height: 300px;\n  overflow: scroll;\n}\n/* 彩色斜纹 来自：https://www.zhangxinxu.com/wordpress/2021/05/css-html-hr/ */\n.hr-twill-colorful {\n  all: revert;\n  border: 0;\n  padding: 3px;\n  background: linear-gradient(135deg, red, orange, green, blue, purple);\n  --mask-image: repeating-linear-gradient(135deg, #000 0px, #000 1px, transparent 1px, transparent 6px);\n  -webkit-mask-image: var(--mask-image);\n  mask-image: var(--mask-image);\n}\n/* 两头虚 来自：https://www.zhangxinxu.com/wordpress/2021/05/css-html-hr/ */\n.hr-edge-weak {\n  all: revert;\n  border: 0;\n  padding-top: 1px;\n  background: linear-gradient(to right, transparent, #d0d0d5, transparent);\n}\n',""]);const s=r},(e,t,n)=>{"use strict";n.d(t,{rd:()=>d,if:()=>m,_s:()=>u,VJ:()=>h,Ld:()=>p});var o=n(20),a=n(22),i=n(2),r=n.n(i),s=n(4),c=n(23);let l=[];function u(e){return l.find(t=>t.url===e)}function p(e){return l.push(e),!0}function d(){l=[]}async function m(e,t,n="",i=!1,s=h(),l){if("naive"===t){const t=new URL(e);"https:"===document.location.protocol&&"http:"===t.protocol&&(t.protocol=document.location.protocol,e=t.href)}const d=u(e);if(d)return d;const m=new o.q(e,s,t,l?.referrerMode,l?.customReferer);m.comments=s;const g=await m.init();if(g)if(i)m.name=function(e){const t=new URL(e).pathname;return t.substring(t.lastIndexOf("/")+1)}(e);else{const t=await async function(e){if("function"==typeof crypto?.subtle?.digest){const t=await e.arrayBuffer(),n=await crypto.subtle.digest("SHA-1",t);return Array.from(new Uint8Array(n)).map(e=>e.toString(16).padStart(2,"0")).join("")}return new Promise((t,n)=>{const o=new FileReader;o.readAsArrayBuffer(e),o.onloadend=()=>{if(o.result){const e=a.lib.WordArray.create(o.result),n=a.SHA1(e).toString();t(n)}else n(Error("计算MD5值出错"))}})}(g),o=await async function(e,t){const n=(0,c.filetypeextension)(new Uint8Array(await e.arrayBuffer()));if(0!==n.length)return n[0];const o=e.type.split(";")[0].split("/")[1];return["octet-stream"].includes(o)?function(e){const t=new URL(e).pathname;return t.substring(t.lastIndexOf(".")+1)}(t):o}(g,e);m.name=[n,t,".",o].join("")}return p(m),r().debug(`[attachment]下载附件完成！ url:${m.url}, name: ${m.name}`),m}function h(){return`__${(0,s.N4)()}__`}},(e,t,n)=>{"use strict";n.d(t,{q:()=>l});var o=n(21),a=n(4),i=n(2),r=n.n(i),s=n(3),c=n(5);class l{url;name;mode;DEFAULT_UA="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/121.0.0.0 Safari/537.36";status=c.nW.pending;retryTime=0;Blob;comments;referrerMode;_init;_TMinit;constructor(e,t,n,o=c.ls.keep,i="",r){this.url=e,this.name=t,this.mode=n,this.referrerMode=o;const s={init:{referrerPolicy:"strict-origin-when-cross-origin"},TMinit:{headers:{Referer:document.location.origin},responseType:"blob"}};r?(({init:this._init,TMinit:this._TMinit}=(0,a.OJ)(r)),this._TMinit.responseType="blob",this._init.responseType&&delete this._init.responseType):(({init:this._init,TMinit:this._TMinit}=s),this.referrerMode===c.ls.none&&(this._init.referrerPolicy="no-referrer",this._TMinit.headers={}),this.referrerMode===c.ls.self&&(this._TMinit.headers={Referer:new URL(e).origin}),this.referrerMode===c.ls.custom&&i.startsWith("http")&&(this._TMinit.headers={Referer:i})),this._TMinit.headers={...this._TMinit.headers??{},"User-Agent":this.DEFAULT_UA}}async init(){return"naive"===this.mode?this.Blob=await this.download():this.Blob=await this.tmDownload(),this.Blob&&r().info(`[attachment] ${this.url} 下载完成。`),this.Blob}download(){return this.status=c.nW.downloading,fetch(this.url,this._init).then(e=>{if(e.ok)return this.status=c.nW.finished,e.blob();throw 404===e.status&&(this.status=c.nW.failed),new Error(`Bad response!\nRequest url: ${this.url}\nStatus code: ${e.status}`)}).catch(async e=>(this.retryTime++,r().error(`[attachment]下载 ${this.url} 出错，第${this.retryTime}次重试，下载模式：${this.mode}`),this.status!==c.nW.failed&&this.retryTime<s.Iz?(await(0,a.yy)(1500*this.retryTime),this.download()):(this.status=c.nW.failed,r().error(e),r().trace(e),null)))}tmDownload(){return this.status=c.nW.downloading,(0,o._V)(this.url,this._TMinit).then(e=>{if(e.status>=200&&e.status<=299)return this.status=c.nW.finished,e.response;throw 404===e.status&&(this.status=c.nW.failed),new Error(`Bad response!\nRequest url: ${this.url}\nStatus code: ${e.status}`)}).catch(async e=>(this.retryTime++,r().error(`[attachment]下载 ${this.url} 出错，第${this.retryTime}次重试，下载模式：${this.mode}`),this.status!==c.nW.failed&&this.retryTime<s.Iz?(await(0,a.yy)(1500*this.retryTime),this.tmDownload()):(this.status=c.nW.failed,r().error(e),r().trace(e),null)))}toJSON(){return{url:this.url,name:this.name,mode:this.mode,status:this.status,retryTime:this.retryTime}}}},(e,t,n)=>{"use strict";n.d(t,{J5:()=>c,Q2:()=>x,_V:()=>l,bx:()=>m,eF:()=>f,kP:()=>d,n6:()=>g,pG:()=>h,q4:()=>u,wA:()=>p});var o=n(2),a=n.n(o),i=n(3),r=n(1),s=n(4);async function c(e,t){let n=i.Iz;for(;n>0;){const o=await fetch(e,t);if(o.ok)return o;await(0,s.yy)(1e3*(i.Iz-n)),n--}throw new Error(`Fetch with retry failed! Url: ${e}`)}function l(e,{method:t="GET",headers:n,data:o,cookie:i,binary:s,nocache:c,revalidate:l,timeout:u,context:p,responseType:d,overrideMimeType:m,anonymous:h,user:g,password:f}={}){return new Promise((x,b)=>{a().debug("[debug]gfetch:"),a().debug(Array.from(arguments)),(0,r.nV)({url:e,method:t,headers:n,data:o,cookie:i,binary:s,nocache:c,revalidate:l,timeout:u,context:p,responseType:d,overrideMimeType:m,anonymous:h,user:g,password:f,onload:e=>{x(e)},onerror:e=>{b(e)}})})}async function u(e,t,n,o=e=>Promise.resolve(!1)){if("string"==typeof e){const t=new URL(e);"https:"===document.location.protocol&&"http:"===t.protocol&&(t.protocol="https:",e=t.toString())}return void 0===t?fetch(e,n).then(async t=>{if(t.ok||await o(t))return t.text();throw new Error(`Bad response! ${e}`)}).catch(e=>a().error(e)):fetch(e,n).then(async t=>{if(t.ok||await o(t))return t.arrayBuffer();throw new Error(`Bad response! ${e}`)}).then(e=>new TextDecoder(t).decode(e)).catch(e=>a().error(e))}async function p(e,t,n,o=e=>Promise.resolve(!1)){const a=await u(e,t,n,o);if(!a)throw new Error("Fetch Content failed!");const i=(new DOMParser).parseFromString(a,"text/html");if(!i.querySelector("base")){const t=i.createElement("base");t.href="string"==typeof e?e:e.url,i.head.appendChild(t)}return i}async function d(e,t,n,o=e=>Promise.resolve(!1)){let r=i.Iz,c=null;for(;r>0;)try{c=await p(e,t,n,o),r=0}catch(t){a().error(`抓取${e}失败，重试第${i.Iz-r}次。`),a().error(t),r--,await(0,s.yy)(1e3*(i.Iz-r))}return c}async function m(e,t,n,o=e=>Promise.resolve(!1)){let i=n?(0,s.OJ)(n):void 0;return void 0===t?l(e,n).then(async t=>{if(t.status>=200&&t.status<=299||await o(t))return t.responseText;throw new Error(`Bad response! ${e}`)}).catch(e=>a().error(e)):(i?i.responseType="arraybuffer":i={responseType:"arraybuffer"},l(e,i).then(async t=>{if(t.status>=200&&t.status<=299||await o(t))return t.response;throw new Error(`Bad response! ${e}`)}).then(e=>new TextDecoder(t).decode(e)).catch(e=>a().error(e)))}async function h(e,t,n,o=e=>Promise.resolve(!1)){const a=await m(e,t,n,o);if(!a)throw new Error("Fetch Content failed!");const i=(new DOMParser).parseFromString(a,"text/html");if(!i.querySelector("base")){const t=i.createElement("base");t.href=e,i.head.appendChild(t)}return i}function g(e,t=0,n="load",o){const i=document.createElement("iframe");i.src=e,i.width="1",i.height="1",o?.forEach(e=>i.sandbox.add(e)),i.addEventListener("error",e=>a().error(e));const r=new Promise((e,o)=>{i.addEventListener(n,function(n){const a=n.target;setTimeout(()=>{a||o(new Error("EventTarget Not Found!"));const t=a.contentWindow?.document??null;a.remove(),e(t)},t)})});return a().debug("[debug]getFrameContent:"+e),document.body.appendChild(i),r}async function f(e,t,n){const o=document.createElement("iframe");o.src=e,o.width="1",o.height="1",n?.forEach(e=>o.sandbox.add(e)),o.addEventListener("error",e=>a().error(e)),a().debug("[debug]getFrameContent:"+e);const i=new Promise((e,n)=>{o||n(new Error("Frame Not Found!"));let a=0;a=window.setInterval(()=>{if(t(o)){const t=o.contentWindow?.document??null;o.remove(),window.clearInterval(a),e(t)}},1e3),setTimeout(()=>{o.remove(),window.clearInterval(a),n(new Error("Frame Timeout!"))},3e4)});return document.body.appendChild(o),i}async function x(e,t,n){const o=document.createElement("iframe");o.src=e,o.width="1",o.height="1",n?.forEach(e=>o.sandbox.add(e)),o.addEventListener("error",e=>a().error(e)),a().debug("[debug]getFrameContent:"+e);const i=new Promise((e,n)=>{o||n(new Error("Frame Not Found!"));let a=0;a=window.setInterval(()=>{t(o)&&(window.clearInterval(a),e(o))},1e3),setTimeout(()=>{window.clearInterval(a),n(new Error("Frame Timeout!"))},3e4)});return document.body.appendChild(o),i}globalThis.fetch=new Proxy(globalThis.fetch,{apply:(e,t,n)=>(a().debug("[debug]fetch:"),a().debug(n),Reflect.apply(e,t,n))})},e=>{"use strict";e.exports=CryptoJS},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.register=t.filetypeextension=t.filetypemime=t.filetypename=t.filetypeinfo=void 0;const o=n(24),a=n(25),i=o.createTree();t.filetypeinfo=e=>{let t=i;for(const n of Object.keys(t.offset)){const t=a.fromHex(n);if(t>=e.length)continue;const o=i.offset[n],s=r(t,e,o);if(s.length>0)return s}return null===t.noOffset?[]:r(0,e,t.noOffset)};const r=(e,t,n)=>{let o=n,i=[];for(;;){const n=a.toHex(t[e]);if(o=o.bytes["?"]&&!o.bytes[n]?o.bytes["?"]:o.bytes[n],!o)return i;o&&o.matches&&(i=o.matches.slice(0)),e+=1}};t.default=t.filetypeinfo,t.filetypename=e=>t.filetypeinfo(e).map(e=>e.typename),t.filetypemime=e=>t.filetypeinfo(e).map(e=>e.mime?e.mime:null).filter(e=>null!==e),t.filetypeextension=e=>t.filetypeinfo(e).map(e=>e.extension?e.extension:null).filter(e=>null!==e),t.register=(e,t,n,a)=>{o.add(e,t,n,a)}},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createTree=t.add=void 0;const o=n(25),a=n(26);let i={noOffset:null,offset:{}};t.add=(e,t,n,r)=>{if(r){const s=i.offset[o.toHex(r)];if(s){const c=a.merge(a.createNode(e,t.map(e=>e.toLowerCase()),n),{...s});i.offset[o.toHex(r)]=c}else i.offset[o.toHex(r)]=a.createComplexNode(e,t.map(e=>e.toLowerCase()),n)}else null===i.noOffset?i.noOffset=a.createComplexNode(e,t.map(e=>e.toLowerCase()),n):i.noOffset=a.merge(a.createNode(e,t.map(e=>e.toLowerCase()),n),i.noOffset)},t.add("gif",["0x47","0x49","0x46","0x38","0x37","0x61"],{mime:"image/gif",extension:"gif"}),t.add("gif",["0x47","0x49","0x46","0x38","0x39","0x61"],{mime:"image/gif",extension:"gif"}),t.add("jpg",["0xFF","0xD8","0xFF"],{mime:"image/jpeg",extension:"jpeg"}),t.add("webp",["0x52","0x49","0x46","0x46","?","?","?","?","0x57","0x45","0x42","0x50"],{mime:"image/webp",extension:"webp"}),t.add("heif",["0x66","0x74","0x79","0x70","0x6D","0x69","0x66","0x31"],{mime:"image/heif",extension:"heif"},4),t.add("heif",["0x66","0x74","0x79","0x70","0x68","0x65","0x69","0x63"],{mime:"image/heif",extension:"heic"},4),t.add("rpm",["0xed","0xab","0xee","0xdb"]),t.add("bin",["0x53","0x50","0x30","0x31"],{mime:"application/octet-stream",extension:"bin"}),t.add("pic",["0x00"]),t.add("pif",["0x00"]),t.add("sea",["0x00"]),t.add("ytr",["0x00"]),t.add("mp4",["0x66","0x74","0x79","0x70"],{mime:"video/mp4",extension:"mp4"},4),t.add("ttf",["0x00","0x01","0x00","0x00","0x00"],{mime:"font/ttf",extension:"ttf"}),t.add("otf",["0x4F","0x54","0x54","0x4F"],{mime:"font/otf",extension:"otf"}),t.add("eot",["0x50","0x4C"],{mime:"application/vnd.ms-fontobject",extension:"eot"}),t.add("woff",["0x77","0x4F","0x46","0x46"],{mime:"font/woff",extension:"woff"}),t.add("woff2",["0x77","0x4F","0x46","0x32"],{mime:"font/woff2",extension:"woff2"}),t.add("pdb",["0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00"]),t.add("dba",["0xBE","0xBA","0xFE","0xCA"]),t.add("dba2",["0x00","0x01","0x42","0x44"]),t.add("tda",["0x00","0x01","0x44","0x54"]),t.add("tda2",["0x00","0x01","0x00","0x00"]),t.add("ico",["0x00","0x00","0x01","0x00"],{mime:"image/x-icon",extension:"ico"}),t.add("3gp",["0x66","0x74","0x79","0x70","0x33","0x67"]),t.add("z",["0x1F","0x9D"]),t.add("tar.z",["0x1F","0xA0"]),t.add("bac",["0x42","0x41","0x43","0x4B","0x4D","0x49","0x4B","0x45","0x44","0x49","0x53","0x4B"]),t.add("bz2",["0x42","0x5A","0x68"],{mime:"application/x-bzip2",extension:"bz2"}),t.add("tif",["0x49","0x49","0x2A","0x00"],{mime:"image/tiff",extension:"tif"}),t.add("tiff",["0x4D","0x4D","0x00","0x2A"],{mime:"image/tiff",extension:"tiff"}),t.add("cr2",["0x49","0x49","0x2A","0x00","0x10","0x00","0x00","0x00","0x43","0x52"]),t.add("cin",["0x80","0x2A","0x5F","0xD7"]),t.add("cin1",["0x52","0x4E","0x43","0x01"]),t.add("cin2",["0x52","0x4E","0x43","0x02"]),t.add("dpx",["0x53","0x44","0x50","0x58"]),t.add("dpx2",["0x58","0x50","0x44","0x53"]),t.add("exr",["0x76","0x2F","0x31","0x01"]),t.add("bpg",["0x42","0x50","0x47","0xFB"]),t.add("ilbm",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x49","0x4C","0x42","0x4D"]),t.add("8svx",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x38","0x53","0x56","0x58"]),t.add("acbm",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x41","0x43","0x42","0x4D"]),t.add("anbm",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x41","0x4E","0x42","0x4D"]),t.add("anim",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x41","0x4E","0x49","0x4D"]),t.add("faxx",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x46","0x41","0x58","0x58"]),t.add("ftxt",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x46","0x54","0x58","0x54"]),t.add("smus",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x53","0x4D","0x55","0x53"]),t.add("cmus",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x43","0x4D","0x55","0x53"]),t.add("yuvn",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x59","0x55","0x56","0x4E"]),t.add("iff",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x46","0x41","0x4E","0x54"]),t.add("aiff",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x41","0x49","0x46","0x46"],{mime:"audio/x-aiff",extension:"aiff"}),t.add("idx",["0x49","0x4E","0x44","0x58"]),t.add("lz",["0x4C","0x5A","0x49","0x50"]),t.add("exe",["0x4D","0x5A"]),t.add("zip",["0x50","0x4B","0x03","0x04"],{mime:"application/zip",extension:"zip"}),t.add("zip",["0x50","0x4B","0x05","0x06"],{mime:"application/zip",extension:"zip"}),t.add("zip",["0x50","0x4B","0x07","0x08"],{mime:"application/zip",extension:"zip"}),t.add("jar",["0x50","0x4B","0x03","0x04"],{mime:"application/java-archive",extension:"jar"}),t.add("jar",["0x50","0x4B","0x05","0x06"],{mime:"application/java-archive",extension:"jar"}),t.add("jar",["0x50","0x4B","0x07","0x08"],{mime:"application/java-archive",extension:"jar"}),t.add("odt",["0x50","0x4B","0x03","0x04"],{mime:"application/vnd.oasis.opendocument.text",extension:"odt"}),t.add("odt",["0x50","0x4B","0x05","0x06"],{mime:"application/vnd.oasis.opendocument.text",extension:"odt"}),t.add("odt",["0x50","0x4B","0x07","0x08"],{mime:"application/vnd.oasis.opendocument.text",extension:"odt"}),t.add("ods",["0x50","0x4B","0x03","0x04"],{mime:"application/vnd.oasis.opendocument.spreadsheet",extension:"ods"}),t.add("ods",["0x50","0x4B","0x05","0x06"],{mime:"application/vnd.oasis.opendocument.spreadsheet",extension:"ods"}),t.add("ods",["0x50","0x4B","0x07","0x08"],{mime:"application/vnd.oasis.opendocument.spreadsheet",extension:"ods"}),t.add("odp",["0x50","0x4B","0x03","0x04"],{mime:"application/vnd.oasis.opendocument.presentation",extension:"odp"}),t.add("odp",["0x50","0x4B","0x05","0x06"],{mime:"application/vnd.oasis.opendocument.presentation",extension:"odp"}),t.add("odp",["0x50","0x4B","0x07","0x08"],{mime:"application/vnd.oasis.opendocument.presentation",extension:"odp"}),t.add("docx",["0x50","0x4B","0x03","0x04"],{mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",extension:"docx"}),t.add("docx",["0x50","0x4B","0x05","0x06"],{mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",extension:"docx"}),t.add("docx",["0x50","0x4B","0x07","0x08"],{mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",extension:"docx"}),t.add("xlsx",["0x50","0x4B","0x03","0x04"],{mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",extension:"xlsx"}),t.add("xlsx",["0x50","0x4B","0x05","0x06"],{mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",extension:"xlsx"}),t.add("xlsx",["0x50","0x4B","0x07","0x08"],{mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",extension:"xlsx"}),t.add("pptx",["0x50","0x4B","0x03","0x04"],{mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation",extension:"pptx"}),t.add("pptx",["0x50","0x4B","0x05","0x06"],{mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation",extension:"pptx"}),t.add("pptx",["0x50","0x4B","0x07","0x08"],{mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation",extension:"pptx"}),t.add("vsdx",["0x50","0x4B","0x03","0x04"],{mime:"application/vnd.ms-visio.drawing",extension:"vsdx"}),t.add("vsdx",["0x50","0x4B","0x05","0x06"],{mime:"application/vnd.ms-visio.drawing",extension:"vsdx"}),t.add("vsdx",["0x50","0x4B","0x07","0x08"],{mime:"application/vnd.ms-visio.drawing",extension:"vsdx"}),t.add("apk",["0x50","0x4B","0x03","0x04"],{mime:"application/vnd.android.package-archive",extension:"apk"}),t.add("apk",["0x50","0x4B","0x05","0x06"],{mime:"application/vnd.android.package-archive",extension:"apk"}),t.add("apk",["0x50","0x4B","0x07","0x08"],{mime:"application/vnd.android.package-archive",extension:"apk"}),t.add("aar",["0x50","0x4B","0x03","0x04"],{mime:"application/vnd.android.package-archive",extension:"aar"}),t.add("aar",["0x50","0x4B","0x05","0x06"],{mime:"application/vnd.android.package-archive",extension:"aar"}),t.add("aar",["0x50","0x4B","0x07","0x08"],{mime:"application/vnd.android.package-archive",extension:"aar"}),t.add("rar",["0x52","0x61","0x72","0x21","0x1A","0x07","0x00"],{mime:"application/vnd.rar",extension:"rar"}),t.add("rar",["0x52","0x61","0x72","0x21","0x1A","0x07","0x01","0x00"],{mime:"application/vnd.rar",extension:"rar"}),t.add("rar",["0x7F","0x45","0x4C","0x46"],{mime:"application/vnd.rar",extension:"rar"}),t.add("png",["0x89","0x50","0x4E","0x47","0x0D","0x0A","0x1A","0x0A"],{mime:"image/png",extension:"png"}),t.add("apng",["0x89","0x50","0x4E","0x47","0x0D","0x0A","0x1A","0x0A"],{mime:"image/apng",extension:"apng"}),t.add("class",["0xCA","0xFE","0xBA","0xBE"]),t.add("class",["0xEF","0xBB","0xBF"]),t.add("class",["0xFE","0xed","0xFA","0xCE"],void 0,4096),t.add("class",["0xFE","0xed","0xFA","0xCF"],void 0,4096),t.add("class",["0xCE","0xFA","0xed","0xFE"]),t.add("class",["0xCF","0xFA","0xed","0xFE"]),t.add("class",["0xFF","0xFE"]),t.add("class",["0xFF","0xFE"]),t.add("class",["0xFF","0xFE","0x00","0x00"]),t.add("ps",["0x25","0x21","0x50","0x53"],{mime:"application/postscript",extension:".ps"}),t.add("pdf",["0x25","0x50","0x44","0x46"],{mime:"application/pdf",extension:"pdf"}),t.add("asf",["0x30","0x26","0xB2","0x75","0x8E","0x66","0xCF","0x11","0xA6","0xD9","0x00","0xAA","0x00","0x62","0xCE","0x6C"]),t.add("wma",["0x30","0x26","0xB2","0x75","0x8E","0x66","0xCF","0x11","0xA6","0xD9","0x00","0xAA","0x00","0x62","0xCE","0x6C"]),t.add("wmv",["0x30","0x26","0xB2","0x75","0x8E","0x66","0xCF","0x11","0xA6","0xD9","0x00","0xAA","0x00","0x62","0xCE","0x6C"]),t.add("deploymentimage",["0x24","0x53","0x44","0x49","0x30","0x30","0x30","0x31"]),t.add("ogv",["0x4F","0x67","0x67","0x53","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","0x80","0x74","0x68","0x65","0x6F","0x72","0x61"],{mime:"video/ogg",extension:"ogv"}),t.add("ogm",["0x4F","0x67","0x67","0x53","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","0x01","0x76","0x69","0x64","0x65","0x6F","0x00"],{mime:"video/ogg",extension:"ogm"}),t.add("oga",["0x4F","0x67","0x67","0x53","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","0x7F","0x46","0x4C","0x41","0x43"],{mime:"audio/ogg",extension:"oga"}),t.add("spx",["0x4F","0x67","0x67","0x53","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","0x53","0x70","0x65","0x65","0x78","0x20","0x20"],{mime:"audio/ogg",extension:"spx"}),t.add("ogg",["0x4F","0x67","0x67","0x53","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","0x01","0x76","0x6F","0x72","0x62","0x69","0x73"],{mime:"audio/ogg",extension:"ogg"}),t.add("ogx",["0x4F","0x67","0x67","0x53"],{mime:"application/ogg",extension:"ogx"}),t.add("psd",["0x38","0x42","0x50","0x53"],{mime:"application/x-photoshop",extension:"psd"}),t.add("clip",["0x43","0x53","0x46","0x43","0x48","0x55","0x4e","0x4b"]),t.add("wav",["0x52","0x49","0x46","0x46","?","?","?","?","0x57","0x41","0x56","0x45"],{mime:"audio/x-wav",extension:"wav"}),t.add("avi",["0x52","0x49","0x46","0x46","?","?","?","?","0x41","0x56","0x49","0x20"],{mime:"video/x-msvideo",extension:"avi"}),t.add("mp3",["0xFF","0xFB"],{mime:"audio/mpeg",extension:"mp3"}),t.add("mp3",["0xFF","0xF3"],{mime:"audio/mpeg",extension:"mp3"}),t.add("mp3",["0xFF","0xF2"],{mime:"audio/mpeg",extension:"mp3"}),t.add("mp3",["0x49","0x44","0x33"],{mime:"audio/mpeg",extension:"mp3"}),t.add("bmp",["0x42","0x4D"],{mime:"image/bmp",extension:"bmp"}),t.add("iso",["0x43","0x44","0x30","0x30","0x31"]),t.add("flac",["0x66","0x4C","0x61","0x43"]),t.add("mid",["0x4D","0x54","0x68","0x64"],{mime:"audio/midi",extension:"mid"}),t.add("midi",["0x4D","0x54","0x68","0x64"],{mime:"audio/midi",extension:"midi"}),t.add("doc",["0xD0","0xCF","0x11","0xE0","0xA1","0xB1","0x1A","0xE1"],{mime:"application/msword",extension:"doc"}),t.add("xls",["0xD0","0xCF","0x11","0xE0","0xA1","0xB1","0x1A","0xE1"],{mime:"application/vnd.ms-excel",extension:"xls"}),t.add("ppt",["0xD0","0xCF","0x11","0xE0","0xA1","0xB1","0x1A","0xE1"],{mime:"application/vnd.ms-powerpoint",extension:"ppt"}),t.add("msg",["0xD0","0xCF","0x11","0xE0","0xA1","0xB1","0x1A","0xE1"]),t.add("dex",["0x64","0x65","0x78","0x0A","0x30","0x33","0x35","0x00"]),t.add("vmdk",["0x4B","0x44","0x4D"]),t.add("crx",["0x43","0x72","0x32","0x34"]),t.add("fh8",["0x41","0x47","0x44","0x33"]),t.add("cwk",["0x05","0x07","0x00","0x00","0x42","0x4F","0x42","0x4F","0x05","0x07","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x01"]),t.add("cwk",["0x06","0x07","0xE1","0x00","0x42","0x4F","0x42","0x4F","0x06","0x07","0xE1","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x01"]),t.add("toast",["0x45","0x52","0x02","0x00","0x00","0x00"]),t.add("toast",["0x8B","0x45","0x52","0x02","0x00","0x00","0x00"]),t.add("dmg",["0x78","0x01","0x73","0x0D","0x62","0x62","0x60"]),t.add("xar",["0x78","0x61","0x72","0x21"]),t.add("dat",["0x50","0x4D","0x4F","0x43","0x43","0x4D","0x4F","0x43"]),t.add("nes",["0x4E","0x45","0x53","0x1A"]),t.add("tar",["0x75","0x73","0x74","0x61","0x72","0x00","0x30","0x30"],{mime:"application/x-tar",extension:"tar"},257),t.add("tar",["0x75","0x73","0x74","0x61","0x72","0x20","0x20","0x00"],{mime:"application/x-tar",extension:"tar"},257),t.add("tox",["0x74","0x6F","0x78","0x33"]),t.add("mlv",["0x4D","0x4C","0x56","0x49"]),t.add("windowsupdate",["0x44","0x43","0x4D","0x01","0x50","0x41","0x33","0x30"]),t.add("7z",["0x37","0x7A","0xBC","0xAF","0x27","0x1C"],{mime:"application/x-7z-compressed",extension:"7z"}),t.add("gz",["0x1F","0x8B"],{mime:"application/gzip",extension:"gz"}),t.add("tar.gz",["0x1F","0x8B"],{mime:"application/gzip",extension:"tar.gz"}),t.add("xz",["0xFD","0x37","0x7A","0x58","0x5A","0x00","0x00"],{mime:"application/gzip",extension:"xz"}),t.add("tar.xz",["0xFD","0x37","0x7A","0x58","0x5A","0x00","0x00"],{mime:"application/gzip",extension:"tar.xz"}),t.add("lz2",["0x04","0x22","0x4D","0x18"]),t.add("cab",["0x4D","0x53","0x43","0x46"]),t.add("mkv",["0x1A","0x45","0xDF","0xA3"],{mime:"video/x-matroska",extension:"mkv"}),t.add("mka",["0x1A","0x45","0xDF","0xA3"],{mime:"audio/x-matroska",extension:"mka"}),t.add("mks",["0x1A","0x45","0xDF","0xA3"],{mime:"video/x-matroska",extension:"mks"}),t.add("mk3d",["0x1A","0x45","0xDF","0xA3"]),t.add("webm",["0x1A","0x45","0xDF","0xA3"],{mime:"audio/webm",extension:"webm"}),t.add("dcm",["0x44","0x49","0x43","0x4D"],void 0,128),t.add("xml",["0x3C","0x3f","0x78","0x6d","0x6C","0x20"],{mime:"application/xml",extension:"xml"}),t.add("wasm",["0x00","0x61","0x73","0x6d"],{mime:"application/wasm",extension:"wasm"}),t.add("lep",["0xCF","0x84","0x01"]),t.add("swf",["0x43","0x57","0x53"],{mime:"application/x-shockwave-flash",extension:"swf"}),t.add("swf",["0x46","0x57","0x53"],{mime:"application/x-shockwave-flash",extension:"swf"}),t.add("deb",["0x21","0x3C","0x61","0x72","0x63","0x68","0x3E"]),t.add("rtf",["0x7B","0x5C","0x72","0x74","0x66","0x31"],{mime:"application/rtf",extension:"rtf"}),t.add("m2p",["0x00","0x00","0x01","0xBA"]),t.add("vob",["0x00","0x00","0x01","0xBA"]),t.add("mpg",["0x00","0x00","0x01","0xBA"],{mime:"video/mpeg",extension:"mpg"}),t.add("mpeg",["0x00","0x00","0x01","0xBA"],{mime:"video/mpeg",extension:"mpeg"}),t.add("mpeg",["0x47"],{mime:"video/mpeg",extension:"mpeg"}),t.add("mpeg",["0x00","0x00","0x01","0xB3"],{mime:"video/mpeg",extension:"mpeg"}),t.add("mov",["0x66","0x72","0x65","0x65"],{mime:"video/quicktime",extension:"mov"},4),t.add("mov",["0x6D","0x64","0x61","0x74"],{mime:"video/quicktime",extension:"mov"},4),t.add("mov",["0x6D","0x6F","0x6F","0x76"],{mime:"video/quicktime",extension:"mov"},4),t.add("mov",["0x77","0x69","0x64","0x65"],{mime:"video/quicktime",extension:"mov"},4),t.add("mov",["0x66","0x74","0x79","0x70","0x71","0x74"],{mime:"video/quicktime",extension:"mov"},4),t.add("hl2demo",["0x48","0x4C","0x32","0x44","0x45","0x4D","0x4F"]),t.add("txt",["0xEF","0xBB","0xBF"],{mime:"text/plain; charset=UTF-8",extension:"txt"}),t.add("txt",["0xFF","0xFE"],{mime:"text/plain; charset=UTF-16LE",extension:"txt"}),t.add("txt",["0xFE","0xFF"],{mime:"text/plain; charset=UTF-16BE",extension:"txt"}),t.add("txt",["0xFF","0xFE","0x00","0x00"],{mime:"text/plain; charset=UTF-32LE",extension:"txt"}),t.add("txt",["0x00","0x00","0xFE","0xFF"],{mime:"text/plain; charset=UTF-32BE",extension:"txt"}),t.add("SubRip",["0x31","0x0D","0x0A","0x30","0x30","0x3A"],{mime:"application/x-subrip",extension:"srt"}),t.add("WebVTT",["0xEF","0xBB","0xBF","0x57","0x45","0x42","0x56","0x54","0x54","0x0A"],{mime:"text/vtt",extension:"vtt"}),t.add("WebVTT",["0xEF","0xBB","0xBF","0x57","0x45","0x42","0x56","0x54","0x54","0x0D"],{mime:"text/vtt",extension:"vtt"}),t.add("WebVTT",["0xEF","0xBB","0xBF","0x57","0x45","0x42","0x56","0x54","0x54","0x20"],{mime:"text/vtt",extension:"vtt"}),t.add("WebVTT",["0xEF","0xBB","0xBF","0x57","0x45","0x42","0x56","0x54","0x54","0x09"],{mime:"text/vtt",extension:"vtt"}),t.add("WebVTT",["0x57","0x45","0x42","0x56","0x54","0x54","0x0A"],{mime:"text/vtt",extension:"vtt"}),t.add("WebVTT",["0x57","0x45","0x42","0x56","0x54","0x54","0x0D"],{mime:"text/vtt",extension:"vtt"}),t.add("WebVTT",["0x57","0x45","0x42","0x56","0x54","0x54","0x20"],{mime:"text/vtt",extension:"vtt"}),t.add("WebVTT",["0x57","0x45","0x42","0x56","0x54","0x54","0x09"],{mime:"text/vtt",extension:"vtt"}),t.add("Json",["0x7B"],{mime:"application/json",extension:".json"}),t.add("Json",["0x5B"],{mime:"application/json",extension:".json"}),t.add("ELF",["0x7F","0x45","0x4C","0x46"],{mime:"application/x-executable",extension:".elf"}),t.add("Mach-O",["0xFE","0xED","0xFA","0xC"],{mime:"application/x-mach-binary",extension:".o"}),t.add("Mach-O",["0xFE","0xED","0xFA","0xCF"],{mime:"application/x-executable",extension:"elf"}),t.add("EML",["0x52","0x65","0x63","0x65","0x69","0x76","0x65","0x64","0x3A"],{mime:"message/rfc822",extension:".eml"}),t.add("SVG",["0x3c","0x73","0x76","0x67"],{mime:"image/svg+xml",extension:"svg"}),t.add("avif",["0x66","0x74","0x79","0x70","0x61","0x76","0x69","0x66"],{mime:"image/avif",extension:"avif"},4),t.createTree=()=>i,t.default=()=>i},(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fromHex=t.toHex=void 0;const n=e=>new Number(e).toString(16).toLowerCase();t.toHex=e=>`0x${1===n(e).length?"0"+n(e):n(e)}`,t.fromHex=e=>new Number(e)},(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createComplexNode=t.createNode=t.merge=void 0;const n=e=>({typename:e.typename,mime:e.info.mime,extension:e.info.extension});t.merge=(e,o)=>{if(0===e.bytes.length)return o;const[a,...i]=e.bytes;if(((e,t)=>e&&0===t.length)(o.bytes[a],i)){const t=o.bytes[a];return o.bytes[a]={...t,matches:[...t.matches??[],n(e)]},o}return o.bytes[a]?o.bytes[a]=t.merge(t.createNode(e.typename,i,e.info),o.bytes[a]):o.bytes[a]=t.createComplexNode(e.typename,i,e.info),o},t.createNode=(e,t,n)=>({typename:e,bytes:t,info:n||{}}),t.createComplexNode=(e,o,a)=>{let i={bytes:{},matches:void 0};const[r,...s]=o;return 0===o.length?{matches:[n({typename:e,info:a?{extension:a.extension,mime:a.mime}:{}})],bytes:{}}:(i.bytes[r]=t.createComplexNode(e,s,a),i)}},(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var o=n(11),a=n.n(o),i=n(12),r=n.n(i)()(a());r.push([e.id,"#test-page-div {\n  max-height: 300px;\n  overflow-y: scroll;\n}\n#test-page-div table {\n  text-align: center;\n}\n#test-page-div td {\n  all: revert;\n  padding-top: 0.3em;\n}\n#test-page-div td > img {\n  max-height: 15em;\n}\n#test-page-div tr > td:nth-child(1) {\n  font-weight: bold;\n  min-width: 7em;\n}\n#test-page-div tr > td:nth-child(2) div,\n#test-page-div tr > td:nth-child(2) p {\n  text-align: left;\n}\n#test-page-div hr {\n  margin-top: 1.5em;\n  margin-bottom: 1.5em;\n}\n#test-page-div h2 {\n  text-align: center;\n  margin-bottom: 1.3em;\n}\n#test-page-div h4 {\n  text-align: center;\n}\n#test-page-div .chapter p {\n  line-height: 1.4;\n}\n#test-page-div .chapter img {\n  max-width: 95%;\n}\n#test-page-div .preview-chapter-setting {\n  text-align: center;\n  margin-bottom: 1em;\n}\n#test-page-div .preview-chapter-setting button {\n  cursor: pointer;\n  margin-left: 0.5em;\n  padding: 0px 10px;\n}\n#test-page-div .preview-chapter-setting button:disabled {\n  cursor: not-allowed;\n}\n#test-page-div .loading-spinner {\n  text-align: center;\n  margin: 1em 0;\n}\n#test-page-div .loading-spinner .spinner {\n  display: inline-block;\n  width: 30px;\n  height: 30px;\n  border: 3px solid rgba(0, 0, 0, 0.3);\n  border-radius: 50%;\n  border-top-color: #000;\n  animation: spin 1s ease-in-out infinite;\n  margin-bottom: 0.5em;\n}\n@keyframes spin {\n  to {\n    transform: rotate(360deg);\n  }\n}\n",""]);const s=r},(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var o=n(11),a=n.n(o),i=n(12),r=n.n(i)()(a());r.push([e.id,".overlay {\n  visibility: hidden;\n  opacity: 0;\n  z-index: 100000;\n  position: fixed;\n  top: -50%;\n  left: -50%;\n  height: 200%;\n  width: 200%;\n  background-color: black;\n}\n\n.overlay.open {\n  opacity: 0.8;\n  visibility: visible;\n  transition: opacity 0.2s ease-in;\n}\n\n.overlay:not(.open) {\n  transition: visibility 0.2s step-end, opacity 0.2s ease-in;\n}\n\n.out {\n  position: fixed;\n  top: 0;\n  left: 0;\n  height: 100%;\n  width: 100%;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  z-index: 100001;\n}\n\n.dialog {\n  width: 720px;\n  max-height: 70%;\n  display: none;\n  opacity: 0;\n  z-index: 100100;\n  position: fixed;\n  margin: 0;\n  padding: 0;\n}\n\n.dialog.open {\n  opacity: 1;\n  display: block;\n  transition: opacity 0.2s ease-in;\n}\n\n.dialog > * {\n  box-sizing: border-box;\n}\n\n.dialog > .titlebar {\n  background-color: white;\n  min-height: 24px;\n  position: relative;\n}\n\n.dialog-title {\n  padding: 10px;\n  text-transform: uppercase;\n  background: #ff7bac;\n  color: #ffffff;\n  margin: 0;\n  font-size: 1.5em;\n  text-align: center;\n}\n\n.dialog-close {\n  background: #ff7bac;\n  color: #ffffff;\n\n  font-style: normal;\n  font-weight: 400;\n  font-variant: normal;\n  text-transform: none;\n  line-height: 1;\n  user-select: none;\n\n  cursor: pointer;\n  font-size: 120%;\n  margin: 0;\n  padding: 0;\n  width: 3.6em;\n  height: 92%;\n  border: 1px solid transparent;\n  transition-duration: 0.2s;\n  display: block;\n\n  position: absolute;\n  right: 0;\n  top: 0;\n  white-space: nowrap;\n}\n\n.dialog > .body {\n  background-color: white;\n  border: 1px solid rgb(255 125 175 / 80%);\n  text-align: left;\n\n  line-height: 1.5;\n  padding: 1em;\n\n  overflow: auto;\n  min-width: 280px;\n\n  height: calc(100% - 2.1em);\n  max-height: 900px;\n}\n",""]);const s=r},(e,t,n)=>{"use strict";n.d(t,{el:()=>s,i:()=>r,vm:()=>c});var o=n(8),a=n(9),i=n(30);const r=(0,a._r)(i.A),s=(0,a.a_)('<div id="progress-bar"></div>'),c=(0,o.createApp)({data:()=>({totalChapterNumber:0,finishedChapterNumber:0}),computed:{chapterPercent(){return 0!==this.totalChapterNumber&&0!==this.finishedChapterNumber?this.finishedChapterNumber/this.totalChapterNumber*100:0},chapterProgressSeen(){return 0!==this.chapterPercent},ntProgressSeen(){return!(!this.chapterProgressSeen&&!this.zipProgressSeen)},chapterProgressTitle(){return`章节：${this.finishedChapterNumber}/${this.totalChapterNumber}`}},methods:{reset(){this.totalChapterNumber=0,this.finishedChapterNumber=0}},template:'<div>\n  <div v-if="ntProgressSeen" id="nd-progress">\n    <div v-if="chapterProgressSeen" id="chapter-progress" v-bind:style="{\'--position\': chapterPercent+\'%\'}" v-bind:title="chapterProgressTitle"></div>\n  </div>\n</div>\n'}).mount(s)},(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var o=n(11),a=n.n(o),i=n(12),r=n.n(i)()(a());r.push([e.id,"#nd-progress {\n  position: fixed;\n  bottom: 8%;\n  right: 3%;\n  z-index: 2147483647;\n  border-style: none;\n  text-align: center;\n  vertical-align: baseline;\n  background-color: rgba(210, 210, 210, 0.2);\n  padding: 6px;\n  border-radius: 12px;\n}\n\n#chapter-progress {\n  --color: green;\n  --position: 0%;\n  width: 200px;\n  height: 10px;\n  border-radius: 30px;\n  background-color: #ccc;\n  background-image: radial-gradient(\n      closest-side circle at var(--position),\n      var(--color),\n      var(--color) 100%,\n      transparent\n    ),\n    linear-gradient(var(--color), var(--color));\n  background-image: -webkit-radial-gradient(\n      var(--position),\n      circle closest-side,\n      var(--color),\n      var(--color) 100%,\n      transparent\n    ),\n    -webkit-linear-gradient(var(--color), var(--color));\n  background-size: 100%, var(--position);\n  background-repeat: no-repeat;\n}\n\n#zip-progress {\n  --color: yellow;\n  --position: 0%;\n  width: 200px;\n  height: 10px;\n  border-radius: 30px;\n  background-color: #ccc;\n  background-image: radial-gradient(\n      closest-side circle at var(--position),\n      var(--color),\n      var(--color) 100%,\n      transparent\n    ),\n    linear-gradient(var(--color), var(--color));\n  background-image: -webkit-radial-gradient(\n      var(--position),\n      circle closest-side,\n      var(--color),\n      var(--color) 100%,\n      transparent\n    ),\n    -webkit-linear-gradient(var(--color), var(--color));\n  background-size: 100%, var(--position);\n  background-repeat: no-repeat;\n  margin-top: 5px;\n}\n",""]);const s=r},(e,t,n)=>{"use strict";n.d(t,{c101kanshu:()=>i});var o=n(9),a=n(32);const i=()=>(0,a.N)({bookUrl:document.location.href,anotherPageUrl:r(document.location.href),getBookname:e=>document.querySelector("div.bookbox h1").innerText.trim(),getAuthor:e=>document.querySelector("div.booknav2 p").innerText.trim(),getIntroDom:e=>e.querySelector("div.navtxt p"),introDomPatch:e=>e,getCoverUrl:e=>document.querySelector("div.bookimg2 img")?.src,getAList:e=>e.querySelectorAll("a"),postHook:e=>e,getContent:e=>e.querySelector("div#txtcontent"),contentPatch:e=>{(0,o.rm)("div.txtad",!0,e),(0,o.rm)("script",!0,e);const t=document.createElement("div");return t.innerHTML=e.innerHTML.replace("<br><br>","<br>"),t}});function r(e){const t=e.match(/\/book\/(\d+)\.html/);if(!t)throw new Error("Invalid book URL.");return`https://101kanshu.com/ajax_novels/chapterlist/${t[1]}.html`}},(e,t,n)=>{"use strict";n.d(t,{N:()=>m});var o=n(19),a=n(33),i=n(21),r=n(34),s=n(2),c=n.n(s),l=n(36),u=n(37),p=n(38),d=n(5);function m({bookUrl:e,anotherPageUrl:t,ToCUrl:n,getBookname:s,getAuthor:m,getIntroDom:h,introDomPatch:g,getCoverUrl:f,additionalMetadatePatch:x,getAList:b,getAName:v,getIsVIP:w,getSections:y,getSName:k,postHook:S,getContentFromUrl:T,getContent:A,contentPatch:C,maxRunLimit:M,concurrencyLimit:N,sleepTime:E,maxSleepTime:P,needLogin:q,nsfw:L,cleanDomOptions:_,overrideConstructor:I,language:j}){return class extends p.Q{constructor(){super(),this.attachmentMode="TM",M&&(this.maxRunLimit=M),N&&(this.concurrencyLimit=N),E&&(this.sleepTime=E),P&&(this.maxSleepTime=P),q&&(this.needLogin=q),L&&(this.nsfw=L),I&&I(this)}async bookParse(){const a=await(0,i.wA)(t,this.charset),p=s(a),T=m(a),A=h(a),[C,M]=await(0,r.HV)(A,g),N=f(a),E={language:j??"zh"};let P;N&&(0,o.if)(N,this.attachmentMode,"cover-").then(e=>{E.cover=e}).catch(e=>c().error(e)),"function"==typeof x&&Object.assign(E,x(E,a)),"function"==typeof y&&(P=y(a));const q=[];let L=0,_=0,I=0,U=null,z=!1;P&&P instanceof NodeList&&"function"==typeof k&&(z=!0);const D=b(a);for(const t of Array.from(D)){let n;n=v?v(t):t.innerText.trim();const o=t.href;if(z&&P&&k){const e=(0,r.lq)(t,P,k);e!==U&&(U=e,_++,I=0)}L++,I++;let a=!1,i=!1;w&&({isVIP:a,isPaid:i}=w(t));let s=new l.I({bookUrl:e,bookname:p,chapterUrl:o,chapterNumber:L,chapterName:n,isVIP:a,isPaid:i,sectionName:U,sectionNumber:z?_:null,sectionChapterNumber:z?I:null,chapterParse:this.chapterParse,charset:this.charset,options:{bookname:p}});a&&!i&&(s.status=d.nW.aborted),"function"==typeof S&&(s=S(s)),s&&q.push(s)}const O=new u.E({bookUrl:e,bookname:p,author:T,introduction:C,introductionHTML:M,additionalMetadate:E,chapters:q});return n?O.ToCUrl=n:e!==t&&(O.ToCUrl=t),O}async chapterParse(e,t,n,o,r,s){let c;if("function"==typeof T)c=await T(e,t,r);else{if("function"!=typeof A)throw Error("未发现 getContentFromUrl 或 getContent");{const t=await(0,i.wA)(e,r);c=A(t)}}if(c){c=C(c);const{dom:e,text:n,images:o}=await(0,a.an)(c,"TM",_);return{chapterName:t,contentRaw:c,contentText:n,contentHTML:e,contentImages:o,additionalMetadate:null}}return{chapterName:t,contentRaw:null,contentText:null,contentHTML:null,contentImages:null,additionalMetadate:null}}}}},(e,t,n)=>{"use strict";n.d(t,{N0:()=>v,U9:()=>x,WF:()=>b,an:()=>h,eu:()=>w,is:()=>g});var o=n(2),a=n.n(o),i=n(19),r=n(9);const s=["address","article","aside","blockquote","details","dialog","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","li","main","nav","ol","p","pre","section","table","ul"],c=["a","abbr","acronym","audio","b","bdi","bdo","big","br","button","canvas","cite","code","data","datalist","del","dfn","em","embed","i","iframe","img","input","ins","kbd","label","map","mark","meter","noscript","object","output","picture","progress","q","ruby","s","samp","script","select","slot","small","span","font","strong","sub","sup","svg","template","textarea","time","u","tt","var","video","wbr"],l=["aside","blockquote","details","figure","h1","h2","h3","h4","h5","h6","hr","ul","ol","li","pre"],u=["#comment","fieldset","legend","input","label","form","button","canvas","datalist","embed","iframe","map","meter","noscript","object","output","progress","script","style","link","select","slot","svg","template","video","wbr"];function p(e){const t=e.nodeName.toLowerCase();return e instanceof Text||0===e.childElementCount||!!c.includes(t)||Array.from(e.children).every(e=>{const t=e.nodeName.toLowerCase();return c.includes(t)})}function d(e){const t=e.nodeName.toLowerCase();return!!l.includes(t)||p(e)}function*m(e,t=!0){let n;n=t?d:p;const o=Array.from(e.childNodes).filter(e=>{if(e instanceof Text){const t=e.textContent;if(null===t)return!1;if(""===t.trim())return!1}return!0});for(const e of o){const o=e.nodeName.toLowerCase();u.includes(o)||(n(e)?yield e:yield*m(e,t))}}async function h(e,t,n){const o=[...m(e)],r=await p(o,document.createElement("div"));return function({dom:e,text:t,images:n}){return g(e),e=x(e),Array.from(e.children).forEach(e=>e.replaceWith(x(e))),function(e){const t=Array.from(e.children);let n=0,o=[];for(const e of t)if(f(e))n++,o.push(e);else if(0!==n){const e=document.createElement("p");for(;n>0;){n--;const t=document.createElement("br");e.appendChild(t)}o[0].replaceWith(e),o.forEach(e=>e.remove()),n=0,o=[]}}(e),{dom:e,text:t=t.trim(),images:n}}(await async function({dom:e,text:t,images:n}){const o=await Promise.all(n);return o.forEach(n=>{n.comments&&(e.innerHTML=e.innerHTML.replaceAll(n.comments,n.name),t=t.replaceAll(n.comments,n.name))}),{dom:e,text:t,images:o}}(r));async function l(e){const t=new Map;function n(e){return e instanceof HTMLElement?p([...m(e)],document.createElement("div")):null}function o(e){return e instanceof HTMLElement?p([...m(e)],document.createElement("p")):null}async function a(e){if(e instanceof HTMLElement){const t=[...m(e)],{dom:n,text:o,images:a}=await p(t,document.createElement("blockquote"));return{dom:n,text:o.split("\n").map(e=>e.replace(/^/,"> ")).join("\n"),images:a}}return null}function i(e){if(e instanceof HTMLElement){const t=e.nodeName.toLowerCase(),n=parseInt(t.substring(1)),o=document.createElement(t);return o.innerHTML=e.innerHTML,{dom:o,text:"#".repeat(n)+" "+e.innerText,images:[]}}return null}function r(e){if(e instanceof HTMLElement){const t=document.createElement("pre");return t.innerHTML=e.innerHTML,{dom:t,text:"```\n"+e.innerText+"\n```",images:[]}}return null}async function s(e,t,n){const o=n.querySelector(e);let a,i="";o instanceof HTMLElement&&(a=document.createElement(e),a.innerHTML=o.innerHTML,i="**"+o.innerText+"**",o.remove());const r=document.createElement(t);a&&r.appendChild(a);const s=[...m(n)],{dom:c,text:l,images:u}=await p(s,r);return{dom:c,text:i+"\n\n"+l,images:u}}function c(e){const t=e.nodeName.toLowerCase();if(e instanceof HTMLUListElement||e instanceof HTMLOListElement){const n=document.createElement(t);return p([...m(e)],n)}return null}["article","dialog","div","footer","header","main","section","hgroup"].forEach(e=>t.set(e,n)),["address","p","dd","dt","figcaption","dl"].forEach(e=>t.set(e,o)),["aside","blockquote"].forEach(e=>t.set(e,a)),["h1","h2","h3","h4","h5","h6"].forEach(e=>t.set(e,i)),["pre","textarea"].forEach(e=>t.set(e,r)),t.set("hr",function(e){return e instanceof HTMLHRElement?{dom:document.createElement("hr"),text:"-".repeat(20),images:[]}:null}),t.set("details",function(e){return s("summary","details",e)}),t.set("figure",function(e){return s("figcaption","figure",e)}),t.set("li",function(e){if(e instanceof HTMLLIElement){const t=document.createElement("li");t.innerHTML=e.innerHTML;let n="-   ";const o=e.parentNode;if(o instanceof HTMLOListElement){const t=o.getAttribute("start"),a=Array.prototype.indexOf.call(o.children,e);n=(t?Number(t)+a:a+1)+".  "}return{dom:t,text:n+e.innerText,images:[]}}return null}),["ul","ol"].forEach(e=>t.set(e,c)),t.set("table",function(e){return e instanceof HTMLTableElement?{dom:e.cloneNode(!0),text:function(e){let n="",o="|",a="|",i="",r=!1,s=0,c=0;if(Array.from(e.querySelectorAll("thead > tr > td")).forEach(e=>{s++,o=o+t(e.innerText)+"|",a+="--- |",r=!0}),Array.from(e.querySelectorAll("tr")).forEach(l=>{r||Array.from(l.querySelectorAll("th")).forEach(e=>{s++,o=o+t(e.innerText)+"|",a+="--- |",r=!0});let u="",p=0;if(Array.from(l.querySelectorAll("td")).filter(t=>!Array.from(e.querySelectorAll("thead > tr > td")).includes(t)).forEach(e=>{p++,u=u+t(e.innerText)+"|"}),0!=c&&p!=c)return n="ERROR: Your HTML table rows don't have the same number of cells. Colspan not supported.",!1;p&&(i+="|"+u+"\n",c=p)}),""==n){if(r){if(s!=c)throw new Error("ERROR: The number of cells in your header doesn't match the number of cells in your rows.")}else for(let e=0;e<c;e++)o+="|",a+="--- |";n+=o+"\n",n+=a+"\n",n+=i}return n}(e),images:[]}:null;function t(e){return e.trim().replaceAll("\t","")}});const l=e.nodeName.toLowerCase(),u=t.get(l)??o,d=await u(e);if(!d)return null;const{dom:h,text:g,images:f}=d;return e.getAttribute("data-keep")&&e.getAttribute("data-keep").split(",").map(e=>e.trim()).forEach(t=>{h instanceof HTMLElement&&e.getAttribute(t)&&h.setAttribute(t,e.getAttribute(t))}),{dom:h,text:g,images:f}}async function u(e){const o=new Map;async function r(e){if(e instanceof HTMLElement&&0===e.childElementCount||e instanceof Text){let t;if(e instanceof HTMLElement&&(t=e.innerText.trim()),e instanceof Text&&(t=e.textContent?.trim()??""),"string"==typeof t){const e=[];return{dom:new Text(t),text:t.replaceAll("\n",""),images:e}}}if(e instanceof HTMLElement&&0!==e.childElementCount){const t=[...m(e)],{dom:n,text:o,images:a}=await p(t,document.createElement(e.nodeName.toLowerCase()));return{dom:n,text:o,images:a}}return null}function s(e){const o=(0,i._s)(e);if(o){const t=document.createElement("img");return t.setAttribute("data-src-address",o.name),t.alt=e,t.title=e,{dom:t,text:`![${e}](${o.name})`,images:[o]}}{const o=(0,i.VJ)(),a=n?.keepImageName??!1,r={referrerMode:n?.referrerMode,customReferer:n?.customReferer},s=(0,i.if)(e,t,"chapter-",a,o,r),c=document.createElement("img");return c.setAttribute("data-src-address",o),c.alt=e,c.title=e,{dom:c,text:`![${e}](${o})`,images:[s]}}}async function c(e,t,n){if(n instanceof HTMLElement){if(0===n.childElementCount){const o=n.innerText.trim(),a=document.createElement(e);return a.innerText=o,{dom:a,text:t(o),images:[]}}{const t=[...m(n)],{dom:o,text:a,images:i}=await p(t,document.createElement(e));return{dom:o,text:a,images:i}}}return null}function l(e){return c("strong",e=>`**${e.replaceAll("\n","**\n**")}**`,e)}function u(e){return c("code",e=>`\`${e}\``,e)}function d(e){return c("s",e=>`~~${e}~~`,e)}function h(e){return c("em",e=>`*${e}*`,e)}["abbr","acronym","bdi","bdo","cite","data","dfn","span","font","time","u","tt","#text"].forEach(e=>o.set(e,r)),o.set("a",async function(e){if(e instanceof HTMLAnchorElement){if(0!==e.childElementCount){const t=document.createElement("a");(e.href.startsWith("https://")||e.href.startsWith("http://"))&&(t.href=e.href);const n=[...m(e)],{dom:o,text:a,images:i}=await p(n,t);return{dom:o,text:a,images:i}}if(e.href.startsWith("https://")||e.href.startsWith("http://")){const{href:t,textContent:n}=e,o=document.createElement("a");return e.getAttribute("href")?.startsWith("#")?o.href=e.getAttribute("href"):o.href=t,o.textContent=n,{dom:o,text:`[${n}](${t})`,images:[]}}}return null}),o.set("img",function(e){return e instanceof HTMLImageElement?s(e.src):null}),o.set("audio",function(e){if(e instanceof HTMLAudioElement){const o=e.src,a=(0,i._s)(o);if(a){const e=document.createElement("audio");return e.innerText="Your browser does not support the audio element.",e.setAttribute("data-src-address",a.name),e.setAttribute("controls",""),e.setAttribute("preload","metadata"),e.title=o,{dom:e,text:e.outerHTML,images:[a]}}{const e=(0,i.VJ)(),a=n?.keepImageName??!1,r={referrerMode:n?.referrerMode,customReferer:n?.customReferer},s=(0,i.if)(o,t,"chapter-",a,e,r),c=document.createElement("audio");return c.innerText="Your browser does not support the audio element.",c.setAttribute("data-src-address",e),c.setAttribute("controls",""),c.setAttribute("preload","metadata"),c.title=o,{dom:c,text:c.outerHTML,images:[s]}}}return null}),o.set("picture",function(e){if(e instanceof HTMLPictureElement){const t=e.querySelector("img");return t?s(t.src):(a().warn("[cleanDom][picture]未发现 img",e),null)}return null}),o.set("ruby",function(e){if(e instanceof HTMLElement){const t=Array.from(e.childNodes).map(e=>{if(e instanceof Text&&e.textContent?.trim()){const t=document.createElement("rb");return t.innerText=e.textContent.trim(),t}return e.cloneNode(!0)}),n=document.createElement("ruby");let o;return t.forEach(e=>n.appendChild(e)),o=t.some(e=>"rt"===e.nodeName.toLowerCase())&&t.some(e=>"rb"===e.nodeName.toLowerCase())?t.filter(e=>"rb"===e.nodeName.toLowerCase()).map(e=>e.innerText).join()+"("+t.filter(e=>"rt"===e.nodeName.toLowerCase()).map(e=>e.innerText).join()+")":e.innerText,{dom:n,text:o,images:[]}}return null}),o.set("br",function(){return{dom:document.createElement("br"),text:"\n",images:[]}}),["b","big","mark","samp","strong"].forEach(e=>o.set(e,l)),["code","kbd"].forEach(e=>o.set(e,u)),["del","s"].forEach(e=>o.set(e,d)),["em","i","q","var"].forEach(e=>o.set(e,h)),o.set("ins",function(e){return c("ins",e=>`++${e}++`,e)}),o.set("small",function(e){return c("small",e=>`<small>${e}</small>`,e)}),o.set("sup",function(e){return c("sup",e=>`<sup>${e}</sup>`,e)}),o.set("sub",function(e){return c("sub",e=>`<sub>${e}</sub>`,e)});const g=e.nodeName.toLowerCase(),f=o.get(g);if(f){const t=await f(e);if(!t)return null;const{dom:n,text:o,images:a}=t;return e instanceof Element&&e.getAttribute("data-keep")&&e.getAttribute("data-keep").split(",").map(e=>e.trim()).forEach(t=>{n instanceof HTMLElement&&e.getAttribute(t)&&n.setAttribute(t,e.getAttribute(t))}),{dom:n,text:o,images:a}}{const t=r(e);return a().warn("[cleanDom]发现未知行内元素！"),a().warn([e.nodeName.toLowerCase(),e]),t}}async function p(e,t){let n="",o=[];for(const a of e){const e=a.nodeName.toLowerCase();if(("textarea"===e||s.includes(e))&&a instanceof HTMLElement){const e=await l(a);if(e){const{dom:a,text:i,images:r}=e;t.appendChild(a),n=n+"\n"+i+"\n",o=o.concat(r);continue}}if(a instanceof Text||c.includes(e)){const e=await u(a);if(e){const{dom:a,text:i,images:r}=e;t.appendChild(a),n+=i,o=o.concat(r);continue}}}return{dom:t,text:n,images:o}}}function g(e){function t(e){for(const t of e){if(t instanceof Text){if(""===t.textContent?.trim()){t.remove();continue}break}if(t instanceof HTMLBRElement)t.remove();else if(t instanceof HTMLParagraphElement&&f(t))t.remove();else if(t instanceof HTMLElement&&"br"!==t.nodeName.toLowerCase())break}}t(Array.from(e.childNodes)),t(Array.from(e.childNodes).reverse())}function f(e){return e instanceof HTMLParagraphElement&&""===e.innerText.trim()&&Array.from(e.childNodes).every(e=>e instanceof Text)}function x(e,t=!1){if(n=e,Array.from(n.childNodes).map(e=>e.nodeName.toLowerCase()).every(e=>["#text","hr",...c].includes(e))&&(function(e){return Array.from(e.childNodes).filter(e=>e instanceof HTMLBRElement).length}(e)>4||t)){const t=document.createElement("div"),n=e.childNodes;let o=0,a=[];for(const e of Array.from(n))if(e instanceof HTMLBRElement){if(0===o&&0!==a.length){const e=document.createElement("p");a.forEach(t=>e.appendChild(t)),t.appendChild(e),a=[]}o++}else{if(e instanceof HTMLHRElement){if(o=0,0!==a.length){const e=document.createElement("p");a.forEach(t=>e.appendChild(t)),t.appendChild(e),a=[]}const e=document.createElement("hr");t.appendChild(e);continue}if(0!==o){if(o>2){let e=o-2;const n=document.createElement("p");for(;e>0;){e--;const t=document.createElement("br");n.appendChild(t)}t.appendChild(n)}o=0,a.push(e)}else a.push(e)}if(o=0,0!==a.length){const e=document.createElement("p");a.forEach(t=>e.appendChild(t)),t.appendChild(e),a=[]}return t}return e;var n}function b(e,t=35,n=document.createElement("div")){const o=e.textContent?.split("\n")??[];let a="";for(const e of o)""!==e?(0,r.QJ)(e)>t-5&&(0,r.QJ)(e)<t+5?a+=e:""===a?(n.appendChild(new Text(e)),n.appendChild(document.createElement("br"))):(a+=e,n.appendChild(new Text(a)),n.appendChild(document.createElement("br")),a=""):(n.appendChild(new Text(a)),n.appendChild(document.createElement("br")),a="");return""!==a&&(n.appendChild(new Text(a)),n.appendChild(document.createElement("br")),a=""),g(n),x(n)}function v(e,t=35){Array.from(e.querySelectorAll("br")).forEach(e=>{const n=e.previousSibling,o=e.nextSibling;n instanceof Text&&o instanceof Text&&(n.textContent?(0,r.QJ)(n.textContent):0)>t-5&&(n.textContent?(0,r.QJ)(n.textContent):0)<t+5&&e.remove()});if((e=>{for(const t of e){const e=t[0],n=new Text(e.wholeText);e.replaceWith(n),t.forEach(e=>e.remove())}})((e=>{const t=[];let n=[],o="";for(const a of e){const e=a.wholeText;o!==e?(0!==n.length&&t.push(n),o=e,n=[a]):n.push(a)}return 0!==n.length&&t.push(n),t})(Array.from(e.childNodes).filter(e=>e instanceof Text&&e.wholeText!==e.textContent))),Array.from(e.childNodes).filter(e=>e instanceof Text).forEach(e=>{const n=b(e,t);e.replaceWith(n)}),Array.from(e.querySelectorAll("p")).filter(e=>""===e.innerText.trim()&&(0,r.UN)(e)instanceof HTMLElement&&(0,r.wX)(e)instanceof HTMLElement).forEach(e=>e.remove()),Array.from(e.querySelectorAll("p")).filter(e=>2===(0,r.Jw)(e)).forEach(e=>(0,r.S0)(e)),function(e){return Array.from(e.querySelectorAll("p")).map(e=>(0,r.QJ)(e.innerText.trim())).filter(e=>e>t+5).length<5}(e)){const n=Array.from(e.querySelectorAll("p"));let o="";for(const e of n){const n=e.innerText.trim();if((0,r.QJ)(n)>t-5&&(0,r.QJ)(n)<t+5)o+=n,e.remove();else if(""!==o){o+=n;const t=document.createElement("p");t.innerText=o,e.replaceWith(t),o="";continue}}}}function w(e,t=35){let n;if(e instanceof Text&&(n=e.textContent?.split("\n").map(e=>e.trim())??[]),e instanceof HTMLElement){const t=(e,t)=>{if(t instanceof Text){const n=t.textContent?.trim()??"";return n.includes("\n")?(n.split("\n").map(e=>e.trim()).forEach(t=>e.push(t)),e):(e.push(n),e)}return e};n=Array.from(e.childNodes).reduce(t,[])}if(!n)throw new Error("ns is null");return n.map(e=>(0,r.QJ)(e)).filter(e=>e>t+5).length<5}},(e,t,n)=>{"use strict";n.d(t,{$l:()=>h,HV:()=>l,hR:()=>m,lq:()=>p,sy:()=>d,u1:()=>u});var o=n(2),a=n.n(o),i=n(33),r=n(21),s=n(35),c=n(5);async function l(e,t){if(null===e)return[null,null,null];{t&&(e=t(e.cloneNode(!0)));const{dom:n,text:o,images:a}=await(0,i.an)(e,"TM");return[o,n,a]}}async function u({chapterName:e,chapterUrl:t,charset:n,selector:o,domPatch:s,contentPatch:c,getNextPage:l,continueCondition:u,enableCleanDOM:p,getHtmlDomFunc:d=r.wA}){a().debug(`[Chapter]请求 ${t}`);let m=t,h=await d(t,n);const g=document.createElement("div");let f,x,b,v=!1;do{s&&(h=await s(h));let e=h.querySelector(o);const t=l(h);u(e,t)?t!==m?v=!0:(a().error("网站页面出错，URL： "+m),v=!1):v=!1,e=c(e,h);for(const t of Array.from(e.childNodes))g.appendChild(t.cloneNode(!0));v&&(a().debug(`[Chapter]请求 ${t}`),m=t,h=await d(t,n))}while(v);if(p||void 0===p){const e=await(0,i.an)(g,"TM");f=e.dom,x=e.text,b=e.images}else f=null,x=null,b=null;return{chapterName:e,contentRaw:g,contentText:x,contentHTML:f,contentImages:b,additionalMetadate:null}}function p(e,t,n){const o=Array.from(t);let a=null;for(const t of o){const o=e.compareDocumentPosition(t);if(o&Node.DOCUMENT_POSITION_DISCONNECTED)return null;if(o&Node.DOCUMENT_POSITION_PRECEDING&&(a=n(t)),o&Node.DOCUMENT_POSITION_FOLLOWING)break}return a}function d(e){const t=document.documentElement,n=document.body,o=Math.min(t.clientWidth,window.innerWidth),a=Math.min(t.clientHeight,window.innerHeight),i=.15*o,r=Math.min(.1*n.scrollHeight,.3*a),s=e.getBoundingClientRect(),c=window.scrollY+s.top,l=n.scrollHeight-c-e.scrollHeight,u=o-s.right,p=e.scrollHeight/n.scrollHeight;return s.left<i||u<i||c<r||l<r?[!1,e,p]:[!0,e,p]}function m(e){const t=e.reduce((e,t)=>{const n=t.chapterUrl;return void 0===e[n]?e[n]=t:Array.isArray(e[n])?e[n].push(t):e[n]=[e[n],t],e},{}),n=Object.values(t).reduce((e,t)=>(Array.isArray(t)?""===t[0].chapterUrl?e.push(...t):e.push(t.sort((e,t)=>e.chapterNumber-t.chapterNumber).slice(-1)[0]):e.push(t),e),[]);return function(e){e=e.sort((e,t)=>e.chapterNumber-t.chapterNumber);let t=0,n="",o=0,a=0;for(const i of e)t++,i.chapterNumber=t,i.sectionName&&(i.sectionName!==n&&(n=i.sectionName,o++,a=0),a++,i.sectionNumber=o,i.sectionChapterNumber=a)}(n),n}async function h(e,t,n,o,a=500,i=r.wA){const{chapters:l}=e,u=l.filter(t);if(1===o)for(const e of u)p(e,l),await new Promise(e=>setTimeout(e,100*Math.random()+a));else{const e=(0,s.A)(o),t=u.map(t=>e(()=>p(t,l)));await Promise.all(t)}async function p(e,t){const o=e.chapterNumber,a=t.filter(e=>e.chapterNumber===o+1)?.[0];if(a){const t=a.chapterUrl,o=await i(t,a.charset),r=n(o);return r&&(e.chapterUrl=r,e.status=c.nW.pending),e}}}},(e,t,n)=>{"use strict";n.d(t,{A:()=>r});class o{value;next;constructor(e){this.value=e}}class a{#e;#t;#n;constructor(){this.clear()}enqueue(e){const t=new o(e);this.#e?(this.#t.next=t,this.#t=t):(this.#e=t,this.#t=t),this.#n++}dequeue(){const e=this.#e;if(e)return this.#e=this.#e.next,this.#n--,e.value}peek(){if(this.#e)return this.#e.value}clear(){this.#e=void 0,this.#t=void 0,this.#n=0}get size(){return this.#n}*[Symbol.iterator](){let e=this.#e;for(;e;)yield e.value,e=e.next}*drain(){for(;this.#e;)yield this.dequeue()}}const i={bind:(e,t,n)=>e.bind(n)};function r(e){if(!Number.isInteger(e)&&e!==Number.POSITIVE_INFINITY||!(e>0))throw new TypeError("Expected `concurrency` to be a number from 1 and up");const t=new a;let n=0;const o=async(e,o,a)=>{n++;const i=(async()=>e(...a))();o(i);try{await i}catch{}n--,t.size>0&&t.dequeue()()},r=(a,...r)=>new Promise(s=>{((a,r,s)=>{t.enqueue(i.bind(o.bind(void 0,a,r,s))),(async()=>{await Promise.resolve(),n<e&&t.size>0&&t.dequeue()()})()})(a,s,r)});return Object.defineProperties(r,{activeCount:{get:()=>n},pendingCount:{get:()=>t.size},clearQueue:{value(){t.clear()}}}),r}},(e,t,n)=>{"use strict";n.d(t,{I:()=>c});var o=n(4),a=n(2),i=n.n(a),r=n(3),s=n(5);class c{bookUrl;bookname;chapterUrl;chapterNumber;chapterName;isVIP;isPaid;sectionName;sectionNumber;sectionChapterNumber;chapterParse;charset;options;status=s.nW.pending;retryTime=0;contentRaw;contentText;contentHTML;contentImages;additionalMetadate;chapterHtmlFileName;book;constructor({bookUrl:e,bookname:t,chapterUrl:n,chapterNumber:o,chapterName:a,isVIP:i,isPaid:r,sectionName:s,sectionNumber:c,sectionChapterNumber:l,chapterParse:u,charset:p,options:d}){this.bookUrl=e,this.bookname=t,this.chapterUrl=n,this.chapterNumber=o,this.chapterName=a,this.isVIP=i,this.isPaid=r,this.sectionName=s,this.sectionNumber=c,this.sectionChapterNumber=l,this.chapterParse=u,this.charset=p,this.options=d}async init(){const{chapterName:e,contentRaw:t,contentText:n,contentHTML:o,contentImages:a,additionalMetadate:r}=await this.parse();return this.chapterName=e,this.contentRaw=t,this.contentText=n,this.contentHTML=o,this.contentImages=a,this.additionalMetadate=r,this.status===s.nW.failed?i().error(`[Chapter]章节名：${this.chapterName}, 分卷名：${this.sectionName}, URL:${this.chapterUrl}, VIP:${this.isVIP}, Paid:${this.isPaid}, isNull:${!this.contentHTML} 解析出错。`):i().info(`[Chapter]章节名：${this.chapterName}, 分卷名：${this.sectionName}, URL:${this.chapterUrl}, VIP:${this.isVIP}, Paid:${this.isPaid}, isNull:${!this.contentHTML} 解析成功。`),this}async parse(){return this.status=s.nW.downloading,this.chapterParse(this.chapterUrl,this.chapterName,this.isVIP,this.isPaid,this.charset,this.options).then(async e=>{const t=e.contentImages;if(t){let e=t.filter(e=>e.status===s.nW.downloading);for(;e.length;)await(0,o.yy)(500),e=t.filter(e=>e.status===s.nW.downloading)}return this.status=s.nW.finished,e}).catch(async e=>(this.retryTime++,i().error(`[Chapter]${this.chapterName}解析出错，第${this.retryTime}次重试，章节地址：${this.chapterUrl}`),this.status!==s.nW.failed&&this.retryTime<r.Iz?(await(0,o.yy)(1500*this.retryTime),this.parse()):(this.status=s.nW.failed,i().error(e),i().trace(e),window.failedCount++,{chapterName:this.chapterName,contentRaw:null,contentText:null,contentHTML:null,contentImages:null,additionalMetadate:null})))}toJSON(){return{bookUrl:this.bookUrl,bookname:this.bookname,chapterUrl:this.chapterUrl,chapterNumber:this.chapterNumber,chapterName:this.chapterName,isVIP:this.isPaid,isPaid:this.isPaid,sectionName:this.sectionName,sectionNumber:this.sectionNumber,sectionChapterNumber:this.sectionChapterNumber,status:this.status,retryTime:this.retryTime,chapterHtmlFileName:this.chapterHtmlFileName}}}},(e,t,n)=>{"use strict";n.d(t,{E:()=>c});const o=["nx_source","_zucks_suid","cmpid","asgtbndr","guccounter","guce_referrer","guce_referrer_sig","_openstat","action_object_map","action_ref_map","action_type_map","fb_action_ids","fb_action_types","fb_comment_id","fb_ref","fb_source","fbclid","xtor","utm_campaign","utm_channel","utm_cid","utm_content","utm_id","utm_medium","utm_name","utm_place","utm_pubreferrer","utm_reader","utm_referrer","utm_serial","utm_social","utm_social-type","utm_source","utm_swu","utm_term","utm_userid","utm_viz_id","utm_product","utm_campaignid","utm_ad","utm_brand","utm_emcid","utm_emmid","utm_umguk","gbraid","wbraid","gclsrc","gclid","yclid","dpg_source","dpg_campaign","dpg_medium","dpg_content","admitad_uid","adjust_tracker","adjust_adgroup","adjust_campaign","bsft_clkid","bsft_eid","bsft_mid","bsft_uid","bsft_aaid","bsft_ek","mtm_campaign","mtm_cid","mtm_content","mtm_group","mtm_keyword","mtm_medium","mtm_placement","mtm_source","pk_campaign","pk_medium","pk_source","_branch_match_id","vc_lpp","ml_subscriber","ml_subscriber_hash","rb_clickid","oly_anon_id","oly_enc_id","dt_dapp","dt_platform","spm","scm"],a={"bilibili.com":["from","seid","share_source","spm_id_from","from_spm_id","share_medium","share_plat","share_session_id","share_source","share_tag","timestamp","unique_k","from_source","refer_from"]};function i(e){const t=new URL(e),n=t.hostname,i=t.searchParams;o.forEach(e=>i.delete(e));const r=function(e){let t=0,n=e;for(;t>=0;){if(a[n])return a[n];t=e.indexOf(".",t+1),n=e.slice(t+1)}}(n);return r&&r.forEach(e=>i.delete(e)),t.hash="",t.href}var r=n(2),s=n.n(r);class c{saveType={epub:!0,txt:!0,raw:!1};bookname;author;introduction;introductionHTML;additionalMetadate;chapters;saveOptions;constructor({bookUrl:e,bookname:t,author:n,introduction:o,introductionHTML:a,additionalMetadate:i,chapters:r}){this.bookUrl=e,this.bookname=t,this.author=n,this.introduction=o,this.introductionHTML=a,this.additionalMetadate=i,this.chapters=r,s().debug("[Book]初始化完成")}_bookUrl="";get bookUrl(){return this._bookUrl}set bookUrl(e){this._bookUrl=i(e)}_ToCUrl;get ToCUrl(){return this._ToCUrl}set ToCUrl(e){e&&(this._ToCUrl=i(e))}toJSON(){return{bookUrl:this.bookUrl,ToCUrl:this.ToCUrl,bookname:this.bookname,author:this.author,introduction:this.introduction,introductionHTML:this.introductionHTML?this.introductionHTML.outerHTML:this.introductionHTML,additionalMetadate:this.additionalMetadate}}}},(e,t,n)=>{"use strict";n.d(t,{Q:()=>B});var o=n(19),a=n(4),i=n(2),r=n.n(i),s=n(17),c=n(5),l=n(13),u=n(3),p=n(39),d=n(40),m=n(1),h=n(41),g=n(42),f=n.n(g);class x{filename;stream;zcount=0;count=0;filenameList=[];zipOut=new Blob([],{type:"application/zip"});savedZip;constructor(e,t,n="application/zip"){r().info(`[fflateZip] filename: ${e}, stream: ${t}, streamSaver.supported: ${f().supported}`);const o=this;let a;if(this.filename=e,this.stream=!1,this.stream){const e=f().createWriteStream(o.filename);a=e.getWriter()}this.savedZip=new h.Zip((e,t,i)=>{if(e)throw r().error(e),r().trace(e),o.stream&&a.abort(),e;o.stream?a.write(t):o.zipOut=new Blob([o.zipOut,t],{type:n}),i&&(o.stream?(a.close(),r().info("[fflateZip] ZIP生成完毕")):function(){r().info("[fflateZip] ZIP生成完毕，文件大小："+o.zipOut.size);try{(0,l.saveAs)(o.zipOut,o.filename),o.zipOut=new Blob([],{type:"application/zip"})}catch(e){r().error("[fflateZip]"+e),r().trace(e)}}())})}async file(e,t,n=!1){if(this.filenameList.includes(e))return void r().warn(`filename ${e} has existed on zip.`);this.filenameList.push(e),this.count++;const o=await t.arrayBuffer(),i=new Uint8Array(o);if(!(0,a.OH)((0,a.dB)(e.split(".").slice(-1)[0]))&&!(0,a.OH)(t.type)||n){const t=new h.ZipPassThrough(e);this.savedZip.add(t),t.push(i,!0),this.zcount++}else{const t=new h.AsyncZipDeflate(e,{level:9});this.savedZip.add(t),t.push(i,!0),this.zcount++}}async generateAsync(){for(;this.count!==this.zcount;)await(0,a.yy)(100);this.savedZip.end()}}var b=n(43),v=n(44),w=n(9);class y{genMetaDateTxt(e){let t=`题名：${e.bookname}\n作者：${e.author}`;return e.additionalMetadate.tags&&(t+=`\nTag列表：${e.additionalMetadate.tags.join("、")}`),t+=`\n原始网址：${e.bookUrl}`,e.additionalMetadate.cover&&(t+=`\n封面图片地址：${e.additionalMetadate.cover.url}`),e.introduction&&(t+=`\n简介：${e.introduction}`),t+=`\n下载时间：${(new Date).toISOString()}\n本文件由小说下载器生成，软件地址：https://github.com/404-novel-project/novel-downloader\n\n`,t}getChapterNumberToSave(e,t){return`${"0".repeat(Math.max(t.length.toString().length,5)-Math.trunc(e.chapterNumber).toString().length)}${e.chapterNumber.toString()}`}}class k extends y{mainStyleText=b.A;tocStyleText=v.A;getchapterName(e){return e.chapterName?e.chapterName:e.chapterNumber.toString()}genSectionText(e){return`${"=".repeat(20)}\n\n\n\n# ${e}\n\n\n\n${"=".repeat(20)}\n\n`}genChapterText(e,t){return`${e}\n${"=".repeat(2*(0,w.QJ)(e)+10)}\n\n${t}\n\n`}genChapterEpub(e){return e}chapterSort(e,t){return e.chapterNumber-t.chapterNumber}}var S=n(14);const T=nunjucks,A=new T.Environment(void 0,{autoescape:!1}),C=new T.Template('<!DOCTYPE html>\n<html>\n  <head>\n    <meta name="viewport" content="width=device-width,initial-scale=1">\n    <meta name="referrer" content="same-origin">\n    <meta name="generator" content="https://github.com/404-novel-project/novel-downloader">\n    <link href="style.css" type="text/css" rel="stylesheet">\n    <title>{{ sectionName }}</title>\n  </head>\n  <body>\n    <div class="main"><h1>{{ sectionName }}</h1></div>\n  </body>\n</html>\n',A,void 0,!0),M=new T.Template('<!DOCTYPE html>\n<html>\n  <head>\n    <meta name="viewport" content="width=device-width,initial-scale=1">\n    <meta name="referrer" content="same-origin">\n    <meta name="generator" content="https://github.com/404-novel-project/novel-downloader">\n    <meta name="source" content="{{ chapterUrl }}">\n    <link href="style.css" type="text/css" rel="stylesheet">\n    <title>{{ chapterName }}</title>\n  </head>\n  <body>\n    <div class="main">\n      <h2>{{ chapterName }}</h2>\n      {{ outerHTML }}\n    </div>\n  \x3c!-- <script type="text/javascript" src="web.js"><\/script> --\x3e\n  </body>\n</html>\n',A,void 0,!0),N=new T.Template('<!DOCTYPE html>\n<html>\n  <head>\n    <meta name="viewport" content="width=device-width,initial-scale=1">\n    <meta name="referrer" content="same-origin">\n    <meta name="generator" content="https://github.com/404-novel-project/novel-downloader">\n    <meta name="date-creation" content="{{ creationDate }}">\n    <link href="style.css" type="text/css" rel="stylesheet">\n    <link href="web.css" type="text/css" rel="stylesheet">\n    <link href="toc.css" type="text/css" rel="stylesheet">\n    <title>{{ bookname }}</title>\n  </head>\n  <body>\n    <div class="main">\n      <h1>{{ bookname }}</h1>\n      <h3 class="author">{{ author }}</h3>\n      <div class="info">\n        {% if cover -%}\n        <img class="cover" data-src-address="{{ cover.name }}">\n        {%- endif %} \n        {% if introductionHTML -%}\n        <div>\n          <h3>简介</h3>\n          <div class="introduction">{{ introductionHTML }}</div>\n        </div>\n        {%- endif %}\n      </div>\n      <div class="bookurl">\n        <a href="{{ bookUrl }}">打开原始网站</a>\n      </div>\n      <hr>\n      {% for sectionObj in sectionsObj -%}\n        <div id="section{{ sectionObj.sectionNumber }}" class="section">\n          {% if sectionObj.sectionName %}\n            <h2 class="section-label">{{ sectionObj.sectionName }}</h2>\n          {% endif %}\n          {% for chapter in sectionObj.chpaters -%}\n          <div class="chapter">\n              {% if not (chapter.contentHTML or chapter.status === Status.saved) -%}\n              <a class="disabled" href="{{ chapter.chapterHtmlFileName }}">{{ chapter.chapterName }}</a>\n              {%- else -%}\n              <a href="{{ chapter.chapterHtmlFileName }}">{{ chapter.chapterName }}</a>\n              {%- endif %}\n          </div>\n          {%- endfor %}\n        </div>\n      {%- endfor %} \n    </div>\n  </body>\n</html>',A,void 0,!0),E=(0,a.N4)(),P=`<?xml version="1.0" encoding="utf-8"?>\n<package version="3.0" unique-identifier="BookId" prefix="rendition: http://www.idpf.org/vocab/rendition/#" xmlns="http://www.idpf.org/2007/opf">\n  <metadata xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dcterms="http://purl.org/dc/terms/" xmlns:opf="http://www.idpf.org/2007/opf">\n    <dc:identifier id="BookId">urn:uuid:${E}</dc:identifier>\n    <meta content="${m.JX.script.version}" name="novel-downloader version"/>\n    <meta content="https://github.com/404-novel-project/novel-downloader" name="generator"/>\n    <meta property="dcterms:created">${function(){const e=new Date,t=e.getFullYear(),n=(new Date).getMonth()+1,o=n<10?`0${n}`:n,a=e.getDate();return`${t}-${o}-${a<10?`0${a}`:a}`}()}</meta>\n    <meta property="dcterms:modified">${(new Date).toISOString().replace(/\.\d\d\dZ$/,"Z")}</meta>\n  </metadata>\n  <manifest>\n    <item id="ncx" href="toc.ncx" media-type="application/x-dtbncx+xml"/>\n    <item id="navid" href="nav.xhtml" media-type="application/xhtml+xml" properties="nav"/>\n    <item id="sgc-toc.css" href="sgc-toc.css" media-type="text/css"/>\n    <item id="style.css" href="style.css" media-type="text/css"/>\n    <item id="cover.xhtml" href="cover.xhtml" media-type="application/xhtml+xml" properties="svg"/>\n    <item id="info.xhtml" href="info.xhtml" media-type="application/xhtml+xml"/>\n    <item id="message.xhtml" href="message.xhtml" media-type="application/xhtml+xml"/>\n    <item id="TOC.xhtml" href="TOC.xhtml" media-type="application/xhtml+xml"/>\n  </manifest>\n  <spine toc="ncx">\n    <itemref idref="cover.xhtml"/>\n    <itemref idref="info.xhtml"/>\n    <itemref idref="message.xhtml"/>\n    <itemref idref="TOC.xhtml"/>\n  </spine>\n  <guide>\n    <reference type="cover" title="Cover" href="cover.xhtml"/>\n    <reference type="toc" title="Table of Contents" href="TOC.xhtml"/>\n  </guide>\n</package>`,q=`<?xml version="1.0" encoding="utf-8" ?>\n<ncx version="2005-1" xmlns="http://www.daisy.org/z3986/2005/ncx/">\n  <head>\n    <meta content="urn:uuid:${E}" name="dtb:uid"/>\n    <meta content="2" name="dtb:depth"/>\n    <meta content="0" name="dtb:totalPageCount"/>\n    <meta content="0" name="dtb:maxPageNumber"/>\n  </head>\n  <docTitle>\n    <text></text>\n  </docTitle>\n  <navMap>\n  </navMap>\n</ncx>`,L=(e,t)=>`<?xml version="1.0" encoding="utf-8"?>\n<!DOCTYPE html>\n<html xmlns="http://www.w3.org/1999/xhtml" xmlns:epub="http://www.idpf.org/2007/ops">\n<head>\n  <title>信息页</title>\n  <link href="style.css" type="text/css" rel="stylesheet"/>\n</head>\n\n<body>\n  <div class="main">\n    <h1>${e}</h1>\n\n    ${t?`<h2>作者：${t}</h2>`:""}\n  </div>\n</body>\n</html>`;class _ extends k{contentOpf=(new DOMParser).parseFromString(P,"application/xml");metadata=this.contentOpf.querySelector("metadata");manifest=this.contentOpf.querySelector("manifest");spine=this.contentOpf.querySelector("spine");guide=this.contentOpf.querySelector("guide");ncx=(new DOMParser).parseFromString(q,"application/xml");navMap=this.ncx.querySelector("navMap");navHtml=(new DOMParser).parseFromString('<?xml version="1.0" encoding="utf-8"?>\n<!DOCTYPE html>\n<html xmlns="http://www.w3.org/1999/xhtml" xmlns:epub="http://www.idpf.org/2007/ops">\n<head>\n  <meta charset="utf-8"/>\n  <title>ePub Nav</title>\n  <style type="text/css">\n    ol { list-style-type: none; }\n  </style>\n</head>\n<body epub:type="frontmatter">\n  <nav epub:type="toc" id="toc" role="doc-toc">\n    <h1>Table of Contents</h1>\n  </nav>\n  <nav epub:type="landmarks" id="landmarks" hidden=""><h2>Guide</h2>\n    <ol>\n      <li><a epub:type="cover" href="cover.xhtml">Cover</a></li>\n      <li><a epub:type="toc" href="TOC.xhtml">Table of Contents</a></li>\n    </ol>\n  </nav>\n</body>\n</html>',"application/xhtml+xml");navHtmlToc=this.navHtml.getElementById("toc");toc=(new DOMParser).parseFromString('<?xml version="1.0" encoding="utf-8"?>\n<!DOCTYPE html>\n<html xmlns="http://www.w3.org/1999/xhtml" xmlns:epub="http://www.idpf.org/2007/ops">\n<head>\n  <title>Table of Contents</title>\n  <link href="sgc-toc.css" rel="stylesheet" type="text/css"/>\n</head>\n<body>\n  <div class="sgc-toc-title">\n    目录\n  </div>\n</body>\n</html>',"application/xhtml+xml");tocBody=this.toc.body;book;epubZip;constructor(e,t,n){super();const o=this;this.book=e;const a=`[${this.book.author}]${this.book.bookname}.epub`;this.epubZip=new x(a,t,"application/epub+zip"),r().debug("[save-epub]保存epub基本文件"),async function(){await o.epubZip.file("mimetype",new Blob(["application/epub+zip"]),!0),await o.epubZip.file("META-INF/container.xml",new Blob(['<?xml version="1.0" encoding="UTF-8"?>\n<container version="1.0" xmlns="urn:oasis:names:tc:opendocument:xmlns:container">\n    <rootfiles>\n        <rootfile full-path="OEBPS/content.opf" media-type="application/oebps-package+xml"/>\n    </rootfiles>\n</container>']))}(),n&&Object.assign(this,n)}genChapterHtmlFile(e){const t=M.render({chapterUrl:e.chapterUrl,chapterName:e.chapterName,outerHTML:e.contentHTML?.outerHTML??""});let n=(0,w.pI)(t);return n=this.genChapterEpub(n),new Blob(['<?xml version="1.0" encoding="utf-8"?>',n.replaceAll("data-src-address","src").replaceAll(/[\u{0000}-\u{001f}]/gu,"").replaceAll(/[\u{007f}-\u{009f}]/gu,"").replace('<html xmlns="http://www.w3.org/1999/xhtml">','<html xmlns="http://www.w3.org/1999/xhtml" xmlns:epub="http://www.idpf.org/2007/ops">')],{type:"application/xhtml+xml"})}async saveEpub(){const e=this;if(r().debug("[save-epub]保存样式文件"),await async function(){await e.epubZip.file("OEBPS/style.css",new Blob([e.mainStyleText])),await e.epubZip.file("OEBPS/sgc-toc.css",new Blob([p.A]))}(),r().debug("[save-epub]更新Metadata"),await async function(){const t=e.contentOpf.createElement("dc:title");t.textContent=e.book.bookname,e.metadata.appendChild(t),e.ncx.querySelector("docTitle > text").innerHTML=(0,w.Zn)(e.book.bookname);const n=e.contentOpf.createElement("dc:creator");n.setAttribute("id","cre"),n.textContent=e.book.author,e.metadata.appendChild(n);const o=e.contentOpf.createElement("meta");o.setAttribute("refines","#cre"),o.setAttribute("property","role"),o.setAttribute("scheme","marc:relators"),o.textContent="aut",e.metadata.appendChild(o);const a=e.contentOpf.createElement("dc:source");a.textContent=e.book.bookUrl,e.metadata.appendChild(a);const i=e.contentOpf.createElement("dc:language");if(i.textContent=e.book.additionalMetadate.language??"zh",e.metadata.appendChild(i),e.book.introduction){const t=e.contentOpf.createElement("dc:description");t.textContent=e.book.introduction,e.metadata.appendChild(t)}if(e.book.additionalMetadate.cover){await e.addAttachment(e.book.additionalMetadate.cover);const t=e.contentOpf.createElement("meta");t.setAttribute("name","cover"),t.setAttribute("content",e.book.additionalMetadate.cover.name),e.metadata.appendChild(t),await e.epubZip.file("OEBPS/cover.xhtml",new Blob([(r=e.book.additionalMetadate.cover.name,`<?xml version="1.0" encoding="utf-8"?>\n<!DOCTYPE html>\n<html xmlns="http://www.w3.org/1999/xhtml" xmlns:epub="http://www.idpf.org/2007/ops">\n<head>\n  <title>Cover</title>\n</head>\n\n<body>\n  <div style="text-align: center; padding: 0pt; margin: 0pt;">\n    <svg xmlns="http://www.w3.org/2000/svg" height="100%" preserveAspectRatio="xMidYMid meet" version="1.1" viewBox="0 0 368 460" width="100%" xmlns:xlink="http://www.w3.org/1999/xlink"><image width="368" height="460" xlink:href="${r}"/></svg>\n  </div>\n</body>\n</html>`)],{type:"application/xhtml+xml"}))}else e.manifest.querySelector('item[id="cover.xhtml"]')?.remove(),e.spine.querySelector('itemref[idref="cover.xhtml"]')?.remove(),e.guide.querySelector('reference[type="cover"]')?.remove();var r,s;if(e.book.additionalMetadate.tags)for(const t of e.book.additionalMetadate.tags){const n=e.contentOpf.createElement("dc:subject");n.textContent=t,e.metadata.appendChild(n)}await e.epubZip.file("OEBPS/info.xhtml",new Blob([L(e.book.bookname,e.book.author).replaceAll(/[\u{0000}-\u{001f}]/gu,"").replaceAll(/[\u{007f}-\u{009f}]/gu,"")],{type:"application/xhtml+xml"})),await e.epubZip.file("OEBPS/message.xhtml",new Blob([(0,w.pI)((s=e.book,`<?xml version="1.0" encoding="utf-8"?>\n<!DOCTYPE html>\n<html xmlns="http://www.w3.org/1999/xhtml" xmlns:epub="http://www.idpf.org/2007/ops">\n<head>\n  <title>信息页</title>\n  <link href="style.css" type="text/css" rel="stylesheet"/>\n</head>\n\n<body>\n  <div class="main">\n    <div><strong>制作信息</strong></div>\n    <hr/>\n    <div>题名：${s.bookname}</div>\n    <div>作者：${s.author}</div>\n    <div>原始地址：<a href="${s.bookUrl}">${s.bookUrl}</a></div>\n    <div>本文件由<a href="https://github.com/404-novel-project/novel-downloader">小说下载器</a>生成。</div>\n    ${s.introductionHTML?`<hr/><span>简介：</span>${s.introductionHTML.outerHTML}`:""}\n    ${s.additionalMetadate.tags?`<hr/><div>Tag列表：${s.additionalMetadate.tags.join("、")}</div>`:""}\n  </div>\n</body>\n</html>`)).replaceAll(/[\u{0000}-\u{001f}]/gu,"").replaceAll(/[\u{007f}-\u{009f}]/gu,"")],{type:"application/xhtml+xml"}))}(),this.book.additionalMetadate.attachments){r().debug("[save]保存书籍附件");for(const e of this.book.additionalMetadate.attachments)await this.addAttachment(e)}r().debug("[save-epub]保存仅标题章节文件"),await async function(t){t=t.filter(e=>e.status!==c.nW.saved);for(const n of t)n.status===c.nW.finished?await e.addChapter(n):await e.addChapter(n,"Stub")}(this.book.chapters),r().debug("[save-epub]保存目录文件"),await async function(){r().debug("[save-epub]对 chapters 排序"),e.book.chapters.sort(e.chapterSort);const t=(0,S.e)(e.book.chapters,e.chapterSort);let n,o,a=0,i=null;const s=e.navHtml.createElement("ol");let c;e.navHtmlToc.appendChild(s);for(const g of t){const{sectionName:t,sectionNumber:f,chpaters:x}=g;if(f!==i){const g=`No${e.getChapterNumberToSave(x[0],e.book.chapters)}Section.xhtml`;if(t){i=f,r().debug(`[save-epub]保存卷HTML文件：${t}`);const x=h(t);await e.epubZip.file(`OEBPS/${g}`,x),l(g),u(g),a++;const b=p(a,t,g);n&&e.navMap.appendChild(n),n=b;const v=d(t,g);c=e.navHtml.createElement("ol"),v.appendChild(c),s.appendChild(v);const w=m("sgc-toc-level-1",t,g);o&&e.tocBody.appendChild(o),o=w}}for(const i of x){const r=i.chapterHtmlFileName;if(t){u(r),a++;const e=p(a,i.chapterName??"",r);n?.appendChild(e),c?.appendChild(d(i.chapterName??"",r));const t=m("sgc-toc-level-2",i.chapterName??"",r);o?.appendChild(t)}else{u(r),a++;const t=p(a,i.chapterName??"",r);e.navMap.appendChild(t),s.appendChild(d(i.chapterName??"",r));const n=m("sgc-toc-level-2",i.chapterName??"",r);e.tocBody.appendChild(n)}}}function l(t){const n=e.contentOpf.createElement("item");n.id=t,n.setAttribute("href",t),n.setAttribute("media-type","application/xhtml+xml"),e.manifest.querySelector(`itme[id="${t}"]`)||e.manifest.appendChild(n)}function u(t){const n=e.contentOpf.createElement("itemref");n.setAttribute("idref",t),e.spine.appendChild(n)}function p(t,n,o){const a=e.ncx.createElement("navPoint");a.id=`navPoint-${t}`,a.setAttribute("playOrder",t.toString());const i=e.ncx.createElement("navLabel"),r=e.ncx.createElement("text");r.textContent=n;const s=e.ncx.createElement("content");return s.setAttribute("src",o),i.appendChild(r),a.appendChild(i),a.appendChild(s),a}function d(t,n){const o=e.navHtml.createElement("li"),a=e.navHtml.createElement("a");return a.textContent=t,a.href=n,o.appendChild(a),o}function m(t,n,o){const a=e.toc.createElement("div");a.className=t;const i=e.toc.createElement("a");return i.href=o,i.innerText=n,a.appendChild(i),a}function h(e){const t=C.render({sectionName:e}),n=(0,w.pI)(t);return new Blob(['<?xml version="1.0" encoding="utf-8"?>',n.replaceAll("data-src-address","src").replaceAll(/[\u{0000}-\u{001f}]/gu,"").replaceAll(/[\u{007f}-\u{009f}]/gu,"").replace('<html xmlns="http://www.w3.org/1999/xhtml">','<html xmlns="http://www.w3.org/1999/xhtml" xmlns:epub="http://www.idpf.org/2007/ops">')],{type:"application/xhtml+xml"})}n&&e.navMap.appendChild(n),o&&e.tocBody.appendChild(o),await e.epubZip.file("OEBPS/content.opf",new Blob([(new XMLSerializer).serializeToString(e.contentOpf).replaceAll('xmlns=""',"").replaceAll(/[\u{0000}-\u{001f}]/gu,"").replaceAll(/[\u{007f}-\u{009f}]/gu,"")],{type:"application/oebps-package+xml"})),await e.epubZip.file("OEBPS/toc.ncx",new Blob([(new XMLSerializer).serializeToString(e.ncx).replaceAll('xmlns=""',"").replaceAll(/[\u{0000}-\u{001f}]/gu,"").replaceAll(/[\u{007f}-\u{009f}]/gu,"")],{type:"application/x-dtbncx+xml"})),await e.epubZip.file("OEBPS/nav.xhtml",new Blob([(new XMLSerializer).serializeToString(e.navHtml).replaceAll(/[\u{0000}-\u{001f}]/gu,"").replaceAll(/[\u{007f}-\u{009f}]/gu,"")],{type:"application/xhtml+xml"})),await e.epubZip.file("OEBPS/TOC.xhtml",new Blob([(new XMLSerializer).serializeToString(e.toc).replaceAll(/[\u{0000}-\u{001f}]/gu,"").replaceAll(/[\u{007f}-\u{009f}]/gu,"")],{type:"application/xhtml+xml"}))}(),await async function(){r().debug("[save-zip]保存元数据文本");const t=e.genMetaDateTxt(e.book);await e.epubZip.file("OEBPS/info.txt",new Blob([t],{type:"text/plain;charset=utf-8"})),r().debug("[save-zip]保存web样式"),await e.epubZip.file("OEBPS/web.css",new Blob([d.A],{type:"text/css;charset=utf-8"})),e.book.additionalMetadate.cover?e.tocStyleText=`${e.tocStyleText}\n    .info {\n      display: grid;\n      grid-template-columns: 30% 70%;\n    }`:e.tocStyleText=`${e.tocStyleText}\n    .info {\n      display: grid;\n      grid-template-columns: 100%;\n    }`,await e.epubZip.file("OEBPS/toc.css",new Blob([e.tocStyleText],{type:"text/css;charset=utf-8"})),await e.epubZip.file("OEBPS/web.js",new Blob(['if (typeof fetch === "function" && !navigator.userAgent.includes("calibre-viewer") && navigator.userAgent.startsWith("Mozilla/5.0")) {\n  const link = document.createElement("link");\n  link.type = "text/css";\n  link.rel = "stylesheet";\n  link.href = "web.css";\n  document.head.append(link);\n}'],{type:"application/javascript"})),r().debug("[save-zip]开始生成并保存 index.html"),await async function(){r().debug("[save]对 chapters 排序"),e.book.chapters.sort(e.chapterSort);const t=(0,S.e)(e.book.chapters,e.chapterSort),n=N.render({creationDate:Date.now(),bookname:e.book.bookname,author:e.book.author,cover:e.book.additionalMetadate.cover,introductionHTML:e.book.introductionHTML?.outerHTML,bookUrl:e.book.bookUrl,sectionsObj:Object.values(t),Status:c.nW}),o=(0,w.pI)(n);await e.epubZip.file("OEBPS/index.xhtml",new Blob([o.replaceAll("data-src-address","src").replaceAll(/[\u{0000}-\u{001f}]/gu,"").replaceAll(/[\u{007f}-\u{009f}]/gu,"")],{type:"application/xhtml+xml; charset=UTF-8"}))}(),r().debug("[save-zip]开始保存 Meta Data Json"),await async function(){await e.epubZip.file("OEBPS/book.json",new Blob([JSON.stringify(e.book)],{type:"application/json; charset=utf-8"})),await e.epubZip.file("OEBPS/chapters.json",new Blob([JSON.stringify(e.book.chapters)],{type:"application/json; charset=utf-8"}))}()}(),await this.epubZip.generateAsync()}async addChapter(e,t=""){const n=this.getchapterName(e),o=`No${this.getChapterNumberToSave(e,this.book.chapters)}Chapter${t}.xhtml`;e.chapterHtmlFileName=o,r().debug(`[save-epub]保存章HTML文件：${n}`);const a=this.genChapterHtmlFile(e);await this.epubZip.file(`OEBPS/${o}`,a);const i=this.contentOpf.createElement("item");if(i.id=o,i.setAttribute("href",o),i.setAttribute("media-type","application/xhtml+xml"),this.manifest.querySelector(`item[id="${o}"]`)||this.manifest.appendChild(i),e.contentImages&&0!==e.contentImages.length){r().debug(`[save-epub]保存章节附件：${n}`);for(const t of e.contentImages)await this.addAttachment(t)}}async addAttachment(e){if(e.status===c.nW.finished&&e.Blob){r().debug(`[save-epub]添加附件，文件名：${e.name}，对象`,e.Blob),await this.epubZip.file(`OEBPS/${e.name}`,e.Blob);const t=this.contentOpf.createElement("item");t.id=e.name,t.setAttribute("href",e.name);const n=(0,a.dB)(e.name.substring(e.name.lastIndexOf(".")+1));t.setAttribute("media-type",n),this.manifest.querySelector(`item[id="${e.name}"]`)||this.manifest.appendChild(t)}else e.status===c.nW.saved?r().debug(`[save-epub]附件${e.name}已添加`):(r().warn(`[save-epub]添加附件${e.name}失败，该附件未完成或内容为空。`),r().warn(e))}}class I extends k{book;savedTextArray=[];saveFileNameBase;constructor(e,t){super(),this.book=e,this.saveFileNameBase=`[${this.book.author}]${this.book.bookname}`,t&&Object.assign(this,t)}saveTxt(){const e=this.book.chapters,t=this.genMetaDateTxt(this.book);this.savedTextArray.push(t),r().debug("[save]对 chapters 排序"),e.sort(this.chapterSort);const n=[];for(const t of e){const e=this.getchapterName(t);if(t.sectionName&&!n.includes(t.sectionName)){n.push(t.sectionName);const e=this.genSectionText(t.sectionName);this.savedTextArray.push(e)}const o=this.genChapterText(e,t.contentText??"");this.savedTextArray.push(o),u.Nw.value||(t.contentText=null)}r().info("[save]保存TXT文件");const o=this.savedTextArray.join("\n").replaceAll("\n","\r\n");(0,l.saveAs)(new Blob([o],{type:"text/plain;charset=utf-8"}),`${this.saveFileNameBase}.txt`)}}class j{book;epubZip;constructor(e){if(this.book=e,!(this.book.saveType.raw instanceof Object))throw new Error("init raw save zip failed!");{const e=`[${this.book.author}]${this.book.bookname}.${this.book.saveType.raw.ext}`;this.epubZip=new x(e,!1,(0,a.dB)(this.book.saveType.raw.ext))}}async saveRaw(){const e=this.book.additionalMetadate.attachments,t=e?.map(async e=>{e.Blob&&await this.epubZip.file(e.name,e.Blob,"nocompress"===e.comments)})??[];await Promise.all(t),await this.epubZip.generateAsync()}}class U{saveType;txt;epub;raw;constructor(e,t,n){const o={};void 0!==n&&Object.assign(o,n),void 0!==e.saveOptions&&Object.assign(o,e.saveOptions),this.saveType=e.saveType,this.txt=new I(e,o),this.epub=new _(e,t,o),this.saveType.raw instanceof Object&&(this.raw=new j(e))}static saveLog(){(0,l.saveAs)(new Blob([s.kc],{type:"text/plain; charset=UTF-8"}),"debug.log")}async addChapter(e){if(await this.epub.addChapter(e),u.Nw.value||(e.contentRaw=null,e.contentHTML=null,e.contentImages=null),e.contentImages&&0!==e.contentImages.length)for(const t of e.contentImages)t.status=c.nW.saved,u.Nw.value||(t.Blob=null);e.status=c.nW.saved}async save(){u.Jv.value&&this.saveType.txt&&this.saveTxt(),u.Nw.value&&U.saveLog(),u.Zz.value&&this.saveType.epub&&await this.saveEpub(),this.saveType.raw instanceof Object&&await this.saveRaw()}saveTxt(){this.txt.saveTxt()}async saveEpub(){await this.epub.saveEpub()}async saveRaw(){await this.raw.saveRaw()}}var z=n(45);const D="novel-downloader-22932304826849026",O=document.location.hostname;async function H(){const e=await(0,m.er)(D);let t;return t=e?JSON.parse(e):{success:{},failed:{}},t}const R=async e=>{const t=await H(),n=t[e];return n[O]?n[O]=n[O]+1:n[O]=1,(async e=>{const t=JSON.stringify(e);return await(0,m.mN)(D,t),e})(t)};var V=n(29);class B{attachmentMode="TM";charset=document.characterSet;concurrencyLimit=10;sleepTime=50;maxSleepTime=500;streamZip=!1;needLogin=!1;nsfw=!1;maxRunLimit;saveOptions;book;saveType;bcWorker=new BroadcastChannel("novel-downloader-worker");bcWorkerMessages=[];audio;constructor(){const e=this.bcWorker,t=this.bcWorkerMessages;e.onmessage=n=>{const o=n.data;if("ping"===o.type){const t={type:"pong",src:o.workerId,workerId:window.workerId,url:document.location.href};e.postMessage(t)}"pong"===o.type&&t.push(o),"close"===o.type&&r().debug(`${window.workerId} has closed!`)}}async run(){r().info("[run]下载开始");const e=this,t=z.j.getInstance(),n=window.workerId;t.initializeSession(n),r().debug(`[run] Initialized session mapping cache for session: ${n}`);try{await e.preHook(),await async function(){window._book&&window._url===document.location.href?e.book=window._book:(e.book=await e.bookParse(),window._book=e.book,window._url=document.location.href),r().debug("[book]Book object:\n"+JSON.stringify(e.book))}();const t=function(t){if(r().debug("[run]保存数据"),u.k8&&"object"==typeof unsafeWindow.saveOptions&&function(e){const t=["mainStyleText","tocStyleText"],n=["getchapterName","genSectionText","genChapterText","genChapterEpub","chapterSort"];function o(e){return[...t,...n].includes(e)}function a(n){return!(!t.includes(n)||"string"!=typeof e[n])}function i(t){return!(!n.includes(t)||"function"!=typeof e[t])}if("object"!=typeof e)return!1;if(0===Object.keys(e).length)return!1;for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){if(!o(t))return!1;if(!a(t)&&!i(t))return!1}return!0}(unsafeWindow.saveOptions)){const n=unsafeWindow.saveOptions;if(n)return r().info("[run]发现自定义保存参数，内容如下\n",n),new U(t,e.streamZip,n)}return new U(t,e.streamZip)}(e.book);return u.WZ.value&&(r().info("[run]发现自定义下载设置，将进行覆盖"),e.concurrencyLimit=u.ri.value,e.sleepTime=u.Xl.value,e.maxSleepTime=u.Fe.value),await async function(){if(u.KV&&!e.needLogin&&e.book?.bookUrl&&void 0===window.localStorageExpired.get(`${e.book.bookUrl}_saveToArchiveOrg`)&&await(0,u.BV)()){console.log("[saveToArchiveOrg]保存当前书页至 archive.org");try{window.localStorageExpired.set(`${e.book.bookUrl}_saveToArchiveOrg`,!0,86400)}catch(e){}(0,a.ZA)(e.book.bookUrl).then(e=>r().info(e)),e.book.ToCUrl&&(0,a.ZA)(e.book.ToCUrl).then(e=>r().info(e))}}(),await e.initChapters(e.book,t).catch(e=>{if(!(e instanceof c.K5))throw e;console.warn(e)}),await async function(e){r().debug("[run]开始保存文件"),await e.save()}(t),e.postHook(),e.book}catch(t){e.catchError(t)}finally{t.clearSession(n),r().debug(`[run] Cleaned up session mapping cache for session: ${n}`)}}async preHook(){const e=this;if(!await async function(){const t=e.bcWorker,n=e.bcWorkerMessages,o={type:"ping",workerId:window.workerId,url:document.location.href};t.postMessage(o),await(0,a.yy)(300);const i=n.filter(e=>"pong"===e.type&&e.src===window.workerId&&e.workerId!==window.workerId).map(e=>({id:e.workerId,url:e.url}));r().info(JSON.stringify(i,void 0,4));const s=i.length;return r().info(`[preTest]nowRunning: ${s}`),!e.maxRunLimit||s<e.maxRunLimit}()){const t=`当前网站目前最多允许${e.maxRunLimit}个下载任务同时进行。\n请待其它下载任务完成后，再行尝试。`;throw alert(t),r().info(`[run]${t}`),new c.K5(t)}e.audio=new Audio("data:audio/mp3;base64,SUQzBAAAAAAAI1RTU0UAAAAPAAADTGF2ZjU3LjcxLjEwMAAAAAAAAAAAAAAA/+M4wAAAAAAAAAAAAEluZm8AAAAPAAAAEAAABVgANTU1NTU1Q0NDQ0NDUFBQUFBQXl5eXl5ea2tra2tra3l5eXl5eYaGhoaGhpSUlJSUlKGhoaGhoaGvr6+vr6+8vLy8vLzKysrKysrX19fX19fX5eXl5eXl8vLy8vLy////////AAAAAExhdmM1Ny44OQAAAAAAAAAAAAAAACQCgAAAAAAAAAVY82AhbwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/+MYxAALACwAAP/AADwQKVE9YWDGPkQWpT66yk4+zIiYPoTUaT3tnU487uNhOvEmQDaCm1Yz1c6DPjbs6zdZVBk0pdGpMzxF/+MYxA8L0DU0AP+0ANkwmYaAMkOKDDjmYoMtwNMyDxMzDHE/MEsLow9AtDnBlQgDhTx+Eye0GgMHoCyDC8gUswJcMVMABBGj/+MYxBoK4DVpQP8iAtVmDk7LPgi8wvDzI4/MWAwK1T7rxOQwtsItMMQBazAowc4wZMC5MF4AeQAGDpruNuMEzyfjLBJhACU+/+MYxCkJ4DVcAP8MAO9J9THVg6oxRMGNMIqCCTAEwzwwBkINOPAs/iwjgBnMepYyId0PhWo+80PXMVsBFzD/AiwwfcKGMEJB/+MYxDwKKDVkAP8eAF8wMwIxMlpU/OaDPLpNKkEw4dRoBh6qP2FC8jCJQFcweQIPMHOBtTBoAVcwOoCNMYDI0u0Dd8ANTIsy/+MYxE4KUDVsAP8eAFBVpgVVPjdGeTEWQr0wdcDtMCeBgDBkgRgwFYB7Pv/zqx0yQQMCCgKNgonHKj6RRVkxM0GwML0AhDAN/+MYxF8KCDVwAP8MAIHZMDDA3DArAQo3K+TF5WOBDQw0lgcKQUJxhT5sxRcwQQI+EIPWMA7AVBoTABgTgzfBN+ajn3c0lZMe/+MYxHEJyDV0AP7MAA4eEwsqP/PDmzC/gNcwXUGaMBVBIwMEsmB6gaxhVuGkpoqMZMQjooTBwM0+S8FTMC0BcjBTgPwwOQDm/+MYxIQKKDV4AP8WADAzAKQwI4CGPhWOEwCFAiBAYQnQMT+uwXUeGzjBWQVkwTcENMBzA2zAGgFEJfSPkPSZzPXgqFy2h0xB/+MYxJYJCDV8AP7WAE0+7kK7MQrATDAvQRIwOADKMBuA9TAYQNM3AiOSPjGxowgHMKFGcBNMQU1FMy45OS41VVU/31eYM4sK/+MYxKwJaDV8AP7SAI4y1Yq0MmOIADGwBZwwlgIJMztCM0qU5TQPG/MSkn8yEROzCdAxECVMQU1FMy45OS41VTe7Ohk+Pqcx/+MYxMEJMDWAAP6MADVLDFUx+4J6Mq7NsjN2zXo8V5fjVJCXNOhwM0vTCDAxFpMYYQU+RlVMQU1FMy45OS41VVVVVVVVVVVV/+MYxNcJADWAAP7EAFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV/+MYxOsJwDWEAP7SAFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV/+MYxPMLoDV8AP+eAFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV/+MYxPQL0DVcAP+0AFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV"),e.audio.loop=!0,await e.audio.play(),window.onbeforeunload=e=>(e.preventDefault(),e.returnValue="您正尝试离开本页面，当前页面有下载任务正在运行，是否确认离开？"),window.downloading=!0}async initChapters(e,t){const n=this;r().info("[initChapters]开始初始化章节"),Object.entries(n).forEach(e=>r().info(`[initChapters] ${e[0]}: ${e[1]}`));const o=function(e){let t=e.chapters.filter(e=>e.status!==c.nW.aborted);return function(){if(u.U5&&"function"==typeof unsafeWindow.chapterFilter){let e="[initChapters]发现自定义筛选函数，自定义筛选函数内容如下：\n";return e+=unsafeWindow.chapterFilter?.toString(),r().info(e),!0}return!1}()&&(r().debug("[initChapters]筛选需下载章节"),t=t.filter(e=>function(e){let t=!0;try{const n=unsafeWindow.chapterFilter?.(e);"boolean"==typeof n&&(t=n)}catch(e){r().error("运行自定义筛选函数时出错。",e),r().trace(e)}return t}(e))),e.chapters=t,t}(e);if(0===o.length)return r().error("[initChapters]初始化章节出错，未找到需初始化章节"),[];if(V.vm.totalChapterNumber=o.length,1===n.concurrencyLimit){let e=-1;for(const l of o)if(l.status!==c.nW.finished){if(window.failedCount>10&&(window.stopFlag.aborted||(window.stopController.abort(),console.error("连续十章下载失败，放弃本次下载。\n请附上相关日志至支持地址进行反馈。\n支持地址：https://github.com/404-novel-project/novel-downloader"),alert("连续十章下载失败，放弃本次下载。\n请附上相关日志至支持地址进行反馈。\n支持地址：https://github.com/404-novel-project/novel-downloader"),(0,s.M6)())),window.stopFlag.aborted)throw new c.K5("[chapter]收到停止信号，停止继续下载。");try{e++;const o=Math.min(n.maxSleepTime/2,e*n.sleepTime);await(0,a.yy)(o+Math.round(Math.random()*o));let r=await l.init();r=await i(r,t)}catch(e){r().error(e),r().trace(e)}}}else{const e=async e=>{if(window.failedCount>10&&(window.stopFlag.aborted||(window.stopController.abort(),console.error("连续十章下载失败，放弃本次下载。\n请附上相关日志至支持地址进行反馈。\n支持地址：https://github.com/404-novel-project/novel-downloader"),alert("连续十章下载失败，放弃本次下载。\n请附上相关日志至支持地址进行反馈。\n支持地址：https://github.com/404-novel-project/novel-downloader"),(0,s.M6)())),void 0===e)return null;if(e?.status===c.nW.finished)return e;try{let n=await e.init();return n=await i(n,t),n}catch(e){r().error(e),r().trace(e)}};await(0,a.rr)(o,n.concurrencyLimit,e,{signal:window.stopFlag,reason:"[chapter]收到停止信号，停止继续下载。"})}return r().info("[initChapters]章节初始化完毕"),o;async function i(e,t){return void 0!==e.contentHTML&&(await t.addChapter(e),V.vm.finishedChapterNumber++),e}}postHook(){const e=this;(0,o.rd)(),e.audio?.pause(),e.audio?.remove();const t={type:"close",workerId:window.workerId,url:document.location.href};e.bcWorker.postMessage(t),e.bcWorker.onmessage=null,e.bcWorker.close(),e.bcWorkerMessages.splice(0,e.bcWorkerMessages.length),window.onbeforeunload=null,window.downloading=!1,V.vm.reset(),window._book=void 0,window._url=void 0,function(){if(u.zb&&"function"==typeof unsafeWindow.customFinishCallback){const e=unsafeWindow.customFinishCallback;e&&(r().info(`发现自定义结束回调函数，内容如下：\n${e.toString()}`),e())}}(),R("success").then(()=>{(async()=>{const e=await H();r().info("[stat]小说下载器脚本运行情况统计："),r().info(e);for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){r().info(`[stat]${t}:`);const n=e[t];for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&r().info(`    ${e}: ${n[e]}`)}})()})}catchError(e){r().error(e),r().trace(e),this.postHook(),e instanceof c.K5||(document.getElementById("button-div")?.remove(),r().error("运行过程出错，请附上相关日志至支持地址进行反馈。\n支持地址：https://github.com/404-novel-project/novel-downloader"),R("failed"),alert("运行过程出错，请附上相关日志至支持地址进行反馈。\n支持地址：https://github.com/404-novel-project/novel-downloader"),window.open("https://github.com/404-novel-project/novel-downloader/issues"),(0,s.M6)())}}},(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var o=n(11),a=n.n(o),i=n(12),r=n.n(i)()(a());r.push([e.id,"div.sgc-toc-title {\n  font-size: 2em;\n  font-weight: bold;\n  margin-bottom: 1em;\n  text-align: center;\n}\n\ndiv.sgc-toc-level-1 {\n  margin-left: 0em;\n}\n\ndiv.sgc-toc-level-2 {\n  margin-left: 2em;\n}\n\ndiv.sgc-toc-level-3 {\n  margin-left: 2em;\n}\n\ndiv.sgc-toc-level-4 {\n  margin-left: 2em;\n}\n\ndiv.sgc-toc-level-5 {\n  margin-left: 2em;\n}\n\ndiv.sgc-toc-level-6 {\n  margin-left: 2em;\n}\n",""]);const s=r},(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var o=n(11),a=n.n(o),i=n(12),r=n.n(i)()(a());r.push([e.id,'body {\n  background-color: #f0f0f2;\n  margin: 0;\n  padding: 0;\n  font-family: -apple-system, system-ui, BlinkMacSystemFont, "Segoe UI",\n    "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;\n}\n\ndiv.main {\n  width: 900px;\n  margin: 5em auto;\n  padding: 2em;\n  background-color: #fdfdff;\n  border-radius: 0.5em;\n  box-shadow: 2px 3px 7px 2px rgba(0, 0, 0, 0.02);\n}\n\n@media (max-width: 700px) {\n  div.main {\n    margin: 0 auto;\n    width: auto;\n  }\n}\n',""]);const s=r},e=>{"use strict";e.exports=fflate},function(e){var t;t=()=>{"use strict";const e="object"==typeof window?window:this;e.HTMLElement||console.warn("streamsaver is meant to run on browsers main thread");let t=null,n=!1;const o=e.WebStreamsPolyfill||{},a=e.isSecureContext;let i=/constructor/i.test(e.HTMLElement)||!!e.safari||!!e.WebKitPoint;const r=a||"MozAppearance"in document.documentElement.style?"iframe":"navigate",s={createWriteStream:function(o,l,u){let p={size:null,pathname:null,writableStrategy:void 0,readableStrategy:void 0},d=0,m=null,h=null,g=null;if(Number.isFinite(l)?([u,l]=[l,u],console.warn("[StreamSaver] Deprecated pass an object as 2nd argument when creating a write stream"),p.size=u,p.writableStrategy=l):l&&l.highWaterMark?(console.warn("[StreamSaver] Deprecated pass an object as 2nd argument when creating a write stream"),p.size=u,p.writableStrategy=l):p=l||{},!i){t||(t=a?c(s.mitm):function(t){const n=document.createDocumentFragment(),o={frame:e.open(t,"popup","width=200,height=100"),loaded:!1,isIframe:!1,isPopup:!0,remove(){o.frame.close()},addEventListener(...e){n.addEventListener(...e)},dispatchEvent(...e){n.dispatchEvent(...e)},removeEventListener(...e){n.removeEventListener(...e)},postMessage(...e){o.frame.postMessage(...e)}},a=t=>{t.source===o.frame&&(o.loaded=!0,e.removeEventListener("message",a),o.dispatchEvent(new Event("load")))};return e.addEventListener("message",a),o}(s.mitm)),h=new MessageChannel,o=encodeURIComponent(o.replace(/\//g,":")).replace(/['()]/g,escape).replace(/\*/g,"%2A");const i={transferringReadable:n,pathname:p.pathname||Math.random().toString().slice(-6)+"/"+o,headers:{"Content-Type":"application/octet-stream; charset=utf-8","Content-Disposition":"attachment; filename*=UTF-8''"+o}};p.size&&(i.headers["Content-Length"]=p.size);const l=[i,"*",[h.port2]];if(n){const e="iframe"===r?void 0:{transform(e,t){if(!(e instanceof Uint8Array))throw new TypeError("Can only write Uint8Arrays");d+=e.length,t.enqueue(e),m&&(location.href=m,m=null)},flush(){m&&(location.href=m)}};g=new s.TransformStream(e,p.writableStrategy,p.readableStrategy);const t=g.readable;h.port1.postMessage({readableStream:t},[t])}h.port1.onmessage=e=>{e.data.download?"navigate"===r?(t.remove(),t=null,d?location.href=e.data.download:m=e.data.download):(t.isPopup&&(t.remove(),t=null,"iframe"===r&&c(s.mitm)),c(e.data.download)):e.data.abort&&(f=[],h.port1.postMessage("abort"),h.port1.onmessage=null,h.port1.close(),h.port2.close(),h=null)},t.loaded?t.postMessage(...l):t.addEventListener("load",()=>{t.postMessage(...l)},{once:!0})}let f=[];return!i&&g&&g.writable||new s.WritableStream({write(e){if(!(e instanceof Uint8Array))throw new TypeError("Can only write Uint8Arrays");i?f.push(e):(h.port1.postMessage(e),d+=e.length,m&&(location.href=m,m=null))},close(){if(i){const e=new Blob(f,{type:"application/octet-stream; charset=utf-8"}),t=document.createElement("a");t.href=URL.createObjectURL(e),t.download=o,t.click()}else h.port1.postMessage("end")},abort(){f=[],h.port1.postMessage("abort"),h.port1.onmessage=null,h.port1.close(),h.port2.close(),h=null}},p.writableStrategy)},WritableStream:e.WritableStream||o.WritableStream,supported:!0,version:{full:"2.0.5",major:2,minor:0,dot:5},mitm:"https://jimmywarting.github.io/StreamSaver.js/mitm.html?version=2.0.0"};function c(e){if(!e)throw new Error("meh");const t=document.createElement("iframe");return t.hidden=!0,t.src=e,t.loaded=!1,t.name="iframe",t.isIframe=!0,t.postMessage=(...e)=>t.contentWindow.postMessage(...e),t.addEventListener("load",()=>{t.loaded=!0},{once:!0}),document.body.appendChild(t),t}try{new Response(new ReadableStream),a&&!("serviceWorker"in navigator)&&(i=!0)}catch(e){i=!0}return(()=>{try{(()=>{const{readable:e}=new TransformStream,t=new MessageChannel;t.port1.postMessage(e,[e]),t.port1.close(),t.port2.close(),n=!0,Object.defineProperty(s,"TransformStream",{configurable:!1,writable:!1,value:TransformStream})})()}catch(e){}})(),s},e.exports=t()},(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var o=n(11),a=n.n(o),i=n(12),r=n.n(i)()(a());r.push([e.id,"h1 {\n  line-height: 130%;\n  text-align: center;\n  font-weight: bold;\n  font-size: xx-large;\n  margin-top: 3.2em;\n  margin-bottom: 3.3em;\n}\n\nh2 {\n  line-height: 130%;\n  text-align: center;\n  font-weight: bold;\n  font-size: x-large;\n  margin-top: 1.2em;\n  margin-bottom: 2.3em;\n}\n\ndiv {\n  margin: 0;\n  padding: 0;\n  text-align: justify;\n}\n\np {\n  text-indent: 2em;\n  display: block;\n  line-height: 1.3em;\n  margin-top: 0.4em;\n  margin-bottom: 0.4em;\n}\n\nimg {\n  vertical-align: text-bottom;\n  max-width: 90%;\n}\n\n.title {\n  margin-bottom: 0.7em;\n}\n",""]);const s=r},(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var o=n(11),a=n.n(o),i=n(12),r=n.n(i)()(a());r.push([e.id,'img {\n  max-width: 100%;\n  max-height: 15em;\n}\n\n.introduction {\n  font-size: smaller;\n  max-height: 18em;\n  overflow-y: scroll;\n}\n\n.introduction p {\n  text-indent: 0;\n}\n\n.bookurl {\n  text-align: center;\n  font-size: smaller;\n  padding-top: 1em;\n  padding-bottom: 0.5em;\n  margin-top: 0.4em;\n}\n\n.bookurl > a {\n  color: gray;\n}\n\n.info h3 {\n  padding-left: 0.5em;\n  margin-top: -1.2em;\n  margin-bottom: 0.5em;\n}\n\n.section {\n  margin-top: 1.5em;\n  display: grid;\n  grid-template-columns: 33% 33% 33%;\n}\n\n.section > h2:first-child {\n  grid-column-end: span 3;\n}\n\n.section > .chapter {\n  padding-bottom: 0.3em;\n  text-align: center;\n}\n\n.main > h1 {\n  margin-top: 1.5em;\n  margin-bottom: 1.5em;\n}\n\na.disabled {\n  pointer-events: none;\n  cursor: default;\n  color: gray;\n}\n\n.author::before {\n  content: "作者：";\n}\n\n.author {\n  text-align: center;\n  margin-top: -3em;\n  margin-bottom: 3em;\n}\n',""]);const s=r},(e,t,n)=>{"use strict";n.d(t,{$:()=>i,j:()=>r});var o=n(2),a=n.n(o);const i={FILENAME:"filename",HASH:"hash"};class r{static instance=null;cache=new Map;activeSessions=new Set;constructor(){}static getInstance(){return r.instance||(r.instance=new r),r.instance}initializeSession(e){this.activeSessions.add(e),a().debug(`[SessionMappingCache] Initialized session: ${e}`)}clearSession(e){const t=[];for(const n of this.cache.keys())n.startsWith(`${e}-`)&&t.push(n);for(const e of t)this.cache.delete(e);this.activeSessions.delete(e),a().debug(`[SessionMappingCache] Cleared session: ${e} (removed ${t.length} cache entries)`)}isSessionActive(e){return this.activeSessions.has(e)}async getMappingsWithLoading(e,t,n,o){if(!e||!t||!n)throw new Error("SessionMappingCache: sessionId, domain, and mappingType are required");const i=this.getKey(e,t,n);let r=this.cache.get(i);if(r||(r={mappings:null,loading:null},this.cache.set(i,r)),r.mappings)return a().debug(`[SessionMappingCache] Using cached ${n} mappings for ${i}`),r.mappings;if(r.loading)return a().debug(`[SessionMappingCache] Waiting for in-progress ${n} download for ${i}`),await r.loading;a().debug(`[SessionMappingCache] Starting ${n} download for ${i}`),r.loading=o();try{return r.mappings=await r.loading,a().debug(`[SessionMappingCache] Successfully cached ${r.mappings.size} ${n} mappings for ${i}`),r.mappings}catch(e){throw a().error(`[SessionMappingCache] Failed to download ${n} mappings for ${i}:`,e),this.cache.delete(i),e}finally{r.loading=null}}hasMappings(e,t,n){const o=this.getKey(e,t,n),a=this.cache.get(o);return null!=a?.mappings}getActiveSessions(){return Array.from(this.activeSessions)}clearAllSessions(){this.cache.clear(),this.activeSessions.clear(),a().debug("[SessionMappingCache] Cleared all sessions and mappings")}getCacheStats(){let e=0;for(const t of this.cache.values())t.mappings&&(e+=t.mappings.size);return{activeSessions:this.activeSessions.size,cachedDomains:this.cache.size,totalMappings:e}}getKey(e,t,n){return`${e}-${t}-${n}`}}},(e,t,n)=>{"use strict";n.d(t,{Sudugu:()=>d});var o=n(19),a=n(33),i=n(21),r=n(34),s=n(2),c=n.n(s),l=n(37),u=n(36),p=n(38);class d extends p.Q{constructor(){super(),this.attachmentMode="TM",this.maxRunLimit=1,this.concurrencyLimit=1,this.sleepTime=500,this.maxSleepTime=1e3,this.charset="utf-8"}async bookParse(){const e=location.href,t=document.querySelector("div.itemtxt > h1 > a").innerText,n=document.querySelector("div.itemtxt > p > a").innerText.replace(/作者：/,"").trim(),a=document.querySelector("div.des"),[s,p]=await(0,r.HV)(a),d={tags:Array.from(document.querySelectorAll("div.itemtxt > p > span")).map(e=>e.innerText.trim())},m=document.querySelector("div.item img")?.getAttribute("src");m&&(0,o.if)(m,this.attachmentMode,"cover-").then(e=>{d.cover=e}).catch(e=>c().error(e));const h=[];let g=0,f=!0,x=e;for(;f;){const n=await(0,i.pG)(x,this.charset);Array.from(n.querySelectorAll("div#list > ul > li > a")).forEach(n=>{g++;const o=n.getAttribute("href"),a=n.innerText.trim(),i=new u.I({bookUrl:e,bookname:t,chapterUrl:o,chapterNumber:g,chapterName:a,isVIP:!1,isPaid:!1,sectionName:null,sectionNumber:null,sectionChapterNumber:null,chapterParse:this.chapterParse.bind(this),charset:this.charset,options:{}});h.push(i)});const o=n.querySelectorAll("div#pages > a"),a=o.length>0?o[o.length-1]:null;if(!a){f=!1;break}{const e=a;if("下一页"!==e.innerText.trim()){f=!1;break}x=e.getAttribute("href")}}return new l.E({bookUrl:e,bookname:t,author:n,introduction:s,introductionHTML:p,additionalMetadate:d,chapters:h})}async chapterParse(e,t,n,o,r,s){let c=e;const l=document.createElement("div");let u=!0;for(;u;){const e=await(0,i.pG)(c,r);l.innerHTML+=e.querySelector("div.con").innerHTML;const t=e.querySelectorAll("div.prenext > span > a"),n=t.length>0?t[t.length-1]:null;if(!n){u=!1;break}{const e=n;if("下一页"!==e.innerText.trim()){u=!1;break}c=e.getAttribute("href")}}const{dom:p,text:d,images:m}=await(0,a.an)(l,"TM");return{chapterName:t,contentRaw:l,contentText:d,contentHTML:p,contentImages:m,additionalMetadate:null}}}},(e,t,n)=>{"use strict";n.d(t,{Xkzw:()=>m});var o=n(22),a=n(19),i=n(33),r=n(21),s=n(34),c=n(2),l=n.n(c),u=n(36),p=n(37),d=n(38);class m extends d.Q{constructor(){super(),this.attachmentMode="TM"}async bookParse(){const e=document.location.href,t=document.querySelector("#info > h1:nth-child(1)").innerText.trim(),n=document.querySelector("#info > p:nth-child(2)").innerText.replace(/作(\s+)?者[：:]/,"").trim(),o=document.querySelector("#intro"),[i,r]=await(0,s.HV)(o),c={},d=document.querySelector("#fmimg > img").src;d&&(0,a.if)(d,this.attachmentMode,"cover-").then(e=>{c.cover=e}).catch(e=>l().error(e));const m=[],h=unsafeWindow.bookId,g=[document.location.origin,"action.php"].join("/");l().debug(`[chapter]正在请求${g}`);const f=await fetch(g,{headers:{accept:"application/json, text/javascript, */*","content-type":"application/x-www-form-urlencoded","x-requested-with":"XMLHttpRequest"},body:`action=clist&bookid=${h}`,method:"POST",mode:"cors",credentials:"include"}).then(e=>e.json()).catch(e=>l().error(e)),x=document.querySelector("#wrapper > div.box_con:nth-child(7) > div:nth-child(1) > dl:nth-child(1)"),b=document.querySelector("#wrapper > div.box_con:nth-child(11) > div:nth-child(1) > dl:nth-child(1)"),v=e=>{let n="";const o=[];let a=[];if(e?.childElementCount){const i=Array.from(e.children);for(let r=0;r<e.childElementCount;r++){const e=i[r];if(0!==r){if("DD"===e.nodeName){const t=e.firstElementChild,n=t.innerText,o=t.href.split("/").slice(-1)[0].replace(".html","");a.push({chapterid:parseInt(o)-11*h,chaptername:n,isempty:0,originalurl:"",currenturl:""})}else if("DT"===e.nodeName){const i={columnname:n,columnid:0,chapterlist:a};o.push(i),n=e.innerText.replace(`《${t}》`,"").trim(),a=[]}}else n=e.innerText.replace(`《${t}》`,"").trim()}}return[o,a]},[w,y]=v(x),k=y.length;for(let e=0;e<k;e++){const e=y.pop();e&&f.columnlist[0].chapterlist.unshift(e)}if(0!==w.length){const e=w.length;for(let t=0;t<e;t++){const e=w.pop();e&&f.columnlist.unshift(e)}}const[S,T]=v(b),A=T.length,C=f.columnlist.length;for(let e=0;e<A;e++){const e=T.shift();e&&f.columnlist[C-1].chapterlist.push(e)}if(0!==S.length){const e=S.length;for(let t=0;t<e;t++){const e=S.shift();e&&f.columnlist.push(e)}}let M=0,N=0,E=null,P=0;for(const n of f.columnlist){N++,E=n.columnname;for(const o of n.chapterlist){M++,P++;const n=o.chaptername,a=e+(o.chapterid+11*h)+".html",i=!1,r=!1,s=new u.I({bookUrl:e,bookname:t,chapterUrl:a,chapterNumber:M,chapterName:n,isVIP:i,isPaid:r,sectionName:E,sectionNumber:N,sectionChapterNumber:P,chapterParse:this.chapterParse,charset:this.charset,options:{}});m.push(s)}}return new p.E({bookUrl:e,bookname:t,author:n,introduction:i,introductionHTML:r,additionalMetadate:c,chapters:m})}async chapterParse(e,t,n,a,s,c){const l=await(0,r.wA)(e,s);!function(e){!function(t){const n=t.getElementById("other"),o=t.getElementById("contenttips");if(n){let t=n.innerHTML.trim();const a=parseInt(t.substring(0,1),10);let i,r;1===a?(i=t.substring(1,9),r=t.substring(9,17),t=t.substring(17),n.innerHTML=function(t,n,o){const a=e.enc.Utf8.parse(n),i=e.enc.Utf8.parse(o),r=e.enc.Hex.parse(t),s=e.enc.Base64.stringify(r);return e.DES.decrypt(s,a,{iv:i,mode:e.mode.CBC,padding:e.pad.Pkcs7}).toString(e.enc.Utf8).toString()}(t,i,r),n.style.display="block",o&&o.remove()):2===a?(i=t.substring(1,33),r=t.substring(33,49),t=t.substring(49),n.innerHTML=function(t,n,o){const a=e.enc.Utf8.parse(n),i=e.enc.Utf8.parse(o),r=e.enc.Hex.parse(t),s=e.enc.Base64.stringify(r);return e.AES.decrypt(s,a,{iv:i,mode:e.mode.CBC,padding:e.pad.Pkcs7}).toString(e.enc.Utf8).toString()}(t,i,r),n.style.display="block",o&&o.remove()):3===a?(i=t.substring(1,9),r=t.substring(9,17),t=t.substring(17),n.innerHTML=function(t,n,o){const a=e.enc.Utf8.parse(n),i=e.enc.Utf8.parse(o),r=e.enc.Hex.parse(t),s=e.enc.Base64.stringify(r);return e.RC4.decrypt(s,a,{iv:i,mode:e.mode.CBC,padding:e.pad.Pkcs7}).toString(e.enc.Utf8).toString()}(t,i,r),n.style.display="block",o&&o.remove()):(i=t.substring(1,25),r=t.substring(25,33),t=t.substring(33),n.innerHTML=function(t,n,o){const a=e.enc.Utf8.parse(n),i=e.enc.Utf8.parse(o),r=e.enc.Hex.parse(t),s=e.enc.Base64.stringify(r);return e.TripleDES.decrypt(s,a,{iv:i,mode:e.mode.CBC,padding:e.pad.Pkcs7}).toString(e.enc.Utf8).toString()}(t,i,r),n.style.display="block",o&&o.remove())}}(l)}(o),t=l.querySelector(".bookname > h1:nth-child(1)").innerText.trim();const u=l.querySelector("#content");if(u){const{dom:e,text:n,images:o}=await(0,i.an)(u,"TM");return{chapterName:t,contentRaw:u,contentText:n,contentHTML:e,contentImages:o,additionalMetadate:null}}return{chapterName:t,contentRaw:null,contentText:null,contentHTML:null,contentImages:null,additionalMetadate:null}}}},(e,t,n)=>{"use strict";n.d(t,{Sfacg:()=>f});var o=n(19),a=n(33),i=n(21),r=n(9),s=n(34),c=n(2),l=n.n(c),u=n(5),p=n(20),d=n(36),m=n(37),h=n(38),g=n(3);class f extends h.Q{constructor(){super(),this.attachmentMode="TM",this.concurrencyLimit=1}async bookParse(){const e=document.location.href.replace("/MainIndex/",""),t=document.querySelector("h1.story-title").innerText.trim(),n=await(0,i.wA)(e,void 0),a=n.querySelector(".author-name").innerText.trim(),c=n.querySelector(".introduce"),[h,g]=await(0,s.HV)(c),f={},x=n.querySelector("#hasTicket div.pic img").src;if(x&&(0,o.if)(x,this.attachmentMode,"cover-").then(e=>{f.cover=e}).catch(e=>l().error(e)),f.tags=Array.from(n.querySelectorAll("ul.tag-list > li.tag > a")).map(e=>((0,r.rm)("span.icn",!1,e),e.innerText.trim().replace(/\(\d+\)$/,""))),n.querySelector(".d-banner")){const e=n.querySelector(".d-banner")?.style.backgroundImage.split('"');if(3===e?.length){const t=e[1],n=new p.q(t,`beitou.${t.split(".").slice(-1)[0]}`,"TM");n.init(),f.attachments=[n]}}const b=[],v=document.querySelectorAll(".story-catalog"),w=document.querySelectorAll(".catalog-list a"),y=e=>e.querySelector(".catalog-title").innerText.replace(`【${t}】`,"").trim();let k=0,S=0,T=0,A="";for(const n of Array.from(w)){const o=n.getAttribute("title")?.trim()??"",a=n.href,i=(0,s.lq)(n,v,y);i&&A!==i&&(A=i,S++,T=0),k++,T++;const r=()=>0!==n.childElementCount&&"icn_vip"===n.firstElementChild?.getAttribute("class"),c=null,l=new d.I({bookUrl:e,bookname:t,chapterUrl:a,chapterNumber:k,chapterName:o,isVIP:r(),isPaid:c,sectionName:i,sectionNumber:S,sectionChapterNumber:T,chapterParse:this.chapterParse,charset:this.charset,options:{}}),p=!document.querySelector(".user-bar > .top-link > .normal-link")?.innerHTML.includes("您好，SF游客");l.isVIP&&!p&&(l.status=u.nW.aborted),b.push(l)}const C=new m.E({bookUrl:e,bookname:t,author:a,introduction:h,introductionHTML:g,additionalMetadate:f,chapters:b});return C.ToCUrl=document.location.href,C}async chapterParse(e,t,n,r,s,c){const d=e.split("/").slice(-2,-1)[0];async function m(){const n=await(0,i.wA)(e,s);t=n.querySelector("h1.article-title").innerText.trim();const o=n.querySelector(".article-content");if(o){const{dom:e,text:n,images:i}=await(0,a.an)(o,"TM");return{chapterName:t,contentRaw:o,contentText:n,contentHTML:e,contentImages:i,additionalMetadate:null}}return{chapterName:t,contentRaw:null,contentText:null,contentHTML:null,contentImages:null,additionalMetadate:null}}return n?async function(){if(3===document.querySelector(".user-bar > .top-link > .normal-link")?.childElementCount){const t=await(0,i.wA)(e,s),n=t.querySelector("h1.article-title").innerText.trim();if(null===t.querySelector(".pay-section")){const a=t.querySelector(".article-content > #vipImage");if(a){const t=a.src,i=`vipCHapter${d}.gif`,r=await async function(t,n){let o=0;const a=await function t(n){return l().debug(`[Chapter]请求 ${n} Referer ${e} 重试次数 ${o}`),fetch(n,{headers:{accept:"image/avif,image/webp,image/apng,image/svg+xml,image/*,*/*;q=0.8"},referrer:e,body:null,method:"GET",mode:"cors",credentials:"include"}).then(e=>e.blob()).then(a=>53658===a.size||42356===a.size?(l().error(`[Chapter]请求 ${n} 失败 Referer ${e}`),o<g.Iz?(o++,t(n)):null):a).catch(e=>l().error(e))}(t),i=new p.q(t,n,"naive");return a?(i.Blob=a,i.status=u.nW.finished):i.status=u.nW.failed,i}(t,i);(0,o.Ld)(r);const s=[r],c=document.createElement("img");c.setAttribute("data-src-address",i),c.alt=t;const m=document.createElement("div");return m.appendChild(c),{chapterName:n,contentRaw:m,contentText:`VIP章节，请打开HTML文件查看。\n![${t}](${i})`,contentHTML:m,contentImages:s,additionalMetadate:null}}return m()}}return{chapterName:t,contentRaw:null,contentText:null,contentHTML:null,contentImages:null,additionalMetadate:null}}():m()}}},(e,t,n)=>{"use strict";n.d(t,{Langge:()=>m});var o=n(19),a=n(33),i=n(34),r=n(2),s=n.n(r),c=n(36),l=n(37),u=n(38),p=n(9),d=n(1);class m extends u.Q{constructor(){super(),this.attachmentMode="TM",this.streamZip=!0,this.concurrencyLimit=1,this.maxRunLimit=1}async bookParse(){const e=document.location.href,t=e.replace("online_detail","online_reader")+"&item_id=",n=document.querySelector("div.book-info > h1").innerText.trim(),a=document.querySelector("div.book-info > p");(0,p.rm)("strong",!0,a);const r=a.innerText.trim(),u=document.querySelector("div.book-info"),d=document.querySelector("img.book-cover").src,[m,h]=await(0,i.HV)(u),g={};d&&(0,o.if)(d,this.attachmentMode,"cover-").then(e=>{g.cover=e}).catch(e=>s().error(e));const f=/goToChapter\('(\d+)'/,x=[],b=Array.from(document.querySelectorAll("#chapterList > div.chapter-item"));let v=0;for(const o of b){v++;const a=o.getAttribute("onclick")?.toString()??"",i=a.match(f);let r="-1";if(!i)throw Error(`Match ${a} ID失败，结果为${i}`);r=i[1];const s=o.querySelector("span")?.innerText??v.toString(),l=new c.I({bookUrl:e,bookname:n,chapterUrl:t+r,chapterNumber:v,chapterName:s,isVIP:!1,isPaid:!1,sectionName:null,sectionNumber:null,sectionChapterNumber:null,chapterParse:this.chapterParse.bind(this),charset:this.charset,options:{}});x.push(l)}return new l.E({bookUrl:e,bookname:n,author:r,introduction:m,introductionHTML:h,additionalMetadate:g,chapters:x})}async chapterParse(e,t,n,o,i,r){let c=e.replace("/online_reader?","/content?");const l=function(){const e=`; ${document.cookie}`.split("; secretKey2=");return 2===e.length&&e.pop()?.split(";").shift()||null}();c+="&key="+l,s().debug(`[Chapter]请求 ${c}，Refer：${e}`);const u=await new Promise(e=>{(0,d.nV)({url:c,headers:{"cache-control":"no-cache","accept-encoding":"gzip, deflate, br, zstd"},method:"GET",onload:function(t){if(200===t.status){const n=JSON.parse(t.responseText);e(n)}else{s().error(`response status = ${t.status}`);const n=JSON.parse('{"code": 500');e(n)}}})});if(500===u.code)throw new Error("chapter get error");const p=u.content;if(p){const e=document.createElement("div");e.innerText=p;const{dom:n,text:o,images:i}=await(0,a.an)(e,"TM");return{chapterName:t,contentRaw:e,contentText:o,contentHTML:n,contentImages:i,additionalMetadate:null}}return{chapterName:t,contentRaw:null,contentText:null,contentHTML:null,contentImages:null,additionalMetadate:null}}}},(e,t,n)=>{"use strict";n.d(t,{Lcread:()=>h});var o=n(2),a=n.n(o),i=n(19),r=n(37),s=n(38),c=n(36),l=n(21),u=n(5),p=n(33),d=n(9),m=n(34);class h extends s.Q{constructor(){super(),this.attachmentMode="TM",this.concurrencyLimit=1}async bookParse(){const e=document.location.href,t=document.querySelector("#l1_a .bri h1")?.innerText,n=document.querySelector("#l1_a .bri tr td a")?.innerText,o=document.querySelector("#l1_a .bri #bri2")?.innerText,s=document.createElement("div");s.innerText=o;const l={},p=document.querySelector("#l1_a .brc img")?.src;(0,i.if)(p,this.attachmentMode,"cover-").then(e=>{l.cover=e}).catch(e=>a().error(e)),l.tags=document.querySelector("#l1_a .bri #bri3")?.innerText?.split("，").map(e=>e.trim());const d=[],h=document.querySelectorAll("#cul td");let g=0,f=0,x=0,b=null;function v(e){return e.innerText.trim()}const w=document.querySelectorAll("#cul h3");for(const n of Array.from(h)){const o=n.querySelector("a")?.href;if(!o)continue;g++;const a=(0,m.lq)(n,w,v);b!==a&&a&&(b=a,f++,x=0),a&&x++;const i=n.querySelector("span font")?.innerText,r=n.querySelectorAll("span font").length>1,s=null,l=new c.I({bookUrl:e,bookname:t,chapterUrl:o,chapterNumber:g,chapterName:i,isVIP:r,isPaid:s,sectionName:a,sectionNumber:f,sectionChapterNumber:x,chapterParse:this.chapterParse,charset:this.charset,options:{}}),p=!document.querySelector("div#brl div#tip")?.innerHTML.includes("登录后发帖不用输入验证码，并获得评论积分，升级职业得到更多作品推荐票!");l.isVIP&&!p&&(l.status=u.nW.aborted),d.push(l)}return new r.E({bookUrl:e,bookname:t,author:n,introduction:o,introductionHTML:s,additionalMetadate:l,chapters:d})}async chapterParse(e,t,n,o,i,r){a().debug(`[Chapter]请求 ${e}`);const s=await(0,l.wA)(e,i),c=document.createElement("div"),u=s.querySelector("#ccon");(0,d.Sf)(["    "],u),c.innerHTML=u.innerHTML;const{dom:m,text:h,images:g}=await(0,p.an)(c,"TM");return{chapterName:t,contentRaw:c,contentText:h,contentHTML:m,contentImages:g,additionalMetadate:null}}}},(e,t,n)=>{"use strict";n.d(t,{Lightnovel:()=>l});var o=n(33),a=n(21),i=n(34),r=n(36),s=n(37),c=n(38);class l extends c.Q{constructor(){super(),this.attachmentMode="TM",this.maxRunLimit=1,this.concurrencyLimit=1,this.sleepTime=700,this.maxSleepTime=3e3}async bookParse(){const e=document.location.href;let t="",n="",o=document.createElement("div");const a=[],c=!1,l=!1;if(e.includes("series")){t=document.querySelector("div.top-title h3")?.innerText??"",o=document.querySelector("pre.intro");const n=unsafeWindow?.__NUXT__?.data[0]?.pages;let i=0;for(const o of n)for(const n of o){i++;const o=n.title,s=`https://www.lightnovel.fun/cn/detail/${n.aid}`,u=new r.I({bookUrl:e,bookname:t,chapterUrl:s,chapterNumber:i,chapterName:o,isVIP:c,isPaid:l,sectionName:null,sectionNumber:null,sectionChapterNumber:null,chapterParse:this.chapterParse,charset:this.charset,options:{}});a.push(u)}}else{t=document.querySelector("h2.article-title")?.textContent?.trim()??"",n=document.querySelector("div.author-name > span")?.textContent?.trim()??"";const o=new r.I({bookUrl:e,bookname:t,chapterUrl:e,chapterNumber:1,chapterName:"内容",isVIP:c,isPaid:l,sectionName:null,sectionNumber:null,sectionChapterNumber:null,chapterParse:this.chapterParse,charset:this.charset,options:{}});a.push(o)}const[u,p]=await(0,i.HV)(o);return new s.E({bookUrl:e,bookname:t,author:n,introduction:u,introductionHTML:p,additionalMetadate:{},chapters:a})}async chapterParse(e,t,n,i,r){const s=(await(0,a.pG)(e,r,{headers:{"Accept-Language":"zh-CN"}})).querySelector("article#article-main-contents"),{dom:c,text:l,images:u}=await(0,o.an)(s,"TM");return{chapterName:t,contentRaw:s,contentText:l,contentHTML:c,contentImages:u,additionalMetadate:null}}}},(e,t,n)=>{"use strict";n.d(t,{XRUnionread:()=>d});var o=n(19),a=n(34),i=n(2),r=n.n(i),s=n(36),c=n(37),l=n(38),u=n(5),p=n(1);class d extends l.Q{constructor(){super(),this.attachmentMode="TM",this.streamZip=!0,this.concurrencyLimit=1,this.maxRunLimit=1,this.maxSleepTime=2e3,this.sleepTime=500}async bookParse(){const e=document.location.href,t=e.match(/(\d+)/)?.[1]??-1;if(-1===t)throw new Error("书籍ID获取失败");const n=document.querySelector("div.novel_name span").innerText.trim(),i=document.querySelector("div.novel_author span").innerText.replace("作者：","").trim(),l=document.querySelector("div.novel_info div.novel_text"),[d,m]=await(0,a.HV)(l),h={},g=document.querySelector("img.bookcover").src;g&&(0,o.if)(g,this.attachmentMode,"cover-").then(e=>{h.cover=e}).catch(e=>r().error(e)),h.tags=Array.from(document.querySelectorAll("div.zuopin span.novel_type"))?.map(e=>e.innerText)??[],h.tags.push(document.querySelector("div.novel_type_name")?.innerText??"");const f=`https://hk-api.xrzww.com/api/directoryList?nid=${t}&orderBy=0`,x=await new Promise(e=>{(0,p.nV)({url:f,method:"GET",headers:{"Cache-Control":"max-age=0",mode:"cors"},onload:function(t){let n=JSON.parse('{"message":"nd error"}');200===t.status?n=JSON.parse(String(t.responseText)):(r().error(`response status = ${t.status}`),n=JSON.parse('{"message":"nd error"}')),e(n)}})});if("nd error"===x.message)throw new Error("章节列表获取失败");if(200!==x.code)throw new Error(`章节列表请求失败, code = ${x.code}, msg = ${x.message}`);const b=document.querySelector("div.main")?.innerHTML.includes("登录"),v=x.data.volume.reduce((e,t)=>(e[t.volume_id]={name:t.volume_name,order:t.volume_order,desc:t.volume_desc},e),{}),w=[];let y=0,k=null,S=0,T=0;for(const t of x.data.data){y++;const o=t.chapter_name,a=y,i=1===t.chapter_ispay,r=1===t.is_subscribe,c=v[t.chapter_vid].name;k!==c&&(k=c,S++,T=0);const l=S;T++;const p=T,d=`https://hk-api.xrzww.com/api/readNovelByWeb?nid=${t.chapter_nid}&vid=${t.chapter_vid}&chapter_id=${t.chapter_id}&chapter_order=${t.chapter_order}&showpic=false`,m=new s.I({bookUrl:e,bookname:n,chapterUrl:d,chapterNumber:a,chapterName:o,isVIP:i,isPaid:r,sectionName:c,sectionNumber:l,sectionChapterNumber:p,chapterParse:this.chapterParse,charset:this.charset,options:{}});b?m.isVIP&&!1===m.isPaid&&(m.status=u.nW.aborted):m.isVIP&&(m.status=u.nW.aborted),w.push(m)}return new c.E({bookUrl:e,bookname:n,author:i,introduction:d,introductionHTML:m,additionalMetadate:h,chapters:w})}async chapterParse(e,t,n,o,a,i){r().debug(`[Chapter]请求 ${e}`);const s=await new Promise(t=>{(0,p.nV)({url:e,method:"GET",headers:{"Cache-Control":"max-age=0",mode:"cors"},onload:function(e){let n=JSON.parse('{"message":"nd error"}');200===e.status?n=JSON.parse(String(e.responseText)):(r().error(`response status = ${e.status}`),n=JSON.parse('{"message":"nd error"}')),t(n)}})});if("nd error"===s.message)throw new Error("章节列表获取失败");if(200!==s.code)throw new Error(`章节列表请求失败, code = ${s.code}, msg = ${s.message}`);if(s.data.content){const e=s.data.content,n=document.createElement("pre");n.innerHTML=e;let o=e.split("\n").map(e=>e.trim()).join("\n\n");const a=document.createElement("div");a.innerHTML=e.split("\n").map(e=>e.trim()).map(e=>0===e.length?"<p><br/></p>":`<p>${e}</p>`).join("\n");const i=document.createElement("div");return i.className="main",i.appendChild(a),n.innerHTML=[n.innerHTML].join("\n\n"),o=[o].join("\n\n"),{chapterName:t,contentRaw:n,contentText:o,contentHTML:i,contentImages:null,additionalMetadate:null}}return{chapterName:t,contentRaw:null,contentText:null,contentHTML:null,contentImages:null,additionalMetadate:null}}}},(e,t,n)=>{"use strict";n.d(t,{Hetushu:()=>m});var o=n(19),a=n(33),i=n(21),r=n(9),s=n(34),c=n(2),l=n.n(c),u=n(36),p=n(37),d=n(38);class m extends d.Q{constructor(){super(),this.attachmentMode="TM"}async bookParse(){const e=document.location.href,t=document.querySelector(".book_info > h2").innerText.trim(),n=document.querySelector(".book_info > div:nth-child(3) > a:nth-child(1)").innerText.trim(),a=document.querySelector(".intro"),[i,r]=await(0,s.HV)(a),c={},d=document.querySelector(".book_info > img").src;d&&(0,o.if)(d,this.attachmentMode,"cover-").then(e=>{c.cover=e}).catch(e=>l().error(e));const m=[],h=document.querySelector("#dir")?.childNodes;if(h&&0!==h.length){let n=0,o=0,a=null,i=0;for(const r of h){let s=null;if("DT"===r.nodeName?(o++,i=0,a=r.innerText.trim(),s=r.querySelector("a")):"DD"===r.nodeName&&(s=r.firstElementChild),s){n++,i++;const r=s.innerText,c=s.href,l=!1,p=!1,d=new u.I({bookUrl:e,bookname:t,chapterUrl:c,chapterNumber:n,chapterName:r,isVIP:l,isPaid:p,sectionName:a,sectionNumber:o,sectionChapterNumber:i,chapterParse:this.chapterParse,charset:this.charset,options:{}});m.push(d)}}}return new p.E({bookUrl:e,bookname:t,author:n,introduction:i,introductionHTML:r,additionalMetadate:c,chapters:m})}async chapterParse(e,t,n,o,s,c){const u=await(0,i.wA)(e,s);t=u.querySelector("#content .h2").innerText.trim(),await async function(){let t,n,o;if(!/\/(book[0-9]?)\/([0-9]+)\/([0-9]+)\.html(\?position=([0-9]+))?$/.test(e))return!1;t=RegExp.$1,n=RegExp.$2,o=RegExp.$3;const a=[document.location.origin,t,n,"r"+o+".json"].join("/");l().debug(`[Chapter]请求 ${a} Referer ${e}`);const i=await fetch(a,{headers:{accept:"*/*","cache-control":"no-cache","content-type":"application/x-www-form-urlencoded",pragma:"no-cache","x-requested-with":"XMLHttpRequest"},referrer:e,method:"GET",mode:"cors",credentials:"include"}).then(e=>e.headers.get("token")).catch(e=>l().error(e));if(i){const e=atob(i).split(/[A-Z]+%/).map(e=>parseInt(e)),t=u.querySelector("#content");(0,r.rm)(".mask.mask2",!1,t);let n=0,o=0;for(let e=0;e<t.childNodes.length&&("H2"===t.childNodes[e].nodeName&&(o=e+1),"DIV"!==t.childNodes[e].nodeName||"chapter"===t.childNodes[e].className);e++);const a=[];for(let i=0;i<e.length;i++)e[i]<5?(a[e[i]]=t.childNodes[i+o],n++):a[e[i]-n]=t.childNodes[i+o];for(const e of a)e&&t.appendChild(e)}}();const p=u.querySelector("#content");if(p){"h2, acronym, bdo, big, cite, code, dfn, kbd, q, s, samp, strike, tt, u, var".split(", ").forEach(e=>{(0,r.rm)(e,!0,p)}),Array.from(p.querySelectorAll("div")).map(e=>{const t=document.createElement("p");t.innerHTML=e.innerHTML,e.parentNode?.replaceChild(t,e)});const{dom:e,text:n,images:o}=await(0,a.an)(p,"TM");return{chapterName:t,contentRaw:p,contentText:n,contentHTML:e,contentImages:o,additionalMetadate:null}}return{chapterName:t,contentRaw:null,contentText:null,contentHTML:null,contentImages:null,additionalMetadate:null}}}},(e,t,n)=>{"use strict";n.d(t,{Qidian:()=>g});var o=n(19),a=n(33),i=n(21),r=n(4),s=n(9),c=n(34),l=n(2),u=n.n(l),p=n(5),d=n(36),m=n(37),h=n(38);class g extends h.Q{constructor(){super(),this.attachmentMode="TM",this.concurrencyLimit=1}async bookParse(){return document.location.href.match("www.qidian.com/book/")?this.bookParse_www():this.bookParse_book()}async bookParse_www(){const e=document.cookie.match(/(?:^|; )_csrfToken=([^;]*)/),t=e?decodeURIComponent(e[1]):null;if(!t)throw new Error("未发现 _csrfToken");const n=document.location.href,a=n.match(/www\.qidian\.com\/book\/(\d+)/),i=a?a[1]:null,r=document.querySelector(".author")?.innerText,s=document.getElementById("authorId")?.getAttribute("data-authorid"),l=document.querySelector("#bookName")?.innerText,h=document.querySelector("#book-intro-detail"),[g,f]=await(0,c.HV)(h),x={},b=document.querySelector("#bookImg > img").src.slice(0,-5);b&&(0,o.if)(b,this.attachmentMode,"cover-").then(e=>{x.cover=e}).catch(e=>u().error(e)),x.tags=Array.from(document.querySelectorAll("#all-label > a")).map(e=>e.innerText.trim());const v=Boolean(document.querySelector("#bookImg > div.limit-flag"));u().info(`[Book]限免书籍 ${v}`);const w=document.querySelectorAll(".catalog-volume");let y=0;const k=[];for(let e=0;e<w.length;e++){const o=w[e],a=e+1,r=o.querySelector(".volume-name").innerText.trim().split("\n").slice(-1)[0].split("·")[0].trim(),c=o.querySelector(".volume-header")?.innerText?.includes("VIP")??!1;let u=0;const m=o.querySelectorAll("ul.volume-chapters > li");for(const e of Array.from(m)){const o=e.querySelector("a");y++,u++;const m=o.innerText.trim(),h=o.href,g=()=>!!c&&null==e.querySelector(".chapter-locked");let f;f=c?/(\d+)\/?$/.exec(h)?.slice(-1)[0]??null:null;const x=new d.I({bookUrl:n,bookname:l,chapterUrl:h,chapterNumber:y,chapterName:m,isVIP:c,isPaid:g(),sectionName:r,sectionNumber:a,sectionChapterNumber:u,chapterParse:this.chapterParse,charset:this.charset,options:{_csrfToken:t,bookId:i,authorId:s,chapterId:f,limitFree:v}});c&&(x.status=p.nW.aborted,v&&(x.status=p.nW.pending),x.isPaid&&(x.status=p.nW.pending)),k.push(x)}}return new m.E({bookUrl:n,bookname:l,author:r,introduction:g,introductionHTML:f,additionalMetadate:x,chapters:k})}async bookParse_book(){let e=document.getElementById("bookImg");if(!e)throw new Error("未发现 bookId");e=e.getAttribute("data-bid");const t=document.getElementById("authorId")?.getAttribute("data-authorid"),n=document.cookie.match(/(?:^|; )_csrfToken=([^;]*)/),a=n?decodeURIComponent(n[1]):null;if(!a)throw new Error("未发现 _csrfToken");const i=document.location.href,s=document.querySelector(".book-info > h1 > em").innerText.trim(),l=document.querySelector(".book-info .writer, .book-info > h1:nth-child(1) > span:nth-child(2)").innerText.replace(/作\s+者:/,"").replace(/\s+著$/,"").trim(),h=document.querySelector(".book-info-detail .book-intro"),[g,f]=await(0,c.HV)(h),x={},b=document.querySelector("#bookImg > img").src.slice(0,-5);b&&(0,o.if)(b,this.attachmentMode,"cover-").then(e=>{x.cover=e}).catch(e=>u().error(e)),x.tags=Array.from(document.querySelectorAll(".book-info > .tag > a, .tag-wrap > .tags")).map(e=>e.innerText.trim());const v=Boolean(document.querySelector(".book-information .flag"));u().info(`[Book]限免书籍 ${v}`);const w=[],y=document.querySelectorAll("#j-catalogWrap li").length;y&&(()=>{const e=document.querySelector("#J-catalogCount").innerText.match(/\d+/);if(e)return parseInt(e[0])})()===y||await(0,r.yy)(3e3);const k=document.querySelectorAll("#j-catalogWrap > .volume-wrap > .volume");let S=0;for(let n=0;n<k.length;n++){const o=k[n],r=n+1,c=o.querySelector("h3").innerText.trim().split("\n").slice(-1)[0].split("·")[0].trim();let l=0;const u=o.querySelector("h3")?.innerText?.includes("VIP")??!1,m=o.querySelectorAll("ul.cf > li");for(const n of Array.from(m)){const o=n.querySelector("a");S++,l++;const m=o.innerText.trim(),h=o.href,g=()=>!!u&&null==n.querySelector("em.iconfont");let f;f=u?/(\d+)\/?$/.exec(h)?.slice(-1)[0]??null:null;const x=new d.I({bookUrl:i,bookname:s,chapterUrl:h,chapterNumber:S,chapterName:m,isVIP:u,isPaid:g(),sectionName:c,sectionNumber:r,sectionChapterNumber:l,chapterParse:this.chapterParse,charset:this.charset,options:{_csrfToken:a,bookId:e,authorId:t,chapterId:f,limitFree:v}});u&&(x.status=p.nW.aborted,v&&(x.status=p.nW.pending),x.isPaid&&(x.status=p.nW.pending)),w.push(x)}}return new m.E({bookUrl:i,bookname:s,author:l,introduction:g,introductionHTML:f,additionalMetadate:x,chapters:w})}async chapterParse(e,t,n,o,r,c){const l={chapterName:t,contentRaw:null,contentText:null,contentHTML:null,contentImages:null,additionalMetadate:null};return async function(){let o;if(n?(o=await(0,i.pG)(e,r),(!o.querySelector(".content-text")||(o.querySelector(".content-text")?.childElementCount??0)<10)&&(o=await(0,i.eF)(e,e=>{const t=e.contentWindow?.document??null;return!!t&&0!==t.querySelectorAll(".content-text").length}),o&&(o=(new DOMParser).parseFromString(o.documentElement.outerHTML,"text/html")))):o=await(0,i.pG)(e,r),o){if(t=o.querySelector("h1.title").innerText.trim(),o.querySelector(".vip-limit-wrap"))return l;const e=document.createElement("div");let n="";const i=o.querySelector("main");(0,s.rm)("span.review-count",!0,i);const r=o.querySelector("#r-authorSay");if(i){const{dom:o,text:c,images:l}=await(0,a.an)(i,"TM");if((0,a.is)(o),e.appendChild(o),(0,s.Sf)([/^谷[\u4e00-\u9fa5]{0,1}$/gm],e),n+=c,r){const t=r.querySelector("div");if(t){(0,s.rm)("a.avatar",!1,t),(0,s.rm)("h4",!1,t);const{dom:o,text:i,images:c}=await(0,a.an)(r,"TM");(0,a.is)(o),o.className="authorSay";const u=document.createElement("hr");e.appendChild(u),e.appendChild(t),n=n+"\n\n"+"-".repeat(10)+"\n\n"+i,l.push(...c)}}return{chapterName:t,contentRaw:e,contentText:n,contentHTML:e,contentImages:l,additionalMetadate:null}}}return l}()}}},(e,t,n)=>{"use strict";n.d(t,{Jjwxc:()=>Kc});var o={};n.r(o),n.d(o,{safe:()=>_t,spec:()=>Lt});var a={};n.r(a),n.d(a,{angle:()=>Pn,decibel:()=>jn,flex:()=>In,frequency:()=>Ln,length:()=>En,resolution:()=>_n,semitones:()=>Un,time:()=>qn});var i={};n.r(i),n.d(i,{getTrace:()=>bo,isKeyword:()=>yo,isProperty:()=>wo,isType:()=>vo});var r={};n.r(r),n.d(r,{generate:()=>Yo,name:()=>Jo,parse:()=>Xo,structure:()=>Ko});var s={};n.r(s),n.d(s,{generate:()=>ia,name:()=>ta,parse:()=>aa,structure:()=>oa,walkContext:()=>na});var c={};n.r(c),n.d(c,{generate:()=>ua,name:()=>ra,parse:()=>la,structure:()=>ca,walkContext:()=>sa});var l={};n.r(l),n.d(l,{generate:()=>ka,name:()=>va,parse:()=>ya,structure:()=>wa});var u={};n.r(u),n.d(u,{generate:()=>La,name:()=>Na,parse:()=>qa,structure:()=>Pa,walkContext:()=>Ea});var p={};n.r(p),n.d(p,{generate:()=>Ua,name:()=>_a,parse:()=>ja,structure:()=>Ia});var d={};n.r(d),n.d(d,{generate:()=>Ha,name:()=>za,parse:()=>Oa,structure:()=>Da});var m={};n.r(m),n.d(m,{generate:()=>$a,name:()=>Ra,parse:()=>Ba,structure:()=>Va});var h={};n.r(h),n.d(h,{generate:()=>Ja,name:()=>Wa,parse:()=>Qa,structure:()=>Ga});var g={};n.r(g),n.d(g,{generate:()=>oi,name:()=>ei,parse:()=>ni,structure:()=>ti});var f={};n.r(f),n.d(f,{generate:()=>li,name:()=>ri,parse:()=>ci,structure:()=>si});var x={};n.r(x),n.d(x,{generate:()=>Ti,name:()=>wi,parse:()=>Si,structure:()=>ki,walkContext:()=>yi});var b={};n.r(b),n.d(b,{generate:()=>Li,name:()=>Ei,parse:()=>qi,structure:()=>Pi});var v={};n.r(v),n.d(v,{generate:()=>Ui,name:()=>_i,parse:()=>ji,structure:()=>Ii});var w={};n.r(w),n.d(w,{generate:()=>Ri,name:()=>zi,parse:()=>Hi,structure:()=>Oi,walkContext:()=>Di});var y={};n.r(y),n.d(y,{generate:()=>Wi,name:()=>Bi,parse:()=>Fi,structure:()=>$i,xxx:()=>Vi});var k={};n.r(k),n.d(k,{generate:()=>Ki,name:()=>Gi,parse:()=>Ji,structure:()=>Qi});var S={};n.r(S),n.d(S,{generate:()=>er,name:()=>Xi,parse:()=>Zi,structure:()=>Yi});var T={};n.r(T),n.d(T,{generate:()=>ar,name:()=>tr,parse:()=>or,structure:()=>nr});var A={};n.r(A),n.d(A,{generate:()=>cr,name:()=>ir,parse:()=>sr,structure:()=>rr});var C={};n.r(C),n.d(C,{generate:()=>dr,name:()=>lr,parse:()=>pr,structure:()=>ur});var M={};n.r(M),n.d(M,{generate:()=>xr,name:()=>hr,parse:()=>fr,structure:()=>gr});var N={};n.r(N),n.d(N,{generate:()=>yr,name:()=>br,parse:()=>wr,structure:()=>vr});var E={};n.r(E),n.d(E,{generate:()=>Ar,name:()=>kr,parse:()=>Tr,structure:()=>Sr});var P={};n.r(P),n.d(P,{generate:()=>Er,name:()=>Cr,parse:()=>Nr,structure:()=>Mr});var q={};n.r(q),n.d(q,{generate:()=>_r,name:()=>Pr,parse:()=>Lr,structure:()=>qr});var L={};n.r(L),n.d(L,{generate:()=>zr,name:()=>Ir,parse:()=>Ur,structure:()=>jr});var _={};n.r(_),n.d(_,{generate:()=>Vr,name:()=>Dr,parse:()=>Rr,structure:()=>Hr,walkContext:()=>Or});var I={};n.r(I),n.d(I,{generate:()=>Gr,name:()=>Br,parse:()=>Wr,structure:()=>Fr,walkContext:()=>$r});var j={};n.r(j),n.d(j,{generate:()=>es,name:()=>Xr,parse:()=>Zr,structure:()=>Yr});var U={};n.r(U),n.d(U,{generate:()=>is,name:()=>ns,parse:()=>as,structure:()=>os});var z={};n.r(z),n.d(z,{generate:()=>ds,name:()=>cs,parse:()=>ps,structure:()=>us,walkContext:()=>ls});var D={};n.r(D),n.d(D,{generate:()=>fs,name:()=>ms,parse:()=>gs,structure:()=>hs});var O={};n.r(O),n.d(O,{generate:()=>ys,name:()=>xs,parse:()=>ws,structure:()=>vs,walkContext:()=>bs});var H={};n.r(H),n.d(H,{generate:()=>Es,name:()=>Cs,parse:()=>Ns,structure:()=>Ms});var R={};n.r(R),n.d(R,{generate:()=>Us,name:()=>Ls,parse:()=>js,structure:()=>Is,walkContext:()=>_s});var V={};n.r(V),n.d(V,{generate:()=>Bs,name:()=>Hs,parse:()=>Vs,structure:()=>Rs});var B={};n.r(B),n.d(B,{generate:()=>ec,name:()=>Xs,parse:()=>Zs,structure:()=>Ys});var $={};n.r($),n.d($,{generate:()=>uc,name:()=>sc,parse:()=>lc,structure:()=>cc});var F={};n.r(F),n.d(F,{generate:()=>hc,name:()=>pc,parse:()=>mc,structure:()=>dc});var W={};n.r(W),n.d(W,{generate:()=>vc,name:()=>fc,parse:()=>bc,structure:()=>xc});var G={};n.r(G),n.d(G,{AnPlusB:()=>r,Atrule:()=>s,AtrulePrelude:()=>c,AttributeSelector:()=>l,Block:()=>u,Brackets:()=>p,CDC:()=>d,CDO:()=>m,ClassSelector:()=>h,Combinator:()=>g,Comment:()=>f,Declaration:()=>x,DeclarationList:()=>b,Dimension:()=>v,Function:()=>w,Hash:()=>y,IdSelector:()=>S,Identifier:()=>k,MediaFeature:()=>T,MediaQuery:()=>A,MediaQueryList:()=>C,NestingSelector:()=>M,Nth:()=>N,Number:()=>E,Operator:()=>P,Parentheses:()=>q,Percentage:()=>L,PseudoClassSelector:()=>_,PseudoElementSelector:()=>I,Ratio:()=>j,Raw:()=>U,Rule:()=>z,Selector:()=>D,SelectorList:()=>O,String:()=>H,StyleSheet:()=>R,TypeSelector:()=>V,UnicodeRange:()=>B,Url:()=>$,Value:()=>F,WhiteSpace:()=>W});var Q={};n.r(Q),n.d(Q,{AtrulePrelude:()=>kc,Selector:()=>Sc,Value:()=>Ac});var J={};n.r(J),n.d(J,{AnPlusB:()=>Xo,Atrule:()=>aa,AtrulePrelude:()=>la,AttributeSelector:()=>ya,Block:()=>qa,Brackets:()=>ja,CDC:()=>Oa,CDO:()=>Ba,ClassSelector:()=>Qa,Combinator:()=>ni,Comment:()=>ci,Declaration:()=>Si,DeclarationList:()=>qi,Dimension:()=>ji,Function:()=>Hi,Hash:()=>Fi,IdSelector:()=>Zi,Identifier:()=>Ji,MediaFeature:()=>or,MediaQuery:()=>sr,MediaQueryList:()=>pr,NestingSelector:()=>fr,Nth:()=>wr,Number:()=>Tr,Operator:()=>Nr,Parentheses:()=>Lr,Percentage:()=>Ur,PseudoClassSelector:()=>Rr,PseudoElementSelector:()=>Wr,Ratio:()=>Zr,Raw:()=>as,Rule:()=>ps,Selector:()=>gs,SelectorList:()=>ws,String:()=>Ns,StyleSheet:()=>js,TypeSelector:()=>Vs,UnicodeRange:()=>Zs,Url:()=>lc,Value:()=>mc,WhiteSpace:()=>bc});var K=n(19),X=n(33),Y=n(21),Z=n(4),ee=n(9),te=n(34),ne=n(2),oe=n.n(ne),ae=n(5),ie=n(20),re=n(36),se=n(37),ce=n(38),le=n(3);async function ue(e,t){let n=t;const o=await async function(e){return le.ts?await async function(e){const t=`https://fastly.jsdelivr.net/gh/404-novel-project/jinjiang_font_tables@master/${e}.woff2.json`,n=`https://static.jjwxc.net/tmp/fonts/${e}.woff2?h=my.jjwxc.net`;oe().info(`[jjwxc-font]开始请求远程字体对照表 ${e}`);let o=le.Iz;for(;o>0;){let a;try{a=await fetch(t)}catch(t){if(oe().error(t),o--,o>0){await(0,Z.yy)(5e3);continue}return void oe().error(`[jjwxc-font]远程字体对照表 ${e} 下载失败,请前往https://github.com/404-novel-project/jinjiang_font_tables 提交字体链接, ${n}`)}if(a.ok)return oe().info(`[jjwxc-font]远程字体对照表 ${e} 下载成功`),oe().debug(`[jjwxc-font]如果你认为字体对应有错误,请前往https://github.com/404-novel-project/jinjiang_font_tables 重新提交字体链接, ${n}`),await a.json();if(o--,404===a.status||o<=0)return void oe().error(`[jjwxc-font]远程字体对照表 ${e} 下载失败,请前往https://github.com/404-novel-project/jinjiang_font_tables 提交字体链接, ${n}`);await(0,Z.yy)(5e3)}}(e):void 0}(e);if(o){for(const e in o)if(Object.prototype.hasOwnProperty.call(o,e)){const t=o[e];n=n.replaceAll(e,t)}n=n.replace(/\u200c/g,"")}return n}var pe=n(1);const de=1,me=2,he=3,ge=4,fe=5,xe=7,be=9,ve=10,we=11,ye=12,ke=13,Se=14,Te=15,Ae=16,Ce=17,Me=18,Ne=19,Ee=20,Pe=21,qe=22,Le=23,_e=24,Ie=25,je=0;function Ue(e){return e>=48&&e<=57}function ze(e){return Ue(e)||e>=65&&e<=70||e>=97&&e<=102}function De(e){return e>=65&&e<=90}function Oe(e){return function(e){return De(e)||function(e){return e>=97&&e<=122}(e)}(e)||function(e){return e>=128}(e)||95===e}function He(e){return Oe(e)||Ue(e)||45===e}function Re(e){return e>=0&&e<=8||11===e||e>=14&&e<=31||127===e}function Ve(e){return 10===e||13===e||12===e}function Be(e){return Ve(e)||32===e||9===e}function $e(e,t){return 92===e&&!Ve(t)&&t!==je}function Fe(e,t,n){return 45===e?Oe(t)||45===t||$e(t,n):!!Oe(e)||92===e&&$e(e,t)}function We(e,t,n){return 43===e||45===e?Ue(t)?2:46===t&&Ue(n)?3:0:46===e?Ue(t)?2:0:Ue(e)?1:0}function Ge(e){return 65279===e||65534===e?1:0}const Qe=new Array(128),Je=130;for(let e=0;e<Qe.length;e++)Qe[e]=(Be(e)?Je:Ue(e)&&131)||Oe(e)&&132||Re(e)&&133||e||128;function Ke(e){return e<128?Qe[e]:132}function Xe(e,t){return t<e.length?e.charCodeAt(t):0}function Ye(e,t,n){return 13===n&&10===Xe(e,t+1)?2:1}function Ze(e,t,n){let o=e.charCodeAt(t);return De(o)&&(o|=32),o===n}function et(e,t,n,o){if(n-t!==o.length)return!1;if(t<0||n>e.length)return!1;for(let a=t;a<n;a++){const n=o.charCodeAt(a-t);let i=e.charCodeAt(a);if(De(i)&&(i|=32),i!==n)return!1}return!0}function tt(e,t){for(;t<e.length&&Be(e.charCodeAt(t));t++);return t}function nt(e,t){for(;t<e.length&&Ue(e.charCodeAt(t));t++);return t}function ot(e,t){if(ze(Xe(e,(t+=2)-1))){for(const n=Math.min(e.length,t+5);t<n&&ze(Xe(e,t));t++);const n=Xe(e,t);Be(n)&&(t+=Ye(e,t,n))}return t}function at(e,t){for(;t<e.length;t++){const n=e.charCodeAt(t);if(!He(n)){if(!$e(n,Xe(e,t+1)))break;t=ot(e,t)-1}}return t}function it(e,t){let n=e.charCodeAt(t);if(43!==n&&45!==n||(n=e.charCodeAt(t+=1)),Ue(n)&&(t=nt(e,t+1),n=e.charCodeAt(t)),46===n&&Ue(e.charCodeAt(t+1))&&(t=nt(e,t+=2)),Ze(e,t,101)){let o=0;n=e.charCodeAt(t+1),45!==n&&43!==n||(o=1,n=e.charCodeAt(t+2)),Ue(n)&&(t=nt(e,t+1+o+1))}return t}function rt(e,t){for(;t<e.length;t++){const n=e.charCodeAt(t);if(41===n){t++;break}$e(n,Xe(e,t+1))&&(t=ot(e,t))}return t}function st(e){if(1===e.length&&!ze(e.charCodeAt(0)))return e[0];let t=parseInt(e,16);return(0===t||t>=55296&&t<=57343||t>1114111)&&(t=65533),String.fromCodePoint(t)}const ct=["EOF-token","ident-token","function-token","at-keyword-token","hash-token","string-token","bad-string-token","url-token","bad-url-token","delim-token","number-token","percentage-token","dimension-token","whitespace-token","CDO-token","CDC-token","colon-token","semicolon-token","comma-token","[-token","]-token","(-token",")-token","{-token","}-token"];function lt(e=null,t){return null===e||e.length<t?new Uint32Array(Math.max(t+1024,16384)):e}function ut(e){const t=e.source,n=t.length,o=t.length>0?Ge(t.charCodeAt(0)):0,a=lt(e.lines,n),i=lt(e.columns,n);let r=e.startLine,s=e.startColumn;for(let e=o;e<n;e++){const o=t.charCodeAt(e);a[e]=r,i[e]=s++,10!==o&&13!==o&&12!==o||(13===o&&e+1<n&&10===t.charCodeAt(e+1)&&(e++,a[e]=r,i[e]=s),r++,s=1)}a[n]=r,i[n]=s,e.lines=a,e.columns=i,e.computed=!0}class pt{constructor(){this.lines=null,this.columns=null,this.computed=!1}setSource(e,t=0,n=1,o=1){this.source=e,this.startOffset=t,this.startLine=n,this.startColumn=o,this.computed=!1}getLocation(e,t){return this.computed||ut(this),{source:t,offset:this.startOffset+e,line:this.lines[e],column:this.columns[e]}}getLocationRange(e,t,n){return this.computed||ut(this),{source:n,start:{offset:this.startOffset+e,line:this.lines[e],column:this.columns[e]},end:{offset:this.startOffset+t,line:this.lines[t],column:this.columns[t]}}}}const dt=16777215,mt=24,ht=new Map([[me,qe],[Pe,qe],[Ne,Ee],[Le,_e]]);class gt{constructor(e,t){this.setSource(e,t)}reset(){this.eof=!1,this.tokenIndex=-1,this.tokenType=0,this.tokenStart=this.firstCharOffset,this.tokenEnd=this.firstCharOffset}setSource(e="",t=()=>{}){const n=(e=String(e||"")).length,o=lt(this.offsetAndType,e.length+1),a=lt(this.balance,e.length+1);let i=0,r=0,s=0,c=-1;for(this.offsetAndType=null,this.balance=null,t(e,(e,t,l)=>{switch(e){default:a[i]=n;break;case r:{let e=s&dt;for(s=a[e],r=s>>mt,a[i]=e,a[e++]=i;e<i;e++)a[e]===n&&(a[e]=i);break}case Pe:case me:case Ne:case Le:a[i]=s,r=ht.get(e),s=r<<mt|i}o[i++]=e<<mt|l,-1===c&&(c=t)}),o[i]=0|n,a[i]=n,a[n]=n;0!==s;){const e=s&dt;s=a[e],a[e]=n}this.source=e,this.firstCharOffset=-1===c?0:c,this.tokenCount=i,this.offsetAndType=o,this.balance=a,this.reset(),this.next()}lookupType(e){return(e+=this.tokenIndex)<this.tokenCount?this.offsetAndType[e]>>mt:0}lookupOffset(e){return(e+=this.tokenIndex)<this.tokenCount?this.offsetAndType[e-1]&dt:this.source.length}lookupValue(e,t){return(e+=this.tokenIndex)<this.tokenCount&&et(this.source,this.offsetAndType[e-1]&dt,this.offsetAndType[e]&dt,t)}getTokenStart(e){return e===this.tokenIndex?this.tokenStart:e>0?e<this.tokenCount?this.offsetAndType[e-1]&dt:this.offsetAndType[this.tokenCount]&dt:this.firstCharOffset}substrToCursor(e){return this.source.substring(e,this.tokenStart)}isBalanceEdge(e){return this.balance[this.tokenIndex]<e}isDelim(e,t){return t?this.lookupType(t)===be&&this.source.charCodeAt(this.lookupOffset(t))===e:this.tokenType===be&&this.source.charCodeAt(this.tokenStart)===e}skip(e){let t=this.tokenIndex+e;t<this.tokenCount?(this.tokenIndex=t,this.tokenStart=this.offsetAndType[t-1]&dt,t=this.offsetAndType[t],this.tokenType=t>>mt,this.tokenEnd=t&dt):(this.tokenIndex=this.tokenCount,this.next())}next(){let e=this.tokenIndex+1;e<this.tokenCount?(this.tokenIndex=e,this.tokenStart=this.tokenEnd,e=this.offsetAndType[e],this.tokenType=e>>mt,this.tokenEnd=e&dt):(this.eof=!0,this.tokenIndex=this.tokenCount,this.tokenType=0,this.tokenStart=this.tokenEnd=this.source.length)}skipSC(){for(;this.tokenType===ke||this.tokenType===Ie;)this.next()}skipUntilBalanced(e,t){let n,o,a=e;e:for(;a<this.tokenCount&&(n=this.balance[a],!(n<e));a++)switch(o=a>0?this.offsetAndType[a-1]&dt:this.firstCharOffset,t(this.source.charCodeAt(o))){case 1:break e;case 2:a++;break e;default:this.balance[n]===a&&(a=n)}this.skip(a-this.tokenIndex)}forEachToken(e){for(let t=0,n=this.firstCharOffset;t<this.tokenCount;t++){const o=n,a=this.offsetAndType[t],i=a&dt;n=i,e(a>>mt,o,i,t)}}dump(){const e=new Array(this.tokenCount);return this.forEachToken((t,n,o,a)=>{e[a]={idx:a,type:ct[t],chunk:this.source.substring(n,o),balance:this.balance[a]}}),e}}function ft(e,t){function n(t){return t<r?e.charCodeAt(t):0}function o(){return l=it(e,l),Fe(n(l),n(l+1),n(l+2))?(s=ye,void(l=at(e,l))):37===n(l)?(s=we,void l++):void(s=ve)}function a(){const t=l;return l=at(e,l),et(e,t,l,"url")&&40===n(l)?(l=tt(e,l+1),34===n(l)||39===n(l)?(s=me,void(l=t+4)):void function(){for(s=xe,l=tt(e,l);l<e.length;l++){const t=e.charCodeAt(l);switch(Ke(t)){case 41:return void l++;case Je:return l=tt(e,l),41===n(l)||l>=e.length?void(l<e.length&&l++):(l=rt(e,l),void(s=8));case 34:case 39:case 40:case 133:return l=rt(e,l),void(s=8);case 92:if($e(t,n(l+1))){l=ot(e,l)-1;break}return l=rt(e,l),void(s=8)}}}()):40===n(l)?(s=me,void l++):void(s=de)}function i(t){for(t||(t=n(l++)),s=fe;l<e.length;l++){const o=e.charCodeAt(l);switch(Ke(o)){case t:return void l++;case Je:if(Ve(o))return l+=Ye(e,l,o),void(s=6);break;case 92:if(l===e.length-1)break;const a=n(l+1);Ve(a)?l+=Ye(e,l+1,a):$e(o,a)&&(l=ot(e,l)-1)}}}const r=(e=String(e||"")).length;let s,c=Ge(n(0)),l=c;for(;l<r;){const r=e.charCodeAt(l);switch(Ke(r)){case Je:s=ke,l=tt(e,l+1);break;case 34:i();break;case 35:He(n(l+1))||$e(n(l+1),n(l+2))?(s=ge,l=at(e,l+1)):(s=be,l++);break;case 39:i();break;case 40:s=Pe,l++;break;case 41:s=qe,l++;break;case 43:We(r,n(l+1),n(l+2))?o():(s=be,l++);break;case 44:s=Me,l++;break;case 45:We(r,n(l+1),n(l+2))?o():45===n(l+1)&&62===n(l+2)?(s=Te,l+=3):Fe(r,n(l+1),n(l+2))?a():(s=be,l++);break;case 46:We(r,n(l+1),n(l+2))?o():(s=be,l++);break;case 47:42===n(l+1)?(s=Ie,l=e.indexOf("*/",l+2),l=-1===l?e.length:l+2):(s=be,l++);break;case 58:s=Ae,l++;break;case 59:s=Ce,l++;break;case 60:33===n(l+1)&&45===n(l+2)&&45===n(l+3)?(s=Se,l+=4):(s=be,l++);break;case 64:Fe(n(l+1),n(l+2),n(l+3))?(s=he,l=at(e,l+1)):(s=be,l++);break;case 91:s=Ne,l++;break;case 92:$e(r,n(l+1))?a():(s=be,l++);break;case 93:s=Ee,l++;break;case 123:s=Le,l++;break;case 125:s=_e,l++;break;case 131:o();break;case 132:a();break;default:s=be,l++}t(s,c,c=l)}}let xt=null;class bt{static createItem(e){return{prev:null,next:null,data:e}}constructor(){this.head=null,this.tail=null,this.cursor=null}createItem(e){return bt.createItem(e)}allocateCursor(e,t){let n;return null!==xt?(n=xt,xt=xt.cursor,n.prev=e,n.next=t,n.cursor=this.cursor):n={prev:e,next:t,cursor:this.cursor},this.cursor=n,n}releaseCursor(){const{cursor:e}=this;this.cursor=e.cursor,e.prev=null,e.next=null,e.cursor=xt,xt=e}updateCursors(e,t,n,o){let{cursor:a}=this;for(;null!==a;)a.prev===e&&(a.prev=t),a.next===n&&(a.next=o),a=a.cursor}*[Symbol.iterator](){for(let e=this.head;null!==e;e=e.next)yield e.data}get size(){let e=0;for(let t=this.head;null!==t;t=t.next)e++;return e}get isEmpty(){return null===this.head}get first(){return this.head&&this.head.data}get last(){return this.tail&&this.tail.data}fromArray(e){let t=null;this.head=null;for(let n of e){const e=bt.createItem(n);null!==t?t.next=e:this.head=e,e.prev=t,t=e}return this.tail=t,this}toArray(){return[...this]}toJSON(){return[...this]}forEach(e,t=this){const n=this.allocateCursor(null,this.head);for(;null!==n.next;){const o=n.next;n.next=o.next,e.call(t,o.data,o,this)}this.releaseCursor()}forEachRight(e,t=this){const n=this.allocateCursor(this.tail,null);for(;null!==n.prev;){const o=n.prev;n.prev=o.prev,e.call(t,o.data,o,this)}this.releaseCursor()}reduce(e,t,n=this){let o,a=this.allocateCursor(null,this.head),i=t;for(;null!==a.next;)o=a.next,a.next=o.next,i=e.call(n,i,o.data,o,this);return this.releaseCursor(),i}reduceRight(e,t,n=this){let o,a=this.allocateCursor(this.tail,null),i=t;for(;null!==a.prev;)o=a.prev,a.prev=o.prev,i=e.call(n,i,o.data,o,this);return this.releaseCursor(),i}some(e,t=this){for(let n=this.head;null!==n;n=n.next)if(e.call(t,n.data,n,this))return!0;return!1}map(e,t=this){const n=new bt;for(let o=this.head;null!==o;o=o.next)n.appendData(e.call(t,o.data,o,this));return n}filter(e,t=this){const n=new bt;for(let o=this.head;null!==o;o=o.next)e.call(t,o.data,o,this)&&n.appendData(o.data);return n}nextUntil(e,t,n=this){if(null===e)return;const o=this.allocateCursor(null,e);for(;null!==o.next;){const e=o.next;if(o.next=e.next,t.call(n,e.data,e,this))break}this.releaseCursor()}prevUntil(e,t,n=this){if(null===e)return;const o=this.allocateCursor(e,null);for(;null!==o.prev;){const e=o.prev;if(o.prev=e.prev,t.call(n,e.data,e,this))break}this.releaseCursor()}clear(){this.head=null,this.tail=null}copy(){const e=new bt;for(let t of this)e.appendData(t);return e}prepend(e){return this.updateCursors(null,e,this.head,e),null!==this.head?(this.head.prev=e,e.next=this.head):this.tail=e,this.head=e,this}prependData(e){return this.prepend(bt.createItem(e))}append(e){return this.insert(e)}appendData(e){return this.insert(bt.createItem(e))}insert(e,t=null){if(null!==t)if(this.updateCursors(t.prev,e,t,e),null===t.prev){if(this.head!==t)throw new Error("before doesn't belong to list");this.head=e,t.prev=e,e.next=t,this.updateCursors(null,e)}else t.prev.next=e,e.prev=t.prev,t.prev=e,e.next=t;else this.updateCursors(this.tail,e,null,e),null!==this.tail?(this.tail.next=e,e.prev=this.tail):this.head=e,this.tail=e;return this}insertData(e,t){return this.insert(bt.createItem(e),t)}remove(e){if(this.updateCursors(e,e.prev,e,e.next),null!==e.prev)e.prev.next=e.next;else{if(this.head!==e)throw new Error("item doesn't belong to list");this.head=e.next}if(null!==e.next)e.next.prev=e.prev;else{if(this.tail!==e)throw new Error("item doesn't belong to list");this.tail=e.prev}return e.prev=null,e.next=null,e}push(e){this.insert(bt.createItem(e))}pop(){return null!==this.tail?this.remove(this.tail):null}unshift(e){this.prepend(bt.createItem(e))}shift(){return null!==this.head?this.remove(this.head):null}prependList(e){return this.insertList(e,this.head)}appendList(e){return this.insertList(e)}insertList(e,t){return null===e.head||(null!=t?(this.updateCursors(t.prev,e.tail,t,e.head),null!==t.prev?(t.prev.next=e.head,e.head.prev=t.prev):this.head=e.head,t.prev=e.tail,e.tail.next=t):(this.updateCursors(this.tail,e.tail,null,e.head),null!==this.tail?(this.tail.next=e.head,e.head.prev=this.tail):this.head=e.head,this.tail=e.tail),e.head=null,e.tail=null),this}replace(e,t){"head"in t?this.insertList(t,e):this.insert(t,e),this.remove(e)}}function vt(e,t){const n=Object.create(SyntaxError.prototype),o=new Error;return Object.assign(n,{name:e,message:t,get stack(){return(o.stack||"").replace(/^(.+\n){1,3}/,`${e}: ${t}\n`)}})}function wt({source:e,line:t,column:n},o){function a(e,t){return i.slice(e,t).map((t,n)=>String(e+n+1).padStart(c)+" |"+t).join("\n")}const i=e.split(/\r\n?|\n|\f/),r=Math.max(1,t-o)-1,s=Math.min(t+o,i.length+1),c=Math.max(4,String(s).length)+1;let l=0;(n+=3*(i[t-1].substr(0,n-1).match(/\t/g)||[]).length)>100&&(l=n-60+3,n=58);for(let e=r;e<=s;e++)e>=0&&e<i.length&&(i[e]=i[e].replace(/\t/g,"    "),i[e]=(l>0&&i[e].length>l?"…":"")+i[e].substr(l,98)+(i[e].length>l+100-1?"…":""));return[a(r,t),new Array(n+c+2).join("-")+"^",a(t,s)].filter(Boolean).join("\n")}function yt(e,t,n,o,a){return Object.assign(vt("SyntaxError",e),{source:t,offset:n,line:o,column:a,sourceFragment:e=>wt({source:t,line:o,column:a},isNaN(e)?0:e),get formattedMessage(){return`Parse error: ${e}\n`+wt({source:t,line:o,column:a},2)}})}function kt(e){const t=this.createList();let n=!1;const o={recognizer:e};for(;!this.eof;){switch(this.tokenType){case Ie:this.next();continue;case ke:n=!0,this.next();continue}let a=e.getNode.call(this,o);if(void 0===a)break;n&&(e.onWhiteSpace&&e.onWhiteSpace.call(this,a,t,o),n=!1),t.push(a)}return n&&e.onWhiteSpace&&e.onWhiteSpace.call(this,null,t,o),t}const St=()=>{};function Tt(e){return function(){return this[e]()}}function At(e){const t=Object.create(null);for(const n in e){const o=e[n],a=o.parse||o;a&&(t[n]=a)}return t}var Ct=n(56);const Mt=new Set(["Atrule","Selector","Declaration"]),Nt=(e,t)=>{if(e===be&&(e=t),"string"==typeof e){const t=e.charCodeAt(0);return t>127?32768:t<<8}return e},Et=[[de,de],[de,me],[de,xe],[de,8],[de,"-"],[de,ve],[de,we],[de,ye],[de,Te],[de,Pe],[he,de],[he,me],[he,xe],[he,8],[he,"-"],[he,ve],[he,we],[he,ye],[he,Te],[ge,de],[ge,me],[ge,xe],[ge,8],[ge,"-"],[ge,ve],[ge,we],[ge,ye],[ge,Te],[ye,de],[ye,me],[ye,xe],[ye,8],[ye,"-"],[ye,ve],[ye,we],[ye,ye],[ye,Te],["#",de],["#",me],["#",xe],["#",8],["#","-"],["#",ve],["#",we],["#",ye],["#",Te],["-",de],["-",me],["-",xe],["-",8],["-","-"],["-",ve],["-",we],["-",ye],["-",Te],[ve,de],[ve,me],[ve,xe],[ve,8],[ve,ve],[ve,we],[ve,ye],[ve,"%"],[ve,Te],["@",de],["@",me],["@",xe],["@",8],["@","-"],["@",Te],[".",ve],[".",we],[".",ye],["+",ve],["+",we],["+",ye],["/","*"]],Pt=Et.concat([[de,ge],[ye,ge],[ge,ge],[he,Pe],[he,fe],[he,Ae],[we,we],[we,ye],[we,me],[we,"-"],[qe,de],[qe,me],[qe,we],[qe,ye],[qe,ge],[qe,"-"]]);function qt(e){const t=new Set(e.map(([e,t])=>Nt(e)<<16|Nt(t)));return function(e,n,o){const a=Nt(n,o),i=o.charCodeAt(0);return(45===i&&n!==de&&n!==me&&n!==Te||43===i?t.has(e<<16|i<<8):t.has(e<<16|a))&&this.emit(" ",ke,!0),a}}const Lt=qt(Et),_t=qt(Pt);function It(e,t){if("function"==typeof t){let n=null;return void e.children.forEach(e=>{null!==n&&t.call(this,n),this.node(e),n=e})}e.children.forEach(this.node,this)}function jt(e){ft(e,(t,n,o)=>{this.token(t,e.slice(n,o))})}const{hasOwnProperty:Ut}=Object.prototype,zt=function(){};function Dt(e){return"function"==typeof e?e:zt}function Ot(e,t){return function(n,o,a){n.type===t&&e.call(this,n,o,a)}}function Ht(e,t){const n=t.structure,o=[];for(const e in n){if(!1===Ut.call(n,e))continue;let t=n[e];const a={name:e,type:!1,nullable:!1};Array.isArray(t)||(t=[t]);for(const e of t)null===e?a.nullable=!0:"string"==typeof e?a.type="node":Array.isArray(e)&&(a.type="list");a.type&&o.push(a)}return o.length?{context:t.walkContext,fields:o}:null}function Rt(e,t){const n=e.fields.slice(),o=e.context,a="string"==typeof o;return t&&n.reverse(),function(e,i,r,s){let c;a&&(c=i[o],i[o]=e);for(const o of n){const n=e[o.name];if(!o.nullable||n)if("list"===o.type){if(t?n.reduceRight(s,!1):n.reduce(s,!1))return!0}else if(r(n))return!0}a&&(i[o]=c)}}function Vt({StyleSheet:e,Atrule:t,Rule:n,Block:o,DeclarationList:a}){return{Atrule:{StyleSheet:e,Atrule:t,Rule:n,Block:o},Rule:{StyleSheet:e,Atrule:t,Rule:n,Block:o},Declaration:{StyleSheet:e,Atrule:t,Rule:n,Block:o,DeclarationList:a}}}function Bt(e){return e}function $t(e,t,n,o){let a;switch(e.type){case"Group":a=function(e,t,n,o){const a=" "===e.combinator||o?e.combinator:" "+e.combinator+" ",i=e.terms.map(e=>$t(e,t,n,o)).join(a);return e.explicit||n?(o||","===i[0]?"[":"[ ")+i+(o?"]":" ]"):i}(e,t,n,o)+(e.disallowEmpty?"!":"");break;case"Multiplier":return $t(e.term,t,n,o)+t(function(e){const{min:t,max:n,comma:o}=e;return 0===t&&0===n?o?"#?":"*":0===t&&1===n?"?":1===t&&0===n?o?"#":"+":1===t&&1===n?"":(o?"#":"")+(t===n?"{"+t+"}":"{"+t+","+(0!==n?n:"")+"}")}(e),e);case"Type":a="<"+e.name+(e.opts?t(function(e){if("Range"===e.type)return" ["+(null===e.min?"-∞":e.min)+","+(null===e.max?"∞":e.max)+"]";throw new Error("Unknown node type `"+e.type+"`")}(e.opts),e.opts):"")+">";break;case"Property":a="<'"+e.name+"'>";break;case"Keyword":a=e.name;break;case"AtKeyword":a="@"+e.name;break;case"Function":a=e.name+"(";break;case"String":case"Token":a=e.value;break;case"Comma":a=",";break;default:throw new Error("Unknown node type `"+e.type+"`")}return t(a,e)}function Ft(e,t){let n=Bt,o=!1,a=!1;return"function"==typeof t?n=t:t&&(o=Boolean(t.forceBraces),a=Boolean(t.compact),"function"==typeof t.decorate&&(n=t.decorate)),$t(e,n,o,a)}const Wt={offset:0,line:1,column:1};function Gt(e,t){const n=e&&e.loc&&e.loc[t];return n?"line"in n?Qt(n):n:null}function Qt({offset:e,line:t,column:n},o){const a={offset:e,line:t,column:n};if(o){const e=o.split(/\n|\r\n?|\f/);a.offset+=o.length,a.line+=e.length-1,a.column=1===e.length?a.column+o.length:e.pop().length+1}return a}const Jt=function(e,t){const n=vt("SyntaxReferenceError",e+(t?" `"+t+"`":""));return n.reference=t,n},Kt=function(e,t,n,o){const a=vt("SyntaxMatchError",e),{css:i,mismatchOffset:r,mismatchLength:s,start:c,end:l}=function(e,t){const n=e.tokens,o=e.longestMatch,a=o<n.length&&n[o].node||null,i=a!==t?a:null;let r,s,c=0,l=0,u=0,p="";for(let e=0;e<n.length;e++){const t=n[e].value;e===o&&(l=t.length,c=p.length),null!==i&&n[e].node===i&&(e<=o?u++:u=0),p+=t}return o===n.length||u>1?(r=Gt(i||t,"end")||Qt(Wt,p),s=Qt(r)):(r=Gt(i,"start")||Qt(Gt(t,"start")||Wt,p.slice(0,c)),s=Gt(i,"end")||Qt(r,p.substr(c,l))),{css:p,mismatchOffset:c,mismatchLength:l,start:r,end:s}}(o,n);return a.rawMessage=e,a.syntax=t?Ft(t):"<generic>",a.css=i,a.mismatchOffset=r,a.mismatchLength=s,a.message=e+"\n  syntax: "+a.syntax+"\n   value: "+(i||"<empty string>")+"\n  --------"+new Array(a.mismatchOffset+1).join("-")+"^",Object.assign(a,c),a.loc={source:n&&n.loc&&n.loc.source||"<unknown>",start:c,end:l},a},Xt=new Map,Yt=new Map,Zt=45,en=function(e){if(Xt.has(e))return Xt.get(e);const t=e.toLowerCase();let n=Xt.get(t);if(void 0===n){const e=nn(t,0),o=e?"":on(t,0);n=Object.freeze({basename:t.substr(o.length),name:t,prefix:o,vendor:o,custom:e})}return Xt.set(e,n),n},tn=function(e){if(Yt.has(e))return Yt.get(e);let t=e,n=e[0];"/"===n?n="/"===e[1]?"//":"/":"_"!==n&&"*"!==n&&"$"!==n&&"#"!==n&&"+"!==n&&"&"!==n&&(n="");const o=nn(t,n.length);if(!o&&(t=t.toLowerCase(),Yt.has(t))){const n=Yt.get(t);return Yt.set(e,n),n}const a=o?"":on(t,n.length),i=t.substr(0,n.length+a.length),r=Object.freeze({basename:t.substr(i.length),name:t.substr(n.length),hack:n,vendor:a,prefix:i,custom:o});return Yt.set(e,r),r};function nn(e,t){return t=t||0,e.length-t>=2&&e.charCodeAt(t)===Zt&&e.charCodeAt(t+1)===Zt}function on(e,t){if(t=t||0,e.length-t>=3&&e.charCodeAt(t)===Zt&&e.charCodeAt(t+1)!==Zt){const n=e.indexOf("-",t+2);if(-1!==n)return e.substring(t,n+1)}return""}const an=["initial","inherit","unset","revert","revert-layer"],rn=45,sn=!0;function cn(e,t){return null!==e&&e.type===be&&e.value.charCodeAt(0)===t}function ln(e,t,n){for(;null!==e&&(e.type===ke||e.type===Ie);)e=n(++t);return t}function un(e,t,n,o){if(!e)return 0;const a=e.value.charCodeAt(t);if(43===a||a===rn){if(n)return 0;t++}for(;t<e.value.length;t++)if(!Ue(e.value.charCodeAt(t)))return 0;return o+1}function pn(e,t,n){let o=!1,a=ln(e,t,n);if(null===(e=n(a)))return t;if(e.type!==ve){if(!cn(e,43)&&!cn(e,rn))return t;if(o=!0,a=ln(n(++a),a,n),null===(e=n(a))||e.type!==ve)return 0}if(!o){const t=e.value.charCodeAt(0);if(43!==t&&t!==rn)return 0}return un(e,o?0:1,o,a)}function dn(e,t){return null!==e&&e.type===be&&e.value.charCodeAt(0)===t}function mn(e,t,n){let o=0;for(let a=t;a<e.value.length;a++){const i=e.value.charCodeAt(a);if(45===i&&n&&0!==o)return mn(e,t+o+1,!1),6;if(!ze(i))return 0;if(++o>6)return 0}return o}function hn(e,t,n){if(!e)return 0;for(;dn(n(t),63);){if(++e>6)return 0;t++}return t}const gn=["calc(","-moz-calc(","-webkit-calc("],fn=new Map([[me,qe],[Pe,qe],[Ne,Ee],[Le,_e]]);function xn(e,t){return t<e.length?e.charCodeAt(t):0}function bn(e,t){return et(e,0,e.length,t)}function vn(e,t){for(let n=0;n<t.length;n++)if(bn(e,t[n]))return!0;return!1}function wn(e,t){return t===e.length-2&&92===xn(e,t)&&Ue(xn(e,t+1))}function yn(e,t,n){if(e&&"Range"===e.type){const o=Number(void 0!==n&&n!==t.length?t.substr(0,n):t);if(isNaN(o))return!0;if(null!==e.min&&o<e.min&&"string"!=typeof e.min)return!0;if(null!==e.max&&o>e.max&&"string"!=typeof e.max)return!0}return!1}function kn(e){return function(t,n,o){return null===t?0:t.type===me&&vn(t.value,gn)?function(e,t){let n=0,o=[],a=0;e:do{switch(e.type){case _e:case qe:case Ee:if(e.type!==n)break e;if(n=o.pop(),0===o.length){a++;break e}break;case me:case Pe:case Ne:case Le:o.push(n),n=fn.get(e.type)}a++}while(e=t(a));return a}(t,n):e(t,n,o)}}function Sn(e){return function(t){return null===t||t.type!==e?0:1}}function Tn(e){return e&&(e=new Set(e)),function(t,n,o){if(null===t||t.type!==ye)return 0;const a=it(t.value,0);if(null!==e){const n=t.value.indexOf("\\",a),o=-1!==n&&wn(t.value,n)?t.value.substring(a,n):t.value.substr(a);if(!1===e.has(o.toLowerCase()))return 0}return yn(o,t.value,a)?0:1}}function An(e){return"function"!=typeof e&&(e=function(){return 0}),function(t,n,o){return null!==t&&t.type===ve&&0===Number(t.value)?1:e(t,n,o)}}const Cn={"ident-token":Sn(de),"function-token":Sn(me),"at-keyword-token":Sn(he),"hash-token":Sn(ge),"string-token":Sn(fe),"bad-string-token":Sn(6),"url-token":Sn(xe),"bad-url-token":Sn(8),"delim-token":Sn(be),"number-token":Sn(ve),"percentage-token":Sn(we),"dimension-token":Sn(ye),"whitespace-token":Sn(ke),"CDO-token":Sn(Se),"CDC-token":Sn(Te),"colon-token":Sn(Ae),"semicolon-token":Sn(Ce),"comma-token":Sn(Me),"[-token":Sn(Ne),"]-token":Sn(Ee),"(-token":Sn(Pe),")-token":Sn(qe),"{-token":Sn(Le),"}-token":Sn(_e)},Mn={string:Sn(fe),ident:Sn(de),percentage:kn(function(e,t,n){return null===e||e.type!==we||yn(n,e.value,e.value.length-1)?0:1}),zero:An(),number:kn(function(e,t,n){if(null===e)return 0;const o=it(e.value,0);return o===e.value.length||wn(e.value,o)?yn(n,e.value,o)?0:1:0}),integer:kn(function(e,t,n){if(null===e||e.type!==ve)return 0;let o=43===xn(e.value,0)||45===xn(e.value,0)?1:0;for(;o<e.value.length;o++)if(!Ue(xn(e.value,o)))return 0;return yn(n,e.value,o)?0:1}),"custom-ident":function(e){if(null===e||e.type!==de)return 0;const t=e.value.toLowerCase();return vn(t,an)||bn(t,"default")?0:1},"custom-property-name":function(e){return null===e||e.type!==de||45!==xn(e.value,0)||45!==xn(e.value,1)?0:1},"hex-color":function(e){if(null===e||e.type!==ge)return 0;const t=e.value.length;if(4!==t&&5!==t&&7!==t&&9!==t)return 0;for(let n=1;n<t;n++)if(!ze(xn(e.value,n)))return 0;return 1},"id-selector":function(e){return null===e||e.type!==ge?0:Fe(xn(e.value,1),xn(e.value,2),xn(e.value,3))?1:0},"an-plus-b":function(e,t){let n=0;if(!e)return 0;if(e.type===ve)return un(e,0,!1,n);if(e.type===de&&e.value.charCodeAt(0)===rn){if(!Ze(e.value,1,110))return 0;switch(e.value.length){case 2:return pn(t(++n),n,t);case 3:return e.value.charCodeAt(2)!==rn?0:(n=ln(t(++n),n,t),un(e=t(n),0,sn,n));default:return e.value.charCodeAt(2)!==rn?0:un(e,3,sn,n)}}else if(e.type===de||cn(e,43)&&t(n+1).type===de){if(e.type!==de&&(e=t(++n)),null===e||!Ze(e.value,0,110))return 0;switch(e.value.length){case 1:return pn(t(++n),n,t);case 2:return e.value.charCodeAt(1)!==rn?0:(n=ln(t(++n),n,t),un(e=t(n),0,sn,n));default:return e.value.charCodeAt(1)!==rn?0:un(e,2,sn,n)}}else if(e.type===ye){let o=e.value.charCodeAt(0),a=43===o||o===rn?1:0,i=a;for(;i<e.value.length&&Ue(e.value.charCodeAt(i));i++);return i===a?0:Ze(e.value,i,110)?i+1===e.value.length?pn(t(++n),n,t):e.value.charCodeAt(i+1)!==rn?0:i+2===e.value.length?(n=ln(t(++n),n,t),un(e=t(n),0,sn,n)):un(e,i+2,sn,n):0}return 0},urange:function(e,t){let n=0;if(null===e||e.type!==de||!Ze(e.value,0,117))return 0;if(null===(e=t(++n)))return 0;if(dn(e,43))return null===(e=t(++n))?0:e.type===de?hn(mn(e,0,!0),++n,t):dn(e,63)?hn(1,++n,t):0;if(e.type===ve){const o=mn(e,1,!0);return 0===o?0:null===(e=t(++n))?n:e.type===ye||e.type===ve?function(e){return 45===e.value.charCodeAt(0)}(e)&&mn(e,1,!1)?n+1:0:hn(o,n,t)}return e.type===ye?hn(mn(e,1,!0),++n,t):0},"declaration-value":function(e,t){if(!e)return 0;let n=0,o=[],a=0;e:do{switch(e.type){case 6:case 8:break e;case _e:case qe:case Ee:if(e.type!==n)break e;n=o.pop();break;case Ce:if(0===n)break e;break;case be:if(0===n&&"!"===e.value)break e;break;case me:case Pe:case Ne:case Le:o.push(n),n=fn.get(e.type)}a++}while(e=t(a));return a},"any-value":function(e,t){if(!e)return 0;let n=0,o=[],a=0;e:do{switch(e.type){case 6:case 8:break e;case _e:case qe:case Ee:if(e.type!==n)break e;n=o.pop();break;case me:case Pe:case Ne:case Le:o.push(n),n=fn.get(e.type)}a++}while(e=t(a));return a}};function Nn(e){const{angle:t,decibel:n,frequency:o,flex:a,length:i,resolution:r,semitones:s,time:c}=e||{};return{dimension:kn(Tn(null)),angle:kn(Tn(t)),decibel:kn(Tn(n)),frequency:kn(Tn(o)),flex:kn(Tn(a)),length:kn(An(Tn(i))),resolution:kn(Tn(r)),semitones:kn(Tn(s)),time:kn(Tn(c))}}const En=["cm","mm","q","in","pt","pc","px","em","rem","ex","rex","cap","rcap","ch","rch","ic","ric","lh","rlh","vw","svw","lvw","dvw","vh","svh","lvh","dvh","vi","svi","lvi","dvi","vb","svb","lvb","dvb","vmin","svmin","lvmin","dvmin","vmax","svmax","lvmax","dvmax","cqw","cqh","cqi","cqb","cqmin","cqmax"],Pn=["deg","grad","rad","turn"],qn=["s","ms"],Ln=["hz","khz"],_n=["dpi","dpcm","dppx","x"],In=["fr"],jn=["db"],Un=["st"];function zn(e,t,n){return Object.assign(vt("SyntaxError",e),{input:t,offset:n,rawMessage:e,message:e+"\n  "+t+"\n--"+new Array((n||t.length)+1).join("-")+"^"})}class Dn{constructor(e){this.str=e,this.pos=0}charCodeAt(e){return e<this.str.length?this.str.charCodeAt(e):0}charCode(){return this.charCodeAt(this.pos)}nextCharCode(){return this.charCodeAt(this.pos+1)}nextNonWsCode(e){return this.charCodeAt(this.findWsEnd(e))}findWsEnd(e){for(;e<this.str.length;e++){const t=this.str.charCodeAt(e);if(13!==t&&10!==t&&12!==t&&32!==t&&9!==t)break}return e}substringToPos(e){return this.str.substring(this.pos,this.pos=e)}eat(e){this.charCode()!==e&&this.error("Expect `"+String.fromCharCode(e)+"`"),this.pos++}peek(){return this.pos<this.str.length?this.str.charAt(this.pos++):""}error(e){throw new zn(e,this.str,this.pos)}}const On=123,Hn=new Uint8Array(128).map((e,t)=>/[a-zA-Z0-9\-]/.test(String.fromCharCode(t))?1:0),Rn={" ":1,"&&":2,"||":3,"|":4};function Vn(e){return e.substringToPos(e.findWsEnd(e.pos))}function Bn(e){let t=e.pos;for(;t<e.str.length;t++){const n=e.str.charCodeAt(t);if(n>=128||0===Hn[n])break}return e.pos===t&&e.error("Expect a keyword"),e.substringToPos(t)}function $n(e){let t=e.pos;for(;t<e.str.length;t++){const n=e.str.charCodeAt(t);if(n<48||n>57)break}return e.pos===t&&e.error("Expect a number"),e.substringToPos(t)}function Fn(e){const t=e.str.indexOf("'",e.pos+1);return-1===t&&(e.pos=e.str.length,e.error("Expect an apostrophe")),e.substringToPos(t+1)}function Wn(e){let t=null,n=null;return e.eat(On),t=$n(e),44===e.charCode()?(e.pos++,125!==e.charCode()&&(n=$n(e))):n=t,e.eat(125),{min:Number(t),max:n?Number(n):0}}function Gn(e,t){const n=function(e){let t=null,n=!1;switch(e.charCode()){case 42:e.pos++,t={min:0,max:0};break;case 43:e.pos++,t={min:1,max:0};break;case 63:e.pos++,t={min:0,max:1};break;case 35:e.pos++,n=!0,e.charCode()===On?t=Wn(e):63===e.charCode()?(e.pos++,t={min:0,max:0}):t={min:1,max:0};break;case On:t=Wn(e);break;default:return null}return{type:"Multiplier",comma:n,min:t.min,max:t.max,term:null}}(e);return null!==n?(n.term=t,35===e.charCode()&&43===e.charCodeAt(e.pos-1)?Gn(e,n):n):t}function Qn(e){const t=e.peek();return""===t?null:{type:"Token",value:t}}function Jn(e,t){function n(e,t){return{type:"Group",terms:e,combinator:t,disallowEmpty:!1,explicit:!1}}let o;for(t=Object.keys(t).sort((e,t)=>Rn[e]-Rn[t]);t.length>0;){o=t.shift();let a=0,i=0;for(;a<e.length;a++){const t=e[a];"Combinator"===t.type&&(t.value===o?(-1===i&&(i=a-1),e.splice(a,1),a--):(-1!==i&&a-i>1&&(e.splice(i,a-i,n(e.slice(i,a),o)),a=i+1),i=-1))}-1!==i&&t.length&&e.splice(i,a-i,n(e.slice(i,a),o))}return o}function Kn(e){const t=[],n={};let o,a=null,i=e.pos;for(;o=Xn(e);)"Spaces"!==o.type&&("Combinator"===o.type?(null!==a&&"Combinator"!==a.type||(e.pos=i,e.error("Unexpected combinator")),n[o.value]=!0):null!==a&&"Combinator"!==a.type&&(n[" "]=!0,t.push({type:"Combinator",value:" "})),t.push(o),a=o,i=e.pos);return null!==a&&"Combinator"===a.type&&(e.pos-=i,e.error("Unexpected combinator")),{type:"Group",terms:t,combinator:Jn(t,n)||" ",disallowEmpty:!1,explicit:!1}}function Xn(e){let t=e.charCode();if(t<128&&1===Hn[t])return function(e){const t=Bn(e);return 40===e.charCode()?(e.pos++,{type:"Function",name:t}):Gn(e,{type:"Keyword",name:t})}(e);switch(t){case 93:break;case 91:return Gn(e,function(e){let t;return e.eat(91),t=Kn(e),e.eat(93),t.explicit=!0,33===e.charCode()&&(e.pos++,t.disallowEmpty=!0),t}(e));case 60:return 39===e.nextCharCode()?function(e){let t;return e.eat(60),e.eat(39),t=Bn(e),e.eat(39),e.eat(62),Gn(e,{type:"Property",name:t})}(e):function(e){let t,n=null;return e.eat(60),t=Bn(e),40===e.charCode()&&41===e.nextCharCode()&&(e.pos+=2,t+="()"),91===e.charCodeAt(e.findWsEnd(e.pos))&&(Vn(e),n=function(e){let t=null,n=null,o=1;return e.eat(91),45===e.charCode()&&(e.peek(),o=-1),-1==o&&8734===e.charCode()?e.peek():(t=o*Number($n(e)),0!==Hn[e.charCode()]&&(t+=Bn(e))),Vn(e),e.eat(44),Vn(e),8734===e.charCode()?e.peek():(o=1,45===e.charCode()&&(e.peek(),o=-1),n=o*Number($n(e)),0!==Hn[e.charCode()]&&(n+=Bn(e))),e.eat(93),{type:"Range",min:t,max:n}}(e)),e.eat(62),Gn(e,{type:"Type",name:t,opts:n})}(e);case 124:return{type:"Combinator",value:e.substringToPos(e.pos+(124===e.nextCharCode()?2:1))};case 38:return e.pos++,e.eat(38),{type:"Combinator",value:"&&"};case 44:return e.pos++,{type:"Comma"};case 39:return Gn(e,{type:"String",value:Fn(e)});case 32:case 9:case 10:case 13:case 12:return{type:"Spaces",value:Vn(e)};case 64:return t=e.nextCharCode(),t<128&&1===Hn[t]?(e.pos++,{type:"AtKeyword",name:Bn(e)}):Qn(e);case 42:case 43:case 63:case 35:case 33:break;case On:if(t=e.nextCharCode(),t<48||t>57)return Qn(e);break;default:return Qn(e)}}function Yn(e){const t=new Dn(e),n=Kn(t);return t.pos!==e.length&&t.error("Unexpected input"),1===n.terms.length&&"Group"===n.terms[0].type?n.terms[0]:n}const Zn=function(){};const eo={decorator(e){const t=[];let n=null;return{...e,node(t){const o=n;n=t,e.node.call(this,t),n=o},emit(e,o,a){t.push({type:o,value:e,node:a?null:n})},result:()=>t}}};const to={type:"Match"},no={type:"Mismatch"},oo={type:"DisallowEmpty"};function ao(e,t,n){return t===to&&n===no||e===to&&t===to&&n===to?e:("If"===e.type&&e.else===no&&t===to&&(t=e.then,e=e.match),{type:"If",match:e,then:t,else:n})}function io(e){return e.length>2&&40===e.charCodeAt(e.length-2)&&41===e.charCodeAt(e.length-1)}function ro(e){return"Keyword"===e.type||"AtKeyword"===e.type||"Function"===e.type||"Type"===e.type&&io(e.name)}function so(e,t,n){switch(e){case" ":{let e=to;for(let n=t.length-1;n>=0;n--)e=ao(t[n],e,no);return e}case"|":{let e=no,n=null;for(let o=t.length-1;o>=0;o--){let a=t[o];if(ro(a)&&(null===n&&o>0&&ro(t[o-1])&&(n=Object.create(null),e=ao({type:"Enum",map:n},to,e)),null!==n)){const e=(io(a.name)?a.name.slice(0,-1):a.name).toLowerCase();if(e in n==0){n[e]=a;continue}}n=null,e=ao(a,to,e)}return e}case"&&":{if(t.length>5)return{type:"MatchOnce",terms:t,all:!0};let n=no;for(let o=t.length-1;o>=0;o--){const a=t[o];let i;i=t.length>1?so(e,t.filter(function(e){return e!==a}),!1):to,n=ao(a,i,n)}return n}case"||":{if(t.length>5)return{type:"MatchOnce",terms:t,all:!1};let o=n?to:no;for(let n=t.length-1;n>=0;n--){const a=t[n];let i;i=t.length>1?so(e,t.filter(function(e){return e!==a}),!0):to,o=ao(a,i,o)}return o}}}function co(e){if("function"==typeof e)return{type:"Generic",fn:e};switch(e.type){case"Group":{let t=so(e.combinator,e.terms.map(co),!1);return e.disallowEmpty&&(t=ao(t,oo,no)),t}case"Multiplier":return function(e){let t=to,n=co(e.term);if(0===e.max)n=ao(n,oo,no),t=ao(n,null,no),t.then=ao(to,to,t),e.comma&&(t.then.else=ao({type:"Comma",syntax:e},t,no));else for(let o=e.min||1;o<=e.max;o++)e.comma&&t!==to&&(t=ao({type:"Comma",syntax:e},t,no)),t=ao(n,ao(to,to,t),no);if(0===e.min)t=ao(to,to,t);else for(let o=0;o<e.min-1;o++)e.comma&&t!==to&&(t=ao({type:"Comma",syntax:e},t,no)),t=ao(n,t,no);return t}(e);case"Type":case"Property":return{type:e.type,name:e.name,syntax:e};case"Keyword":return{type:e.type,name:e.name.toLowerCase(),syntax:e};case"AtKeyword":return{type:e.type,name:"@"+e.name.toLowerCase(),syntax:e};case"Function":return{type:e.type,name:e.name.toLowerCase()+"(",syntax:e};case"String":return 3===e.value.length?{type:"Token",value:e.value.charAt(1),syntax:e}:{type:e.type,value:e.value.substr(1,e.value.length-2).replace(/\\'/g,"'"),syntax:e};case"Token":return{type:e.type,value:e.value,syntax:e};case"Comma":return{type:e.type,syntax:e};default:throw new Error("Unknown node type:",e.type)}}function lo(e,t){return"string"==typeof e&&(e=Yn(e)),{type:"MatchGraph",match:co(e),syntax:t||null,source:e}}const{hasOwnProperty:uo}=Object.prototype,po="Match";let mo=0;function ho(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++){const o=t.charCodeAt(n);let a=e.charCodeAt(n);if(a>=65&&a<=90&&(a|=32),a!==o)return!1}return!0}function go(e){return null===e||e.type===Me||e.type===me||e.type===Pe||e.type===Ne||e.type===Le||function(e){return e.type===be&&"?"!==e.value}(e)}function fo(e){return null===e||e.type===qe||e.type===Ee||e.type===_e||e.type===be&&"/"===e.value}function xo(e,t,n){const o=function(e,t,n){function o(){do{b++,x=b<e.length?e[b]:null}while(null!==x&&(x.type===ke||x.type===Ie))}function a(t){const n=b+t;return n<e.length?e[n]:null}function i(e,t){return{nextState:e,matchStack:w,syntaxStack:p,thenStack:d,tokenIndex:b,prev:t}}function r(e){d={nextState:e,matchStack:w,syntaxStack:p,prev:d}}function s(e){m=i(e,m)}function c(){w={type:1,syntax:t.syntax,token:x,prev:w},o(),h=null,b>v&&(v=b)}function l(){p={syntax:t.syntax,opts:t.syntax.opts||null!==p&&p.opts||null,prev:p},w={type:2,syntax:t.syntax,token:w.token,prev:w}}function u(){w=2===w.type?w.prev:{type:3,syntax:p.syntax,token:w.token,prev:w},p=p.prev}let p=null,d=null,m=null,h=null,g=0,f=null,x=null,b=-1,v=0,w={type:0,syntax:null,token:null,prev:null};for(o();null===f&&++g<15e3;)switch(t.type){case"Match":if(null===d){if(null!==x&&(b!==e.length-1||"\\0"!==x.value&&"\\9"!==x.value)){t=no;break}f=po;break}if((t=d.nextState)===oo){if(d.matchStack===w){t=no;break}t=to}for(;d.syntaxStack!==p;)u();d=d.prev;break;case"Mismatch":if(null!==h&&!1!==h)(null===m||b>m.tokenIndex)&&(m=h,h=!1);else if(null===m){f="Mismatch";break}t=m.nextState,d=m.thenStack,p=m.syntaxStack,w=m.matchStack,b=m.tokenIndex,x=b<e.length?e[b]:null,m=m.prev;break;case"MatchGraph":t=t.match;break;case"If":t.else!==no&&s(t.else),t.then!==to&&r(t.then),t=t.match;break;case"MatchOnce":t={type:"MatchOnceBuffer",syntax:t,index:0,mask:0};break;case"MatchOnceBuffer":{const e=t.syntax.terms;if(t.index===e.length){if(0===t.mask||t.syntax.all){t=no;break}t=to;break}if(t.mask===(1<<e.length)-1){t=to;break}for(;t.index<e.length;t.index++){const n=1<<t.index;if(0===(t.mask&n)){s(t),r({type:"AddMatchOnce",syntax:t.syntax,mask:t.mask|n}),t=e[t.index++];break}}break}case"AddMatchOnce":t={type:"MatchOnceBuffer",syntax:t.syntax,index:0,mask:t.mask};break;case"Enum":if(null!==x){let e=x.value.toLowerCase();if(-1!==e.indexOf("\\")&&(e=e.replace(/\\[09].*$/,"")),uo.call(t.map,e)){t=t.map[e];break}}t=no;break;case"Generic":{const e=null!==p?p.opts:null,n=b+Math.floor(t.fn(x,a,e));if(!isNaN(n)&&n>b){for(;b<n;)c();t=to}else t=no;break}case"Type":case"Property":{const e="Type"===t.type?"types":"properties",o=uo.call(n,e)?n[e][t.name]:null;if(!o||!o.match)throw new Error("Bad syntax reference: "+("Type"===t.type?"<"+t.name+">":"<'"+t.name+"'>"));if(!1!==h&&null!==x&&"Type"===t.type&&("custom-ident"===t.name&&x.type===de||"length"===t.name&&"0"===x.value)){null===h&&(h=i(t,m)),t=no;break}l(),t=o.match;break}case"Keyword":{const e=t.name;if(null!==x){let n=x.value;if(-1!==n.indexOf("\\")&&(n=n.replace(/\\[09].*$/,"")),ho(n,e)){c(),t=to;break}}t=no;break}case"AtKeyword":case"Function":if(null!==x&&ho(x.value,t.name)){c(),t=to;break}t=no;break;case"Token":if(null!==x&&x.value===t.value){c(),t=to;break}t=no;break;case"Comma":null!==x&&x.type===Me?go(w.token)?t=no:(c(),t=fo(x)?no:to):t=go(w.token)||fo(x)?to:no;break;case"String":let o="",g=b;for(;g<e.length&&o.length<t.value.length;g++)o+=e[g].value;if(ho(o,t.value)){for(;b<g;)c();t=to}else t=no;break;default:throw new Error("Unknown node type: "+t.type)}switch(mo+=g,f){case null:console.warn("[csstree-match] BREAK after 15000 iterations"),f="Maximum iteration number exceeded (please fill an issue on https://github.com/csstree/csstree/issues)",w=null;break;case po:for(;null!==p;)u();break;default:w=null}return{tokens:e,reason:f,iterations:g,match:w,longestMatch:v}}(e,t,n||{});if(null===o.match)return o;let a=o.match,i=o.match={syntax:t.syntax||null,match:[]};const r=[i];for(a=function(e){let t=null,n=null,o=e;for(;null!==o;)n=o.prev,o.prev=t,t=o,o=n;return t}(a).prev;null!==a;){switch(a.type){case 2:i.match.push(i={syntax:a.syntax,match:[]}),r.push(i);break;case 3:r.pop(),i=r[r.length-1];break;default:i.match.push({syntax:a.syntax||null,token:a.token.value,node:a.token.node})}a=a.prev}return o}function bo(e){function t(e){return null!==e&&("Type"===e.type||"Property"===e.type||"Keyword"===e.type)}let n=null;return null!==this.matched&&function o(a){if(Array.isArray(a.match)){for(let e=0;e<a.match.length;e++)if(o(a.match[e]))return t(a.syntax)&&n.unshift(a.syntax),!0}else if(a.node===e)return n=t(a.syntax)?[a.syntax]:[],!0;return!1}(this.matched),n}function vo(e,t){return ko(this,e,e=>"Type"===e.type&&e.name===t)}function wo(e,t){return ko(this,e,e=>"Property"===e.type&&e.name===t)}function yo(e){return ko(this,e,e=>"Keyword"===e.type)}function ko(e,t,n){const o=bo.call(e,t);return null!==o&&o.some(n)}function So(e){return"node"in e?e.node:So(e.match[0])}function To(e){return"node"in e?e.node:To(e.match[e.match.length-1])}function Ao(e,t,n,o,a){const i=[];return null!==n.matched&&function n(r){if(null!==r.syntax&&r.syntax.type===o&&r.syntax.name===a){const n=So(r),o=To(r);e.syntax.walk(t,function(e,t,a){if(e===n){const e=new bt;do{if(e.appendData(t.data),t.data===o)break;t=t.next}while(null!==t);i.push({parent:a,nodes:e})}})}Array.isArray(r.match)&&r.match.forEach(n)}(n.matched),i}const{hasOwnProperty:Co}=Object.prototype;function Mo(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e&&e>=0}function No(e){return Boolean(e)&&Mo(e.offset)&&Mo(e.line)&&Mo(e.column)}function Eo(e,t){return function(n,o){if(!n||n.constructor!==Object)return o(n,"Type of node should be an Object");for(let a in n){let i=!0;if(!1!==Co.call(n,a)){if("type"===a)n.type!==e&&o(n,"Wrong node type `"+n.type+"`, expected `"+e+"`");else if("loc"===a){if(null===n.loc)continue;if(n.loc&&n.loc.constructor===Object)if("string"!=typeof n.loc.source)a+=".source";else if(No(n.loc.start)){if(No(n.loc.end))continue;a+=".end"}else a+=".start";i=!1}else if(t.hasOwnProperty(a)){i=!1;for(let e=0;!i&&e<t[a].length;e++){const o=t[a][e];switch(o){case String:i="string"==typeof n[a];break;case Boolean:i="boolean"==typeof n[a];break;case null:i=null===n[a];break;default:"string"==typeof o?i=n[a]&&n[a].type===o:Array.isArray(o)&&(i=n[a]instanceof bt)}}}else o(n,"Unknown field `"+a+"` for "+e+" node type");i||o(n,"Bad value for `"+e+"."+a+"`")}}for(const a in t)Co.call(t,a)&&!1===Co.call(n,a)&&o(n,"Field `"+e+"."+a+"` is missed")}}function Po(e,t){const n=t.structure,o={type:String,loc:!0},a={type:'"'+e+'"'};for(const t in n){if(!1===Co.call(n,t))continue;const i=[],r=o[t]=Array.isArray(n[t])?n[t].slice():[n[t]];for(let n=0;n<r.length;n++){const o=r[n];if(o===String||o===Boolean)i.push(o.name);else if(null===o)i.push("null");else if("string"==typeof o)i.push("<"+o+">");else{if(!Array.isArray(o))throw new Error("Wrong value `"+o+"` in `"+e+"."+t+"` structure definition");i.push("List")}}a[t]=i.join(" | ")}return{docs:a,check:Eo(e,o)}}const qo=lo(an.join(" | "));function Lo(e,t,n){const o={};for(const a in e)e[a].syntax&&(o[a]=n?e[a].syntax:Ft(e[a].syntax,{compact:t}));return o}function _o(e,t,n){const o={};for(const[a,i]of Object.entries(e))o[a]={prelude:i.prelude&&(n?i.prelude.syntax:Ft(i.prelude.syntax,{compact:t})),descriptors:i.descriptors&&Lo(i.descriptors,t,n)};return o}function Io(e,t,n){return{matched:e,iterations:n,error:t,...i}}function jo(e,t,n,o){const a=function(e,t){return"string"==typeof e?function(e){const t=[];return ft(e,(n,o,a)=>t.push({type:n,value:e.slice(o,a),node:null})),t}(e):t.generate(e,eo)}(n,e.syntax);let i;return function(e){for(let t=0;t<e.length;t++)if("var("===e[t].value.toLowerCase())return!0;return!1}(a)?Io(null,new Error("Matching for a tree with var() is not supported")):(o&&(i=xo(a,e.cssWideKeywordsSyntax,e)),o&&i.match||(i=xo(a,t.match,e),i.match)?Io(i.match,null,i.iterations):Io(null,new Kt(i.reason,t.syntax,n,i),i.iterations))}class Uo{constructor(e,t,n){if(this.cssWideKeywordsSyntax=qo,this.syntax=t,this.generic=!1,this.units={...a},this.atrules=Object.create(null),this.properties=Object.create(null),this.types=Object.create(null),this.structure=n||function(e){const t={};if(e.node)for(const n in e.node)if(Co.call(e.node,n)){const o=e.node[n];if(!o.structure)throw new Error("Missed `structure` field in `"+n+"` node type definition");t[n]=Po(n,o)}return t}(e),e){if(e.units)for(const t of Object.keys(a))Array.isArray(e.units[t])&&(this.units[t]=e.units[t]);if(e.types)for(const t in e.types)this.addType_(t,e.types[t]);if(e.generic){this.generic=!0;for(const[e,t]of Object.entries((o=this.units,{...Cn,...Mn,...Nn(o)})))this.addType_(e,t)}if(e.atrules)for(const t in e.atrules)this.addAtrule_(t,e.atrules[t]);if(e.properties)for(const t in e.properties)this.addProperty_(t,e.properties[t])}var o}checkStructure(e){function t(e,t){o.push({node:e,message:t})}const n=this.structure,o=[];return this.syntax.walk(e,function(e){n.hasOwnProperty(e.type)?n[e.type].check(e,t):t(e,"Unknown node type `"+e.type+"`")}),!!o.length&&o}createDescriptor(e,t,n,o=null){const a={type:t,name:n},i={type:t,name:n,parent:o,serializable:"string"==typeof e||e&&"string"==typeof e.type,syntax:null,match:null};return"function"==typeof e?i.match=lo(e,a):("string"==typeof e?Object.defineProperty(i,"syntax",{get:()=>(Object.defineProperty(i,"syntax",{value:Yn(e)}),i.syntax)}):i.syntax=e,Object.defineProperty(i,"match",{get:()=>(Object.defineProperty(i,"match",{value:lo(i.syntax,a)}),i.match)})),i}addAtrule_(e,t){t&&(this.atrules[e]={type:"Atrule",name:e,prelude:t.prelude?this.createDescriptor(t.prelude,"AtrulePrelude",e):null,descriptors:t.descriptors?Object.keys(t.descriptors).reduce((n,o)=>(n[o]=this.createDescriptor(t.descriptors[o],"AtruleDescriptor",o,e),n),Object.create(null)):null})}addProperty_(e,t){t&&(this.properties[e]=this.createDescriptor(t,"Property",e))}addType_(e,t){t&&(this.types[e]=this.createDescriptor(t,"Type",e))}checkAtruleName(e){if(!this.getAtrule(e))return new Jt("Unknown at-rule","@"+e)}checkAtrulePrelude(e,t){const n=this.checkAtruleName(e);if(n)return n;const o=this.getAtrule(e);return!o.prelude&&t?new SyntaxError("At-rule `@"+e+"` should not contain a prelude"):!o.prelude||t||jo(this,o.prelude,"",!1).matched?void 0:new SyntaxError("At-rule `@"+e+"` should contain a prelude")}checkAtruleDescriptorName(e,t){const n=this.checkAtruleName(e);if(n)return n;const o=this.getAtrule(e),a=en(t);return o.descriptors?o.descriptors[a.name]||o.descriptors[a.basename]?void 0:new Jt("Unknown at-rule descriptor",t):new SyntaxError("At-rule `@"+e+"` has no known descriptors")}checkPropertyName(e){if(!this.getProperty(e))return new Jt("Unknown property",e)}matchAtrulePrelude(e,t){const n=this.checkAtrulePrelude(e,t);if(n)return Io(null,n);const o=this.getAtrule(e);return o.prelude?jo(this,o.prelude,t||"",!1):Io(null,null)}matchAtruleDescriptor(e,t,n){const o=this.checkAtruleDescriptorName(e,t);if(o)return Io(null,o);const a=this.getAtrule(e),i=en(t);return jo(this,a.descriptors[i.name]||a.descriptors[i.basename],n,!1)}matchDeclaration(e){return"Declaration"!==e.type?Io(null,new Error("Not a Declaration node")):this.matchProperty(e.property,e.value)}matchProperty(e,t){if(tn(e).custom)return Io(null,new Error("Lexer matching doesn't applicable for custom properties"));const n=this.checkPropertyName(e);return n?Io(null,n):jo(this,this.getProperty(e),t,!0)}matchType(e,t){const n=this.getType(e);return n?jo(this,n,t,!1):Io(null,new Jt("Unknown type",e))}match(e,t){return"string"==typeof e||e&&e.type?("string"!=typeof e&&e.match||(e=this.createDescriptor(e,"Type","anonymous")),jo(this,e,t,!1)):Io(null,new Jt("Bad syntax"))}findValueFragments(e,t,n,o){return Ao(this,t,this.matchProperty(e,t),n,o)}findDeclarationValueFragments(e,t,n){return Ao(this,e.value,this.matchDeclaration(e),t,n)}findAllFragments(e,t,n){const o=[];return this.syntax.walk(e,{visit:"Declaration",enter:e=>{o.push.apply(o,this.findDeclarationValueFragments(e,t,n))}}),o}getAtrule(e,t=!0){const n=en(e);return(n.vendor&&t?this.atrules[n.name]||this.atrules[n.basename]:this.atrules[n.name])||null}getAtrulePrelude(e,t=!0){const n=this.getAtrule(e,t);return n&&n.prelude||null}getAtruleDescriptor(e,t){return this.atrules.hasOwnProperty(e)&&this.atrules.declarators&&this.atrules[e].declarators[t]||null}getProperty(e,t=!0){const n=tn(e);return(n.vendor&&t?this.properties[n.name]||this.properties[n.basename]:this.properties[n.name])||null}getType(e){return hasOwnProperty.call(this.types,e)?this.types[e]:null}validate(){function e(o,a,i,r){if(i.has(a))return i.get(a);i.set(a,!1),null!==r.syntax&&function(e,t,n){let o=Zn,a=Zn;if(o=t,o===Zn&&a===Zn)throw new Error("Neither `enter` nor `leave` walker handler is set or both aren't a function");!function e(t){switch(o.call(n,t),t.type){case"Group":t.terms.forEach(e);break;case"Multiplier":e(t.term);break;case"Type":case"Property":case"Keyword":case"AtKeyword":case"Function":case"String":case"Token":case"Comma":break;default:throw new Error("Unknown type: "+t.type)}a.call(n,t)}(e)}(r.syntax,function(r){if("Type"!==r.type&&"Property"!==r.type)return;const s="Type"===r.type?o.types:o.properties,c="Type"===r.type?t:n;hasOwnProperty.call(s,r.name)&&!e(o,r.name,c,s[r.name])||i.set(a,!0)},this)}let t=new Map,n=new Map;for(const n in this.types)e(this,n,t,this.types[n]);for(const t in this.properties)e(this,t,n,this.properties[t]);return t=[...t.keys()].filter(e=>t.get(e)),n=[...n.keys()].filter(e=>n.get(e)),t.length||n.length?{types:t,properties:n}:null}dump(e,t){return{generic:this.generic,units:this.units,types:Lo(this.types,!t,e),properties:Lo(this.properties,!t,e),atrules:_o(this.atrules,!t,e)}}toString(){return JSON.stringify(this.dump())}}function zo(e,t){return"string"==typeof t&&/^\s*\|/.test(t)?"string"==typeof e?e+t:t.replace(/^\s*\|\s*/,""):t||null}function Do(e,t){const n=Object.create(null);for(const[o,a]of Object.entries(e))if(a){n[o]={};for(const e of Object.keys(a))t.includes(e)&&(n[o][e]=a[e])}return n}function Oo(e,t){const n={...e};for(const[o,a]of Object.entries(t))switch(o){case"generic":n[o]=Boolean(a);break;case"units":n[o]={...e[o]};for(const[e,t]of Object.entries(a))n[o][e]=Array.isArray(t)?t:[];break;case"atrules":n[o]={...e[o]};for(const[e,t]of Object.entries(a)){const a=n[o][e]||{},i=n[o][e]={prelude:a.prelude||null,descriptors:{...a.descriptors}};if(t){i.prelude=t.prelude?zo(i.prelude,t.prelude):i.prelude||null;for(const[e,n]of Object.entries(t.descriptors||{}))i.descriptors[e]=n?zo(i.descriptors[e],n):null;Object.keys(i.descriptors).length||(i.descriptors=null)}}break;case"types":case"properties":n[o]={...e[o]};for(const[e,t]of Object.entries(a))n[o][e]=zo(n[o][e],t);break;case"scope":n[o]={...e[o]};for(const[e,t]of Object.entries(a))n[o][e]={...n[o][e],...t};break;case"parseContext":n[o]={...e[o],...a};break;case"atrule":case"pseudo":n[o]={...e[o],...Do(a,["parse"])};break;case"node":n[o]={...e[o],...Do(a,["name","structure","parse","generate","walkContext"])}}return n}const Ho=43,Ro=45,Vo=110,Bo=!0,$o=!1;function Fo(e,t){let n=this.tokenStart+e;const o=this.charCodeAt(n);for(o!==Ho&&o!==Ro||(t&&this.error("Number sign is not allowed"),n++);n<this.tokenEnd;n++)Ue(this.charCodeAt(n))||this.error("Integer is expected",n)}function Wo(e){return Fo.call(this,0,e)}function Go(e,t){if(!this.cmpChar(this.tokenStart+e,t)){let n="";switch(t){case Vo:n="N is expected";break;case Ro:n="HyphenMinus is expected"}this.error(n,this.tokenStart+e)}}function Qo(){let e=0,t=0,n=this.tokenType;for(;n===ke||n===Ie;)n=this.lookupType(++e);if(n!==ve){if(!this.isDelim(Ho,e)&&!this.isDelim(Ro,e))return null;t=this.isDelim(Ho,e)?Ho:Ro;do{n=this.lookupType(++e)}while(n===ke||n===Ie);n!==ve&&(this.skip(e),Wo.call(this,Bo))}return e>0&&this.skip(e),0===t&&(n=this.charCodeAt(this.tokenStart),n!==Ho&&n!==Ro&&this.error("Number sign is expected")),Wo.call(this,0!==t),t===Ro?"-"+this.consume(ve):this.consume(ve)}const Jo="AnPlusB",Ko={a:[String,null],b:[String,null]};function Xo(){const e=this.tokenStart;let t=null,n=null;if(this.tokenType===ve)Wo.call(this,$o),n=this.consume(ve);else if(this.tokenType===de&&this.cmpChar(this.tokenStart,Ro))switch(t="-1",Go.call(this,1,Vo),this.tokenEnd-this.tokenStart){case 2:this.next(),n=Qo.call(this);break;case 3:Go.call(this,2,Ro),this.next(),this.skipSC(),Wo.call(this,Bo),n="-"+this.consume(ve);break;default:Go.call(this,2,Ro),Fo.call(this,3,Bo),this.next(),n=this.substrToCursor(e+2)}else if(this.tokenType===de||this.isDelim(Ho)&&this.lookupType(1)===de){let o=0;switch(t="1",this.isDelim(Ho)&&(o=1,this.next()),Go.call(this,0,Vo),this.tokenEnd-this.tokenStart){case 1:this.next(),n=Qo.call(this);break;case 2:Go.call(this,1,Ro),this.next(),this.skipSC(),Wo.call(this,Bo),n="-"+this.consume(ve);break;default:Go.call(this,1,Ro),Fo.call(this,2,Bo),this.next(),n=this.substrToCursor(e+o+1)}}else if(this.tokenType===ye){const o=this.charCodeAt(this.tokenStart),a=o===Ho||o===Ro;let i=this.tokenStart+a;for(;i<this.tokenEnd&&Ue(this.charCodeAt(i));i++);i===this.tokenStart+a&&this.error("Integer is expected",this.tokenStart+a),Go.call(this,i-this.tokenStart,Vo),t=this.substring(e,i),i+1===this.tokenEnd?(this.next(),n=Qo.call(this)):(Go.call(this,i-this.tokenStart+1,Ro),i+2===this.tokenEnd?(this.next(),this.skipSC(),Wo.call(this,Bo),n="-"+this.consume(ve)):(Fo.call(this,i-this.tokenStart+2,Bo),this.next(),n=this.substrToCursor(i+1)))}else this.error();return null!==t&&t.charCodeAt(0)===Ho&&(t=t.substr(1)),null!==n&&n.charCodeAt(0)===Ho&&(n=n.substr(1)),{type:"AnPlusB",loc:this.getLocation(e,this.tokenStart),a:t,b:n}}function Yo(e){if(e.a){const t=("+1"===e.a||"1"===e.a?"n":"-1"===e.a&&"-n")||e.a+"n";if(e.b){const n="-"===e.b[0]||"+"===e.b[0]?e.b:"+"+e.b;this.tokenize(t+n)}else this.tokenize(t)}else this.tokenize(e.b)}function Zo(e){return this.Raw(e,this.consumeUntilLeftCurlyBracketOrSemicolon,!0)}function ea(){for(let e,t=1;e=this.lookupType(t);t++){if(e===_e)return!0;if(e===Le||e===he)return!1}return!1}const ta="Atrule",na="atrule",oa={name:String,prelude:["AtrulePrelude","Raw",null],block:["Block",null]};function aa(e=!1){const t=this.tokenStart;let n,o,a=null,i=null;switch(this.eat(he),n=this.substrToCursor(t+1),o=n.toLowerCase(),this.skipSC(),!1===this.eof&&this.tokenType!==Le&&this.tokenType!==Ce&&(a=this.parseAtrulePrelude?this.parseWithFallback(this.AtrulePrelude.bind(this,n,e),Zo):Zo.call(this,this.tokenIndex),this.skipSC()),this.tokenType){case Ce:this.next();break;case Le:i=hasOwnProperty.call(this.atrule,o)&&"function"==typeof this.atrule[o].block?this.atrule[o].block.call(this,e):this.Block(ea.call(this))}return{type:"Atrule",loc:this.getLocation(t,this.tokenStart),name:n,prelude:a,block:i}}function ia(e){this.token(he,"@"+e.name),null!==e.prelude&&this.node(e.prelude),e.block?this.node(e.block):this.token(Ce,";")}const ra="AtrulePrelude",sa="atrulePrelude",ca={children:[[]]};function la(e){let t=null;return null!==e&&(e=e.toLowerCase()),this.skipSC(),t=hasOwnProperty.call(this.atrule,e)&&"function"==typeof this.atrule[e].prelude?this.atrule[e].prelude.call(this):this.readSequence(this.scope.AtrulePrelude),this.skipSC(),!0!==this.eof&&this.tokenType!==Le&&this.tokenType!==Ce&&this.error("Semicolon or block is expected"),{type:"AtrulePrelude",loc:this.getLocationFromList(t),children:t}}function ua(e){this.children(e)}const pa=36,da=42,ma=61,ha=94,ga=124,fa=126;function xa(){this.eof&&this.error("Unexpected end of input");const e=this.tokenStart;let t=!1;return this.isDelim(da)?(t=!0,this.next()):this.isDelim(ga)||this.eat(de),this.isDelim(ga)?this.charCodeAt(this.tokenStart+1)!==ma?(this.next(),this.eat(de)):t&&this.error("Identifier is expected",this.tokenEnd):t&&this.error("Vertical line is expected"),{type:"Identifier",loc:this.getLocation(e,this.tokenStart),name:this.substrToCursor(e)}}function ba(){const e=this.tokenStart,t=this.charCodeAt(e);return t!==ma&&t!==fa&&t!==ha&&t!==pa&&t!==da&&t!==ga&&this.error("Attribute selector (=, ~=, ^=, $=, *=, |=) is expected"),this.next(),t!==ma&&(this.isDelim(ma)||this.error("Equal sign is expected"),this.next()),this.substrToCursor(e)}const va="AttributeSelector",wa={name:"Identifier",matcher:[String,null],value:["String","Identifier",null],flags:[String,null]};function ya(){const e=this.tokenStart;let t,n=null,o=null,a=null;return this.eat(Ne),this.skipSC(),t=xa.call(this),this.skipSC(),this.tokenType!==Ee&&(this.tokenType!==de&&(n=ba.call(this),this.skipSC(),o=this.tokenType===fe?this.String():this.Identifier(),this.skipSC()),this.tokenType===de&&(a=this.consume(de),this.skipSC())),this.eat(Ee),{type:"AttributeSelector",loc:this.getLocation(e,this.tokenStart),name:t,matcher:n,value:o,flags:a}}function ka(e){this.token(be,"["),this.node(e.name),null!==e.matcher&&(this.tokenize(e.matcher),this.node(e.value)),null!==e.flags&&this.token(de,e.flags),this.token(be,"]")}const Sa=38;function Ta(e){return this.Raw(e,null,!0)}function Aa(){return this.parseWithFallback(this.Rule,Ta)}function Ca(e){return this.Raw(e,this.consumeUntilSemicolonIncluded,!0)}function Ma(){if(this.tokenType===Ce)return Ca.call(this,this.tokenIndex);const e=this.parseWithFallback(this.Declaration,Ca);return this.tokenType===Ce&&this.next(),e}const Na="Block",Ea="block",Pa={children:[["Atrule","Rule","Declaration"]]};function qa(e){const t=e?Ma:Aa,n=this.tokenStart;let o=this.createList();this.eat(Le);e:for(;!this.eof;)switch(this.tokenType){case _e:break e;case ke:case Ie:this.next();break;case he:o.push(this.parseWithFallback(this.Atrule.bind(this,e),Ta));break;default:e&&this.isDelim(Sa)?o.push(Aa.call(this)):o.push(t.call(this))}return this.eof||this.eat(_e),{type:"Block",loc:this.getLocation(n,this.tokenStart),children:o}}function La(e){this.token(Le,"{"),this.children(e,e=>{"Declaration"===e.type&&this.token(Ce,";")}),this.token(_e,"}")}const _a="Brackets",Ia={children:[[]]};function ja(e,t){const n=this.tokenStart;let o=null;return this.eat(Ne),o=e.call(this,t),this.eof||this.eat(Ee),{type:"Brackets",loc:this.getLocation(n,this.tokenStart),children:o}}function Ua(e){this.token(be,"["),this.children(e),this.token(be,"]")}const za="CDC",Da=[];function Oa(){const e=this.tokenStart;return this.eat(Te),{type:"CDC",loc:this.getLocation(e,this.tokenStart)}}function Ha(){this.token(Te,"--\x3e")}const Ra="CDO",Va=[];function Ba(){const e=this.tokenStart;return this.eat(Se),{type:"CDO",loc:this.getLocation(e,this.tokenStart)}}function $a(){this.token(Se,"\x3c!--")}const Fa=46,Wa="ClassSelector",Ga={name:String};function Qa(){return this.eatDelim(Fa),{type:"ClassSelector",loc:this.getLocation(this.tokenStart-1,this.tokenEnd),name:this.consume(de)}}function Ja(e){this.token(be,"."),this.token(de,e.name)}const Ka=43,Xa=47,Ya=62,Za=126,ei="Combinator",ti={name:String};function ni(){const e=this.tokenStart;let t;switch(this.tokenType){case ke:t=" ";break;case be:switch(this.charCodeAt(this.tokenStart)){case Ya:case Ka:case Za:this.next();break;case Xa:this.next(),this.eatIdent("deep"),this.eatDelim(Xa);break;default:this.error("Combinator is expected")}t=this.substrToCursor(e)}return{type:"Combinator",loc:this.getLocation(e,this.tokenStart),name:t}}function oi(e){this.tokenize(e.name)}const ai=42,ii=47,ri="Comment",si={value:String};function ci(){const e=this.tokenStart;let t=this.tokenEnd;return this.eat(Ie),t-e+2>=2&&this.charCodeAt(t-2)===ai&&this.charCodeAt(t-1)===ii&&(t-=2),{type:"Comment",loc:this.getLocation(e,this.tokenStart),value:this.substring(e+2,t)}}function li(e){this.token(Ie,"/*"+e.value+"*/")}const ui=33,pi=35,di=36,mi=38,hi=42,gi=43,fi=47;function xi(e){return this.Raw(e,this.consumeUntilExclamationMarkOrSemicolon,!0)}function bi(e){return this.Raw(e,this.consumeUntilExclamationMarkOrSemicolon,!1)}function vi(){const e=this.tokenIndex,t=this.Value();return"Raw"!==t.type&&!1===this.eof&&this.tokenType!==Ce&&!1===this.isDelim(ui)&&!1===this.isBalanceEdge(e)&&this.error(),t}const wi="Declaration",yi="declaration",ki={important:[Boolean,String],property:String,value:["Value","Raw"]};function Si(){const e=this.tokenStart,t=this.tokenIndex,n=Ai.call(this),o=nn(n),a=o?this.parseCustomProperty:this.parseValue,i=o?bi:xi;let r,s=!1;this.skipSC(),this.eat(Ae);const c=this.tokenIndex;if(o||this.skipSC(),r=a?this.parseWithFallback(vi,i):i.call(this,this.tokenIndex),o&&"Value"===r.type&&r.children.isEmpty)for(let e=c-this.tokenIndex;e<=0;e++)if(this.lookupType(e)===ke){r.children.appendData({type:"WhiteSpace",loc:null,value:" "});break}return this.isDelim(ui)&&(s=Ci.call(this),this.skipSC()),!1===this.eof&&this.tokenType!==Ce&&!1===this.isBalanceEdge(t)&&this.error(),{type:"Declaration",loc:this.getLocation(e,this.tokenStart),important:s,property:n,value:r}}function Ti(e){this.token(de,e.property),this.token(Ae,":"),this.node(e.value),e.important&&(this.token(be,"!"),this.token(de,!0===e.important?"important":e.important))}function Ai(){const e=this.tokenStart;if(this.tokenType===be)switch(this.charCodeAt(this.tokenStart)){case hi:case di:case gi:case pi:case mi:this.next();break;case fi:this.next(),this.isDelim(fi)&&this.next()}return this.tokenType===ge?this.eat(ge):this.eat(de),this.substrToCursor(e)}function Ci(){this.eat(be),this.skipSC();const e=this.consume(de);return"important"===e||e}const Mi=38;function Ni(e){return this.Raw(e,this.consumeUntilSemicolonIncluded,!0)}const Ei="DeclarationList",Pi={children:[["Declaration","Atrule","Rule"]]};function qi(){const e=this.createList();for(;!this.eof;)switch(this.tokenType){case ke:case Ie:case Ce:this.next();break;case he:e.push(this.parseWithFallback(this.Atrule.bind(this,!0),Ni));break;default:this.isDelim(Mi)?e.push(this.parseWithFallback(this.Rule,Ni)):e.push(this.parseWithFallback(this.Declaration,Ni))}return{type:"DeclarationList",loc:this.getLocationFromList(e),children:e}}function Li(e){this.children(e,e=>{"Declaration"===e.type&&this.token(Ce,";")})}const _i="Dimension",Ii={value:String,unit:String};function ji(){const e=this.tokenStart,t=this.consumeNumber(ye);return{type:"Dimension",loc:this.getLocation(e,this.tokenStart),value:t,unit:this.substring(e+t.length,this.tokenStart)}}function Ui(e){this.token(ye,e.value+e.unit)}const zi="Function",Di="function",Oi={name:String,children:[[]]};function Hi(e,t){const n=this.tokenStart,o=this.consumeFunctionName(),a=o.toLowerCase();let i;return i=t.hasOwnProperty(a)?t[a].call(this,t):e.call(this,t),this.eof||this.eat(qe),{type:"Function",loc:this.getLocation(n,this.tokenStart),name:o,children:i}}function Ri(e){this.token(me,e.name+"("),this.children(e),this.token(qe,")")}const Vi="XXX",Bi="Hash",$i={value:String};function Fi(){const e=this.tokenStart;return this.eat(ge),{type:"Hash",loc:this.getLocation(e,this.tokenStart),value:this.substrToCursor(e+1)}}function Wi(e){this.token(ge,"#"+e.value)}const Gi="Identifier",Qi={name:String};function Ji(){return{type:"Identifier",loc:this.getLocation(this.tokenStart,this.tokenEnd),name:this.consume(de)}}function Ki(e){this.token(de,e.name)}const Xi="IdSelector",Yi={name:String};function Zi(){const e=this.tokenStart;return this.eat(ge),{type:"IdSelector",loc:this.getLocation(e,this.tokenStart),name:this.substrToCursor(e+1)}}function er(e){this.token(be,"#"+e.name)}const tr="MediaFeature",nr={name:String,value:["Identifier","Number","Dimension","Ratio",null]};function or(){const e=this.tokenStart;let t,n=null;if(this.eat(Pe),this.skipSC(),t=this.consume(de),this.skipSC(),this.tokenType!==qe){switch(this.eat(Ae),this.skipSC(),this.tokenType){case ve:n=this.lookupNonWSType(1)===be?this.Ratio():this.Number();break;case ye:n=this.Dimension();break;case de:n=this.Identifier();break;default:this.error("Number, dimension, ratio or identifier is expected")}this.skipSC()}return this.eat(qe),{type:"MediaFeature",loc:this.getLocation(e,this.tokenStart),name:t,value:n}}function ar(e){this.token(Pe,"("),this.token(de,e.name),null!==e.value&&(this.token(Ae,":"),this.node(e.value)),this.token(qe,")")}const ir="MediaQuery",rr={children:[["Identifier","MediaFeature","WhiteSpace"]]};function sr(){const e=this.createList();let t=null;this.skipSC();e:for(;!this.eof;){switch(this.tokenType){case Ie:case ke:this.next();continue;case de:t=this.Identifier();break;case Pe:t=this.MediaFeature();break;default:break e}e.push(t)}return null===t&&this.error("Identifier or parenthesis is expected"),{type:"MediaQuery",loc:this.getLocationFromList(e),children:e}}function cr(e){this.children(e)}const lr="MediaQueryList",ur={children:[["MediaQuery"]]};function pr(){const e=this.createList();for(this.skipSC();!this.eof&&(e.push(this.MediaQuery()),this.tokenType===Me);)this.next();return{type:"MediaQueryList",loc:this.getLocationFromList(e),children:e}}function dr(e){this.children(e,()=>this.token(Me,","))}const mr=38,hr="NestingSelector",gr={};function fr(){const e=this.tokenStart;return this.eatDelim(mr),{type:"NestingSelector",loc:this.getLocation(e,this.tokenStart)}}function xr(){this.token(be,"&")}const br="Nth",vr={nth:["AnPlusB","Identifier"],selector:["SelectorList",null]};function wr(){this.skipSC();const e=this.tokenStart;let t,n=e,o=null;return t=this.lookupValue(0,"odd")||this.lookupValue(0,"even")?this.Identifier():this.AnPlusB(),n=this.tokenStart,this.skipSC(),this.lookupValue(0,"of")&&(this.next(),o=this.SelectorList(),n=this.tokenStart),{type:"Nth",loc:this.getLocation(e,n),nth:t,selector:o}}function yr(e){this.node(e.nth),null!==e.selector&&(this.token(de,"of"),this.node(e.selector))}const kr="Number",Sr={value:String};function Tr(){return{type:"Number",loc:this.getLocation(this.tokenStart,this.tokenEnd),value:this.consume(ve)}}function Ar(e){this.token(ve,e.value)}const Cr="Operator",Mr={value:String};function Nr(){const e=this.tokenStart;return this.next(),{type:"Operator",loc:this.getLocation(e,this.tokenStart),value:this.substrToCursor(e)}}function Er(e){this.tokenize(e.value)}const Pr="Parentheses",qr={children:[[]]};function Lr(e,t){const n=this.tokenStart;let o=null;return this.eat(Pe),o=e.call(this,t),this.eof||this.eat(qe),{type:"Parentheses",loc:this.getLocation(n,this.tokenStart),children:o}}function _r(e){this.token(Pe,"("),this.children(e),this.token(qe,")")}const Ir="Percentage",jr={value:String};function Ur(){return{type:"Percentage",loc:this.getLocation(this.tokenStart,this.tokenEnd),value:this.consumeNumber(we)}}function zr(e){this.token(we,e.value+"%")}const Dr="PseudoClassSelector",Or="function",Hr={name:String,children:[["Raw"],null]};function Rr(){const e=this.tokenStart;let t,n,o=null;return this.eat(Ae),this.tokenType===me?(t=this.consumeFunctionName(),n=t.toLowerCase(),hasOwnProperty.call(this.pseudo,n)?(this.skipSC(),o=this.pseudo[n].call(this),this.skipSC()):(o=this.createList(),o.push(this.Raw(this.tokenIndex,null,!1))),this.eat(qe)):t=this.consume(de),{type:"PseudoClassSelector",loc:this.getLocation(e,this.tokenStart),name:t,children:o}}function Vr(e){this.token(Ae,":"),null===e.children?this.token(de,e.name):(this.token(me,e.name+"("),this.children(e),this.token(qe,")"))}const Br="PseudoElementSelector",$r="function",Fr={name:String,children:[["Raw"],null]};function Wr(){const e=this.tokenStart;let t,n,o=null;return this.eat(Ae),this.eat(Ae),this.tokenType===me?(t=this.consumeFunctionName(),n=t.toLowerCase(),hasOwnProperty.call(this.pseudo,n)?(this.skipSC(),o=this.pseudo[n].call(this),this.skipSC()):(o=this.createList(),o.push(this.Raw(this.tokenIndex,null,!1))),this.eat(qe)):t=this.consume(de),{type:"PseudoElementSelector",loc:this.getLocation(e,this.tokenStart),name:t,children:o}}function Gr(e){this.token(Ae,":"),this.token(Ae,":"),null===e.children?this.token(de,e.name):(this.token(me,e.name+"("),this.children(e),this.token(qe,")"))}const Qr=47,Jr=46;function Kr(){this.skipSC();const e=this.consume(ve);for(let t=0;t<e.length;t++){const n=e.charCodeAt(t);Ue(n)||n===Jr||this.error("Unsigned number is expected",this.tokenStart-e.length+t)}return 0===Number(e)&&this.error("Zero number is not allowed",this.tokenStart-e.length),e}const Xr="Ratio",Yr={left:String,right:String};function Zr(){const e=this.tokenStart,t=Kr.call(this);let n;return this.skipSC(),this.eatDelim(Qr),n=Kr.call(this),{type:"Ratio",loc:this.getLocation(e,this.tokenStart),left:t,right:n}}function es(e){this.token(ve,e.left),this.token(be,"/"),this.token(ve,e.right)}function ts(){return this.tokenIndex>0&&this.lookupType(-1)===ke?this.tokenIndex>1?this.getTokenStart(this.tokenIndex-1):this.firstCharOffset:this.tokenStart}const ns="Raw",os={value:String};function as(e,t,n){const o=this.getTokenStart(e);let a;return this.skipUntilBalanced(e,t||this.consumeUntilBalanceEnd),a=n&&this.tokenStart>o?ts.call(this):this.tokenStart,{type:"Raw",loc:this.getLocation(o,a),value:this.substring(o,a)}}function is(e){this.tokenize(e.value)}function rs(e){return this.Raw(e,this.consumeUntilLeftCurlyBracket,!0)}function ss(){const e=this.SelectorList();return"Raw"!==e.type&&!1===this.eof&&this.tokenType!==Le&&this.error(),e}const cs="Rule",ls="rule",us={prelude:["SelectorList","Raw"],block:["Block"]};function ps(){const e=this.tokenIndex,t=this.tokenStart;let n,o;return n=this.parseRulePrelude?this.parseWithFallback(ss,rs):rs.call(this,e),o=this.Block(!0),{type:"Rule",loc:this.getLocation(t,this.tokenStart),prelude:n,block:o}}function ds(e){this.node(e.prelude),this.node(e.block)}const ms="Selector",hs={children:[["TypeSelector","IdSelector","ClassSelector","AttributeSelector","PseudoClassSelector","PseudoElementSelector","Combinator","WhiteSpace"]]};function gs(){const e=this.readSequence(this.scope.Selector);return null===this.getFirstListNode(e)&&this.error("Selector is expected"),{type:"Selector",loc:this.getLocationFromList(e),children:e}}function fs(e){this.children(e)}const xs="SelectorList",bs="selector",vs={children:[["Selector","Raw"]]};function ws(){const e=this.createList();for(;!this.eof&&(e.push(this.Selector()),this.tokenType===Me);)this.next();return{type:"SelectorList",loc:this.getLocationFromList(e),children:e}}function ys(e){this.children(e,()=>this.token(Me,","))}const ks=92,Ss=34,Ts=39;function As(e){const t=e.length,n=e.charCodeAt(0),o=n===Ss||n===Ts?1:0,a=1===o&&t>1&&e.charCodeAt(t-1)===n?t-2:t-1;let i="";for(let n=o;n<=a;n++){let o=e.charCodeAt(n);if(o===ks){if(n===a){n!==t-1&&(i=e.substr(n+1));break}if(o=e.charCodeAt(++n),$e(ks,o)){const t=n-1,o=ot(e,t);n=o-1,i+=st(e.substring(t+1,o))}else 13===o&&10===e.charCodeAt(n+1)&&n++}else i+=e[n]}return i}const Cs="String",Ms={value:String};function Ns(){return{type:"String",loc:this.getLocation(this.tokenStart,this.tokenEnd),value:As(this.consume(fe))}}function Es(e){this.token(fe,function(e){const t=Ss;let n="",o=!1;for(let a=0;a<e.length;a++){const i=e.charCodeAt(a);0!==i?i<=31||127===i?(n+="\\"+i.toString(16),o=!0):i===t||i===ks?(n+="\\"+e.charAt(a),o=!1):(o&&(ze(i)||Be(i))&&(n+=" "),n+=e.charAt(a),o=!1):n+="�"}return'"'+n+'"'}(e.value))}const Ps=33;function qs(e){return this.Raw(e,null,!1)}const Ls="StyleSheet",_s="stylesheet",Is={children:[["Comment","CDO","CDC","Atrule","Rule","Raw"]]};function js(){const e=this.tokenStart,t=this.createList();let n;for(;!this.eof;){switch(this.tokenType){case ke:this.next();continue;case Ie:if(this.charCodeAt(this.tokenStart+2)!==Ps){this.next();continue}n=this.Comment();break;case Se:n=this.CDO();break;case Te:n=this.CDC();break;case he:n=this.parseWithFallback(this.Atrule,qs);break;default:n=this.parseWithFallback(this.Rule,qs)}t.push(n)}return{type:"StyleSheet",loc:this.getLocation(e,this.tokenStart),children:t}}function Us(e){this.children(e)}const zs=42,Ds=124;function Os(){this.tokenType!==de&&!1===this.isDelim(zs)&&this.error("Identifier or asterisk is expected"),this.next()}const Hs="TypeSelector",Rs={name:String};function Vs(){const e=this.tokenStart;return this.isDelim(Ds)?(this.next(),Os.call(this)):(Os.call(this),this.isDelim(Ds)&&(this.next(),Os.call(this))),{type:"TypeSelector",loc:this.getLocation(e,this.tokenStart),name:this.substrToCursor(e)}}function Bs(e){this.tokenize(e.name)}const $s=43,Fs=45,Ws=63;function Gs(e,t){let n=0;for(let o=this.tokenStart+e;o<this.tokenEnd;o++){const a=this.charCodeAt(o);if(a===Fs&&t&&0!==n)return Gs.call(this,e+n+1,!1),-1;ze(a)||this.error(t&&0!==n?"Hyphen minus"+(n<6?" or hex digit":"")+" is expected":n<6?"Hex digit is expected":"Unexpected input",o),++n>6&&this.error("Too many hex digits",o)}return this.next(),n}function Qs(e){let t=0;for(;this.isDelim(Ws);)++t>e&&this.error("Too many question marks"),this.next()}function Js(e){this.charCodeAt(this.tokenStart)!==e&&this.error((e===$s?"Plus sign":"Hyphen minus")+" is expected")}function Ks(){let e=0;switch(this.tokenType){case ve:if(e=Gs.call(this,1,!0),this.isDelim(Ws)){Qs.call(this,6-e);break}if(this.tokenType===ye||this.tokenType===ve){Js.call(this,Fs),Gs.call(this,1,!1);break}break;case ye:e=Gs.call(this,1,!0),e>0&&Qs.call(this,6-e);break;default:if(this.eatDelim($s),this.tokenType===de){e=Gs.call(this,0,!0),e>0&&Qs.call(this,6-e);break}if(this.isDelim(Ws)){this.next(),Qs.call(this,5);break}this.error("Hex digit or question mark is expected")}}const Xs="UnicodeRange",Ys={value:String};function Zs(){const e=this.tokenStart;return this.eatIdent("u"),Ks.call(this),{type:"UnicodeRange",loc:this.getLocation(e,this.tokenStart),value:this.substrToCursor(e)}}function ec(e){this.tokenize(e.value)}const tc=32,nc=92,oc=34,ac=39,ic=40,rc=41,sc="Url",cc={value:String};function lc(){const e=this.tokenStart;let t;switch(this.tokenType){case xe:t=function(e){const t=e.length;let n=4,o=e.charCodeAt(t-1)===rc?t-2:t-1,a="";for(;n<o&&Be(e.charCodeAt(n));)n++;for(;n<o&&Be(e.charCodeAt(o));)o--;for(let i=n;i<=o;i++){let n=e.charCodeAt(i);if(n===nc){if(i===o){i!==t-1&&(a=e.substr(i+1));break}if(n=e.charCodeAt(++i),$e(nc,n)){const t=i-1,n=ot(e,t);i=n-1,a+=st(e.substring(t+1,n))}else 13===n&&10===e.charCodeAt(i+1)&&i++}else a+=e[i]}return a}(this.consume(xe));break;case me:this.cmpStr(this.tokenStart,this.tokenEnd,"url(")||this.error("Function name must be `url`"),this.eat(me),this.skipSC(),t=As(this.consume(fe)),this.skipSC(),this.eof||this.eat(qe);break;default:this.error("Url or Function is expected")}return{type:"Url",loc:this.getLocation(e,this.tokenStart),value:t}}function uc(e){this.token(xe,function(e){let t="",n=!1;for(let o=0;o<e.length;o++){const a=e.charCodeAt(o);0!==a?a<=31||127===a?(t+="\\"+a.toString(16),n=!0):a===tc||a===nc||a===oc||a===ac||a===ic||a===rc?(t+="\\"+e.charAt(o),n=!1):(n&&ze(a)&&(t+=" "),t+=e.charAt(o),n=!1):t+="�"}return"url("+t+")"}(e.value))}const pc="Value",dc={children:[[]]};function mc(){const e=this.tokenStart,t=this.readSequence(this.scope.Value);return{type:"Value",loc:this.getLocation(e,this.tokenStart),children:t}}function hc(e){this.children(e)}const gc=Object.freeze({type:"WhiteSpace",loc:null,value:" "}),fc="WhiteSpace",xc={value:String};function bc(){return this.eat(ke),gc}function vc(e){this.token(ke,e.value)}const wc={generic:!0,generic:!0,units:{angle:["deg","grad","rad","turn"],decibel:["db"],flex:["fr"],frequency:["hz","khz"],length:["cm","mm","q","in","pt","pc","px","em","rem","ex","rex","cap","rcap","ch","rch","ic","ric","lh","rlh","vw","svw","lvw","dvw","vh","svh","lvh","dvh","vi","svi","lvi","dvi","vb","svb","lvb","dvb","vmin","svmin","lvmin","dvmin","vmax","svmax","lvmax","dvmax","cqw","cqh","cqi","cqb","cqmin","cqmax"],resolution:["dpi","dpcm","dppx","x"],semitones:["st"],time:["s","ms"]},types:{"abs()":"abs( <calc-sum> )","absolute-size":"xx-small|x-small|small|medium|large|x-large|xx-large|xxx-large","acos()":"acos( <calc-sum> )","alpha-value":"<number>|<percentage>","angle-percentage":"<angle>|<percentage>","angular-color-hint":"<angle-percentage>","angular-color-stop":"<color>&&<color-stop-angle>?","angular-color-stop-list":"[<angular-color-stop> [, <angular-color-hint>]?]# , <angular-color-stop>","animateable-feature":"scroll-position|contents|<custom-ident>","asin()":"asin( <calc-sum> )","atan()":"atan( <calc-sum> )","atan2()":"atan2( <calc-sum> , <calc-sum> )",attachment:"scroll|fixed|local","attr()":"attr( <attr-name> <type-or-unit>? [, <attr-fallback>]? )","attr-matcher":"['~'|'|'|'^'|'$'|'*']? '='","attr-modifier":"i|s","attribute-selector":"'[' <wq-name> ']'|'[' <wq-name> <attr-matcher> [<string-token>|<ident-token>] <attr-modifier>? ']'","auto-repeat":"repeat( [auto-fill|auto-fit] , [<line-names>? <fixed-size>]+ <line-names>? )","auto-track-list":"[<line-names>? [<fixed-size>|<fixed-repeat>]]* <line-names>? <auto-repeat> [<line-names>? [<fixed-size>|<fixed-repeat>]]* <line-names>?",axis:"block|inline|vertical|horizontal","baseline-position":"[first|last]? baseline","basic-shape":"<inset()>|<circle()>|<ellipse()>|<polygon()>|<path()>","bg-image":"none|<image>","bg-layer":"<bg-image>||<bg-position> [/ <bg-size>]?||<repeat-style>||<attachment>||<box>||<box>","bg-position":"[[left|center|right|top|bottom|<length-percentage>]|[left|center|right|<length-percentage>] [top|center|bottom|<length-percentage>]|[center|[left|right] <length-percentage>?]&&[center|[top|bottom] <length-percentage>?]]","bg-size":"[<length-percentage>|auto]{1,2}|cover|contain","blur()":"blur( <length> )","blend-mode":"normal|multiply|screen|overlay|darken|lighten|color-dodge|color-burn|hard-light|soft-light|difference|exclusion|hue|saturation|color|luminosity",box:"border-box|padding-box|content-box","brightness()":"brightness( <number-percentage> )","calc()":"calc( <calc-sum> )","calc-sum":"<calc-product> [['+'|'-'] <calc-product>]*","calc-product":"<calc-value> ['*' <calc-value>|'/' <number>]*","calc-value":"<number>|<dimension>|<percentage>|<calc-constant>|( <calc-sum> )","calc-constant":"e|pi|infinity|-infinity|NaN","cf-final-image":"<image>|<color>","cf-mixing-image":"<percentage>?&&<image>","circle()":"circle( [<shape-radius>]? [at <position>]? )","clamp()":"clamp( <calc-sum>#{3} )","class-selector":"'.' <ident-token>","clip-source":"<url>",color:"<rgb()>|<rgba()>|<hsl()>|<hsla()>|<hwb()>|<lab()>|<lch()>|<hex-color>|<named-color>|currentcolor|<deprecated-system-color>","color-stop":"<color-stop-length>|<color-stop-angle>","color-stop-angle":"<angle-percentage>{1,2}","color-stop-length":"<length-percentage>{1,2}","color-stop-list":"[<linear-color-stop> [, <linear-color-hint>]?]# , <linear-color-stop>",combinator:"'>'|'+'|'~'|['||']","common-lig-values":"[common-ligatures|no-common-ligatures]","compat-auto":"searchfield|textarea|push-button|slider-horizontal|checkbox|radio|square-button|menulist|listbox|meter|progress-bar|button","composite-style":"clear|copy|source-over|source-in|source-out|source-atop|destination-over|destination-in|destination-out|destination-atop|xor","compositing-operator":"add|subtract|intersect|exclude","compound-selector":"[<type-selector>? <subclass-selector>* [<pseudo-element-selector> <pseudo-class-selector>*]*]!","compound-selector-list":"<compound-selector>#","complex-selector":"<compound-selector> [<combinator>? <compound-selector>]*","complex-selector-list":"<complex-selector>#","conic-gradient()":"conic-gradient( [from <angle>]? [at <position>]? , <angular-color-stop-list> )","contextual-alt-values":"[contextual|no-contextual]","content-distribution":"space-between|space-around|space-evenly|stretch","content-list":"[<string>|contents|<image>|<counter>|<quote>|<target>|<leader()>|<attr()>]+","content-position":"center|start|end|flex-start|flex-end","content-replacement":"<image>","contrast()":"contrast( [<number-percentage>] )","cos()":"cos( <calc-sum> )",counter:"<counter()>|<counters()>","counter()":"counter( <counter-name> , <counter-style>? )","counter-name":"<custom-ident>","counter-style":"<counter-style-name>|symbols( )","counter-style-name":"<custom-ident>","counters()":"counters( <counter-name> , <string> , <counter-style>? )","cross-fade()":"cross-fade( <cf-mixing-image> , <cf-final-image>? )","cubic-bezier-timing-function":"ease|ease-in|ease-out|ease-in-out|cubic-bezier( <number [0,1]> , <number> , <number [0,1]> , <number> )","deprecated-system-color":"ActiveBorder|ActiveCaption|AppWorkspace|Background|ButtonFace|ButtonHighlight|ButtonShadow|ButtonText|CaptionText|GrayText|Highlight|HighlightText|InactiveBorder|InactiveCaption|InactiveCaptionText|InfoBackground|InfoText|Menu|MenuText|Scrollbar|ThreeDDarkShadow|ThreeDFace|ThreeDHighlight|ThreeDLightShadow|ThreeDShadow|Window|WindowFrame|WindowText","discretionary-lig-values":"[discretionary-ligatures|no-discretionary-ligatures]","display-box":"contents|none","display-inside":"flow|flow-root|table|flex|grid|ruby","display-internal":"table-row-group|table-header-group|table-footer-group|table-row|table-cell|table-column-group|table-column|table-caption|ruby-base|ruby-text|ruby-base-container|ruby-text-container","display-legacy":"inline-block|inline-list-item|inline-table|inline-flex|inline-grid","display-listitem":"<display-outside>?&&[flow|flow-root]?&&list-item","display-outside":"block|inline|run-in","drop-shadow()":"drop-shadow( <length>{2,3} <color>? )","east-asian-variant-values":"[jis78|jis83|jis90|jis04|simplified|traditional]","east-asian-width-values":"[full-width|proportional-width]","element()":"element( <custom-ident> , [first|start|last|first-except]? )|element( <id-selector> )","ellipse()":"ellipse( [<shape-radius>{2}]? [at <position>]? )","ending-shape":"circle|ellipse","env()":"env( <custom-ident> , <declaration-value>? )","exp()":"exp( <calc-sum> )","explicit-track-list":"[<line-names>? <track-size>]+ <line-names>?","family-name":"<string>|<custom-ident>+","feature-tag-value":"<string> [<integer>|on|off]?","feature-type":"@stylistic|@historical-forms|@styleset|@character-variant|@swash|@ornaments|@annotation","feature-value-block":"<feature-type> '{' <feature-value-declaration-list> '}'","feature-value-block-list":"<feature-value-block>+","feature-value-declaration":"<custom-ident> : <integer>+ ;","feature-value-declaration-list":"<feature-value-declaration>","feature-value-name":"<custom-ident>","fill-rule":"nonzero|evenodd","filter-function":"<blur()>|<brightness()>|<contrast()>|<drop-shadow()>|<grayscale()>|<hue-rotate()>|<invert()>|<opacity()>|<saturate()>|<sepia()>","filter-function-list":"[<filter-function>|<url>]+","final-bg-layer":"<'background-color'>||<bg-image>||<bg-position> [/ <bg-size>]?||<repeat-style>||<attachment>||<box>||<box>","fixed-breadth":"<length-percentage>","fixed-repeat":"repeat( [<integer [1,∞]>] , [<line-names>? <fixed-size>]+ <line-names>? )","fixed-size":"<fixed-breadth>|minmax( <fixed-breadth> , <track-breadth> )|minmax( <inflexible-breadth> , <fixed-breadth> )","font-stretch-absolute":"normal|ultra-condensed|extra-condensed|condensed|semi-condensed|semi-expanded|expanded|extra-expanded|ultra-expanded|<percentage>","font-variant-css21":"[normal|small-caps]","font-weight-absolute":"normal|bold|<number [1,1000]>","frequency-percentage":"<frequency>|<percentage>","general-enclosed":"[<function-token> <any-value> )]|( <ident> <any-value> )","generic-family":"serif|sans-serif|cursive|fantasy|monospace|-apple-system","generic-name":"serif|sans-serif|cursive|fantasy|monospace","geometry-box":"<shape-box>|fill-box|stroke-box|view-box",gradient:"<linear-gradient()>|<repeating-linear-gradient()>|<radial-gradient()>|<repeating-radial-gradient()>|<conic-gradient()>|<repeating-conic-gradient()>|<-legacy-gradient>","grayscale()":"grayscale( <number-percentage> )","grid-line":"auto|<custom-ident>|[<integer>&&<custom-ident>?]|[span&&[<integer>||<custom-ident>]]","historical-lig-values":"[historical-ligatures|no-historical-ligatures]","hsl()":"hsl( <hue> <percentage> <percentage> [/ <alpha-value>]? )|hsl( <hue> , <percentage> , <percentage> , <alpha-value>? )","hsla()":"hsla( <hue> <percentage> <percentage> [/ <alpha-value>]? )|hsla( <hue> , <percentage> , <percentage> , <alpha-value>? )",hue:"<number>|<angle>","hue-rotate()":"hue-rotate( <angle> )","hwb()":"hwb( [<hue>|none] [<percentage>|none] [<percentage>|none] [/ [<alpha-value>|none]]? )","hypot()":"hypot( <calc-sum># )",image:"<url>|<image()>|<image-set()>|<element()>|<paint()>|<cross-fade()>|<gradient>","image()":"image( <image-tags>? [<image-src>? , <color>?]! )","image-set()":"image-set( <image-set-option># )","image-set-option":"[<image>|<string>] [<resolution>||type( <string> )]","image-src":"<url>|<string>","image-tags":"ltr|rtl","inflexible-breadth":"<length-percentage>|min-content|max-content|auto","inset()":"inset( <length-percentage>{1,4} [round <'border-radius'>]? )","invert()":"invert( <number-percentage> )","keyframes-name":"<custom-ident>|<string>","keyframe-block":"<keyframe-selector># { <declaration-list> }","keyframe-block-list":"<keyframe-block>+","keyframe-selector":"from|to|<percentage>","lab()":"lab( [<percentage>|<number>|none] [<percentage>|<number>|none] [<percentage>|<number>|none] [/ [<alpha-value>|none]]? )","layer()":"layer( <layer-name> )","layer-name":"<ident> ['.' <ident>]*","lch()":"lch( [<percentage>|<number>|none] [<percentage>|<number>|none] [<hue>|none] [/ [<alpha-value>|none]]? )","leader()":"leader( <leader-type> )","leader-type":"dotted|solid|space|<string>","length-percentage":"<length>|<percentage>","line-names":"'[' <custom-ident>* ']'","line-name-list":"[<line-names>|<name-repeat>]+","line-style":"none|hidden|dotted|dashed|solid|double|groove|ridge|inset|outset","line-width":"<length>|thin|medium|thick","linear-color-hint":"<length-percentage>","linear-color-stop":"<color> <color-stop-length>?","linear-gradient()":"linear-gradient( [<angle>|to <side-or-corner>]? , <color-stop-list> )","log()":"log( <calc-sum> , <calc-sum>? )","mask-layer":"<mask-reference>||<position> [/ <bg-size>]?||<repeat-style>||<geometry-box>||[<geometry-box>|no-clip]||<compositing-operator>||<masking-mode>","mask-position":"[<length-percentage>|left|center|right] [<length-percentage>|top|center|bottom]?","mask-reference":"none|<image>|<mask-source>","mask-source":"<url>","masking-mode":"alpha|luminance|match-source","matrix()":"matrix( <number>#{6} )","matrix3d()":"matrix3d( <number>#{16} )","max()":"max( <calc-sum># )","media-and":"<media-in-parens> [and <media-in-parens>]+","media-condition":"<media-not>|<media-and>|<media-or>|<media-in-parens>","media-condition-without-or":"<media-not>|<media-and>|<media-in-parens>","media-feature":"( [<mf-plain>|<mf-boolean>|<mf-range>] )","media-in-parens":"( <media-condition> )|<media-feature>|<general-enclosed>","media-not":"not <media-in-parens>","media-or":"<media-in-parens> [or <media-in-parens>]+","media-query":"<media-condition>|[not|only]? <media-type> [and <media-condition-without-or>]?","media-query-list":"<media-query>#","media-type":"<ident>","mf-boolean":"<mf-name>","mf-name":"<ident>","mf-plain":"<mf-name> : <mf-value>","mf-range":"<mf-name> ['<'|'>']? '='? <mf-value>|<mf-value> ['<'|'>']? '='? <mf-name>|<mf-value> '<' '='? <mf-name> '<' '='? <mf-value>|<mf-value> '>' '='? <mf-name> '>' '='? <mf-value>","mf-value":"<number>|<dimension>|<ident>|<ratio>","min()":"min( <calc-sum># )","minmax()":"minmax( [<length-percentage>|min-content|max-content|auto] , [<length-percentage>|<flex>|min-content|max-content|auto] )","mod()":"mod( <calc-sum> , <calc-sum> )","name-repeat":"repeat( [<integer [1,∞]>|auto-fill] , <line-names>+ )","named-color":"transparent|aliceblue|antiquewhite|aqua|aquamarine|azure|beige|bisque|black|blanchedalmond|blue|blueviolet|brown|burlywood|cadetblue|chartreuse|chocolate|coral|cornflowerblue|cornsilk|crimson|cyan|darkblue|darkcyan|darkgoldenrod|darkgray|darkgreen|darkgrey|darkkhaki|darkmagenta|darkolivegreen|darkorange|darkorchid|darkred|darksalmon|darkseagreen|darkslateblue|darkslategray|darkslategrey|darkturquoise|darkviolet|deeppink|deepskyblue|dimgray|dimgrey|dodgerblue|firebrick|floralwhite|forestgreen|fuchsia|gainsboro|ghostwhite|gold|goldenrod|gray|green|greenyellow|grey|honeydew|hotpink|indianred|indigo|ivory|khaki|lavender|lavenderblush|lawngreen|lemonchiffon|lightblue|lightcoral|lightcyan|lightgoldenrodyellow|lightgray|lightgreen|lightgrey|lightpink|lightsalmon|lightseagreen|lightskyblue|lightslategray|lightslategrey|lightsteelblue|lightyellow|lime|limegreen|linen|magenta|maroon|mediumaquamarine|mediumblue|mediumorchid|mediumpurple|mediumseagreen|mediumslateblue|mediumspringgreen|mediumturquoise|mediumvioletred|midnightblue|mintcream|mistyrose|moccasin|navajowhite|navy|oldlace|olive|olivedrab|orange|orangered|orchid|palegoldenrod|palegreen|paleturquoise|palevioletred|papayawhip|peachpuff|peru|pink|plum|powderblue|purple|rebeccapurple|red|rosybrown|royalblue|saddlebrown|salmon|sandybrown|seagreen|seashell|sienna|silver|skyblue|slateblue|slategray|slategrey|snow|springgreen|steelblue|tan|teal|thistle|tomato|turquoise|violet|wheat|white|whitesmoke|yellow|yellowgreen|<-non-standard-color>","namespace-prefix":"<ident>","ns-prefix":"[<ident-token>|'*']? '|'","number-percentage":"<number>|<percentage>","numeric-figure-values":"[lining-nums|oldstyle-nums]","numeric-fraction-values":"[diagonal-fractions|stacked-fractions]","numeric-spacing-values":"[proportional-nums|tabular-nums]",nth:"<an-plus-b>|even|odd","opacity()":"opacity( [<number-percentage>] )","overflow-position":"unsafe|safe","outline-radius":"<length>|<percentage>","page-body":"<declaration>? [; <page-body>]?|<page-margin-box> <page-body>","page-margin-box":"<page-margin-box-type> '{' <declaration-list> '}'","page-margin-box-type":"@top-left-corner|@top-left|@top-center|@top-right|@top-right-corner|@bottom-left-corner|@bottom-left|@bottom-center|@bottom-right|@bottom-right-corner|@left-top|@left-middle|@left-bottom|@right-top|@right-middle|@right-bottom","page-selector-list":"[<page-selector>#]?","page-selector":"<pseudo-page>+|<ident> <pseudo-page>*","page-size":"A5|A4|A3|B5|B4|JIS-B5|JIS-B4|letter|legal|ledger","path()":"path( [<fill-rule> ,]? <string> )","paint()":"paint( <ident> , <declaration-value>? )","perspective()":"perspective( [<length [0,∞]>|none] )","polygon()":"polygon( <fill-rule>? , [<length-percentage> <length-percentage>]# )",position:"[[left|center|right]||[top|center|bottom]|[left|center|right|<length-percentage>] [top|center|bottom|<length-percentage>]?|[[left|right] <length-percentage>]&&[[top|bottom] <length-percentage>]]","pow()":"pow( <calc-sum> , <calc-sum> )","pseudo-class-selector":"':' <ident-token>|':' <function-token> <any-value> ')'","pseudo-element-selector":"':' <pseudo-class-selector>","pseudo-page":": [left|right|first|blank]",quote:"open-quote|close-quote|no-open-quote|no-close-quote","radial-gradient()":"radial-gradient( [<ending-shape>||<size>]? [at <position>]? , <color-stop-list> )",ratio:"<number [0,∞]> [/ <number [0,∞]>]?","relative-selector":"<combinator>? <complex-selector>","relative-selector-list":"<relative-selector>#","relative-size":"larger|smaller","rem()":"rem( <calc-sum> , <calc-sum> )","repeat-style":"repeat-x|repeat-y|[repeat|space|round|no-repeat]{1,2}","repeating-conic-gradient()":"repeating-conic-gradient( [from <angle>]? [at <position>]? , <angular-color-stop-list> )","repeating-linear-gradient()":"repeating-linear-gradient( [<angle>|to <side-or-corner>]? , <color-stop-list> )","repeating-radial-gradient()":"repeating-radial-gradient( [<ending-shape>||<size>]? [at <position>]? , <color-stop-list> )","reversed-counter-name":"reversed( <counter-name> )","rgb()":"rgb( <percentage>{3} [/ <alpha-value>]? )|rgb( <number>{3} [/ <alpha-value>]? )|rgb( <percentage>#{3} , <alpha-value>? )|rgb( <number>#{3} , <alpha-value>? )","rgba()":"rgba( <percentage>{3} [/ <alpha-value>]? )|rgba( <number>{3} [/ <alpha-value>]? )|rgba( <percentage>#{3} , <alpha-value>? )|rgba( <number>#{3} , <alpha-value>? )","rotate()":"rotate( [<angle>|<zero>] )","rotate3d()":"rotate3d( <number> , <number> , <number> , [<angle>|<zero>] )","rotateX()":"rotateX( [<angle>|<zero>] )","rotateY()":"rotateY( [<angle>|<zero>] )","rotateZ()":"rotateZ( [<angle>|<zero>] )","round()":"round( <rounding-strategy>? , <calc-sum> , <calc-sum> )","rounding-strategy":"nearest|up|down|to-zero","saturate()":"saturate( <number-percentage> )","scale()":"scale( [<number>|<percentage>]#{1,2} )","scale3d()":"scale3d( [<number>|<percentage>]#{3} )","scaleX()":"scaleX( [<number>|<percentage>] )","scaleY()":"scaleY( [<number>|<percentage>] )","scaleZ()":"scaleZ( [<number>|<percentage>] )",scroller:"root|nearest","self-position":"center|start|end|self-start|self-end|flex-start|flex-end","shape-radius":"<length-percentage>|closest-side|farthest-side","sign()":"sign( <calc-sum> )","skew()":"skew( [<angle>|<zero>] , [<angle>|<zero>]? )","skewX()":"skewX( [<angle>|<zero>] )","skewY()":"skewY( [<angle>|<zero>] )","sepia()":"sepia( <number-percentage> )",shadow:"inset?&&<length>{2,4}&&<color>?","shadow-t":"[<length>{2,3}&&<color>?]",shape:"rect( <top> , <right> , <bottom> , <left> )|rect( <top> <right> <bottom> <left> )","shape-box":"<box>|margin-box","side-or-corner":"[left|right]||[top|bottom]","sin()":"sin( <calc-sum> )","single-animation":"<time>||<easing-function>||<time>||<single-animation-iteration-count>||<single-animation-direction>||<single-animation-fill-mode>||<single-animation-play-state>||[none|<keyframes-name>]","single-animation-direction":"normal|reverse|alternate|alternate-reverse","single-animation-fill-mode":"none|forwards|backwards|both","single-animation-iteration-count":"infinite|<number>","single-animation-play-state":"running|paused","single-animation-timeline":"auto|none|<timeline-name>|scroll( <axis>? <scroller>? )","single-transition":"[none|<single-transition-property>]||<time>||<easing-function>||<time>","single-transition-property":"all|<custom-ident>",size:"closest-side|farthest-side|closest-corner|farthest-corner|<length>|<length-percentage>{2}","sqrt()":"sqrt( <calc-sum> )","step-position":"jump-start|jump-end|jump-none|jump-both|start|end","step-timing-function":"step-start|step-end|steps( <integer> [, <step-position>]? )","subclass-selector":"<id-selector>|<class-selector>|<attribute-selector>|<pseudo-class-selector>","supports-condition":"not <supports-in-parens>|<supports-in-parens> [and <supports-in-parens>]*|<supports-in-parens> [or <supports-in-parens>]*","supports-in-parens":"( <supports-condition> )|<supports-feature>|<general-enclosed>","supports-feature":"<supports-decl>|<supports-selector-fn>","supports-decl":"( <declaration> )","supports-selector-fn":"selector( <complex-selector> )",symbol:"<string>|<image>|<custom-ident>","tan()":"tan( <calc-sum> )",target:"<target-counter()>|<target-counters()>|<target-text()>","target-counter()":"target-counter( [<string>|<url>] , <custom-ident> , <counter-style>? )","target-counters()":"target-counters( [<string>|<url>] , <custom-ident> , <string> , <counter-style>? )","target-text()":"target-text( [<string>|<url>] , [content|before|after|first-letter]? )","time-percentage":"<time>|<percentage>","timeline-name":"<custom-ident>|<string>","easing-function":"linear|<cubic-bezier-timing-function>|<step-timing-function>","track-breadth":"<length-percentage>|<flex>|min-content|max-content|auto","track-list":"[<line-names>? [<track-size>|<track-repeat>]]+ <line-names>?","track-repeat":"repeat( [<integer [1,∞]>] , [<line-names>? <track-size>]+ <line-names>? )","track-size":"<track-breadth>|minmax( <inflexible-breadth> , <track-breadth> )|fit-content( <length-percentage> )","transform-function":"<matrix()>|<translate()>|<translateX()>|<translateY()>|<scale()>|<scaleX()>|<scaleY()>|<rotate()>|<skew()>|<skewX()>|<skewY()>|<matrix3d()>|<translate3d()>|<translateZ()>|<scale3d()>|<scaleZ()>|<rotate3d()>|<rotateX()>|<rotateY()>|<rotateZ()>|<perspective()>","transform-list":"<transform-function>+","translate()":"translate( <length-percentage> , <length-percentage>? )","translate3d()":"translate3d( <length-percentage> , <length-percentage> , <length> )","translateX()":"translateX( <length-percentage> )","translateY()":"translateY( <length-percentage> )","translateZ()":"translateZ( <length> )","type-or-unit":"string|color|url|integer|number|length|angle|time|frequency|cap|ch|em|ex|ic|lh|rlh|rem|vb|vi|vw|vh|vmin|vmax|mm|Q|cm|in|pt|pc|px|deg|grad|rad|turn|ms|s|Hz|kHz|%","type-selector":"<wq-name>|<ns-prefix>? '*'","var()":"var( <custom-property-name> , <declaration-value>? )","viewport-length":"auto|<length-percentage>","visual-box":"content-box|padding-box|border-box","wq-name":"<ns-prefix>? <ident-token>","-legacy-gradient":"<-webkit-gradient()>|<-legacy-linear-gradient>|<-legacy-repeating-linear-gradient>|<-legacy-radial-gradient>|<-legacy-repeating-radial-gradient>","-legacy-linear-gradient":"-moz-linear-gradient( <-legacy-linear-gradient-arguments> )|-webkit-linear-gradient( <-legacy-linear-gradient-arguments> )|-o-linear-gradient( <-legacy-linear-gradient-arguments> )","-legacy-repeating-linear-gradient":"-moz-repeating-linear-gradient( <-legacy-linear-gradient-arguments> )|-webkit-repeating-linear-gradient( <-legacy-linear-gradient-arguments> )|-o-repeating-linear-gradient( <-legacy-linear-gradient-arguments> )","-legacy-linear-gradient-arguments":"[<angle>|<side-or-corner>]? , <color-stop-list>","-legacy-radial-gradient":"-moz-radial-gradient( <-legacy-radial-gradient-arguments> )|-webkit-radial-gradient( <-legacy-radial-gradient-arguments> )|-o-radial-gradient( <-legacy-radial-gradient-arguments> )","-legacy-repeating-radial-gradient":"-moz-repeating-radial-gradient( <-legacy-radial-gradient-arguments> )|-webkit-repeating-radial-gradient( <-legacy-radial-gradient-arguments> )|-o-repeating-radial-gradient( <-legacy-radial-gradient-arguments> )","-legacy-radial-gradient-arguments":"[<position> ,]? [[[<-legacy-radial-gradient-shape>||<-legacy-radial-gradient-size>]|[<length>|<percentage>]{2}] ,]? <color-stop-list>","-legacy-radial-gradient-size":"closest-side|closest-corner|farthest-side|farthest-corner|contain|cover","-legacy-radial-gradient-shape":"circle|ellipse","-non-standard-font":"-apple-system-body|-apple-system-headline|-apple-system-subheadline|-apple-system-caption1|-apple-system-caption2|-apple-system-footnote|-apple-system-short-body|-apple-system-short-headline|-apple-system-short-subheadline|-apple-system-short-caption1|-apple-system-short-footnote|-apple-system-tall-body","-non-standard-color":"-moz-ButtonDefault|-moz-ButtonHoverFace|-moz-ButtonHoverText|-moz-CellHighlight|-moz-CellHighlightText|-moz-Combobox|-moz-ComboboxText|-moz-Dialog|-moz-DialogText|-moz-dragtargetzone|-moz-EvenTreeRow|-moz-Field|-moz-FieldText|-moz-html-CellHighlight|-moz-html-CellHighlightText|-moz-mac-accentdarkestshadow|-moz-mac-accentdarkshadow|-moz-mac-accentface|-moz-mac-accentlightesthighlight|-moz-mac-accentlightshadow|-moz-mac-accentregularhighlight|-moz-mac-accentregularshadow|-moz-mac-chrome-active|-moz-mac-chrome-inactive|-moz-mac-focusring|-moz-mac-menuselect|-moz-mac-menushadow|-moz-mac-menutextselect|-moz-MenuHover|-moz-MenuHoverText|-moz-MenuBarText|-moz-MenuBarHoverText|-moz-nativehyperlinktext|-moz-OddTreeRow|-moz-win-communicationstext|-moz-win-mediatext|-moz-activehyperlinktext|-moz-default-background-color|-moz-default-color|-moz-hyperlinktext|-moz-visitedhyperlinktext|-webkit-activelink|-webkit-focus-ring-color|-webkit-link|-webkit-text","-non-standard-image-rendering":"optimize-contrast|-moz-crisp-edges|-o-crisp-edges|-webkit-optimize-contrast","-non-standard-overflow":"-moz-scrollbars-none|-moz-scrollbars-horizontal|-moz-scrollbars-vertical|-moz-hidden-unscrollable","-non-standard-width":"fill-available|min-intrinsic|intrinsic|-moz-available|-moz-fit-content|-moz-min-content|-moz-max-content|-webkit-min-content|-webkit-max-content","-webkit-gradient()":"-webkit-gradient( <-webkit-gradient-type> , <-webkit-gradient-point> [, <-webkit-gradient-point>|, <-webkit-gradient-radius> , <-webkit-gradient-point>] [, <-webkit-gradient-radius>]? [, <-webkit-gradient-color-stop>]* )","-webkit-gradient-color-stop":"from( <color> )|color-stop( [<number-zero-one>|<percentage>] , <color> )|to( <color> )","-webkit-gradient-point":"[left|center|right|<length-percentage>] [top|center|bottom|<length-percentage>]","-webkit-gradient-radius":"<length>|<percentage>","-webkit-gradient-type":"linear|radial","-webkit-mask-box-repeat":"repeat|stretch|round","-webkit-mask-clip-style":"border|border-box|padding|padding-box|content|content-box|text","-ms-filter-function-list":"<-ms-filter-function>+","-ms-filter-function":"<-ms-filter-function-progid>|<-ms-filter-function-legacy>","-ms-filter-function-progid":"'progid:' [<ident-token> '.']* [<ident-token>|<function-token> <any-value>? )]","-ms-filter-function-legacy":"<ident-token>|<function-token> <any-value>? )","-ms-filter":"<string>",age:"child|young|old","attr-name":"<wq-name>","attr-fallback":"<any-value>","bg-clip":"<box>|border|text",bottom:"<length>|auto","generic-voice":"[<age>? <gender> <integer>?]",gender:"male|female|neutral",left:"<length>|auto","mask-image":"<mask-reference>#",paint:"none|<color>|<url> [none|<color>]?|context-fill|context-stroke",right:"<length>|auto","scroll-timeline-axis":"block|inline|vertical|horizontal","scroll-timeline-name":"none|<custom-ident>","single-animation-composition":"replace|add|accumulate","svg-length":"<percentage>|<length>|<number>","svg-writing-mode":"lr-tb|rl-tb|tb-rl|lr|rl|tb",top:"<length>|auto",x:"<number>",y:"<number>",declaration:"<ident-token> : <declaration-value>? ['!' important]?","declaration-list":"[<declaration>? ';']* <declaration>?",url:"url( <string> <url-modifier>* )|<url-token>","url-modifier":"<ident>|<function-token> <any-value> )","number-zero-one":"<number [0,1]>","number-one-or-greater":"<number [1,∞]>","-non-standard-display":"-ms-inline-flexbox|-ms-grid|-ms-inline-grid|-webkit-flex|-webkit-inline-flex|-webkit-box|-webkit-inline-box|-moz-inline-stack|-moz-box|-moz-inline-box"},properties:{"--*":"<declaration-value>","-ms-accelerator":"false|true","-ms-block-progression":"tb|rl|bt|lr","-ms-content-zoom-chaining":"none|chained","-ms-content-zooming":"none|zoom","-ms-content-zoom-limit":"<'-ms-content-zoom-limit-min'> <'-ms-content-zoom-limit-max'>","-ms-content-zoom-limit-max":"<percentage>","-ms-content-zoom-limit-min":"<percentage>","-ms-content-zoom-snap":"<'-ms-content-zoom-snap-type'>||<'-ms-content-zoom-snap-points'>","-ms-content-zoom-snap-points":"snapInterval( <percentage> , <percentage> )|snapList( <percentage># )","-ms-content-zoom-snap-type":"none|proximity|mandatory","-ms-filter":"<string>","-ms-flow-from":"[none|<custom-ident>]#","-ms-flow-into":"[none|<custom-ident>]#","-ms-grid-columns":"none|<track-list>|<auto-track-list>","-ms-grid-rows":"none|<track-list>|<auto-track-list>","-ms-high-contrast-adjust":"auto|none","-ms-hyphenate-limit-chars":"auto|<integer>{1,3}","-ms-hyphenate-limit-lines":"no-limit|<integer>","-ms-hyphenate-limit-zone":"<percentage>|<length>","-ms-ime-align":"auto|after","-ms-overflow-style":"auto|none|scrollbar|-ms-autohiding-scrollbar","-ms-scrollbar-3dlight-color":"<color>","-ms-scrollbar-arrow-color":"<color>","-ms-scrollbar-base-color":"<color>","-ms-scrollbar-darkshadow-color":"<color>","-ms-scrollbar-face-color":"<color>","-ms-scrollbar-highlight-color":"<color>","-ms-scrollbar-shadow-color":"<color>","-ms-scrollbar-track-color":"<color>","-ms-scroll-chaining":"chained|none","-ms-scroll-limit":"<'-ms-scroll-limit-x-min'> <'-ms-scroll-limit-y-min'> <'-ms-scroll-limit-x-max'> <'-ms-scroll-limit-y-max'>","-ms-scroll-limit-x-max":"auto|<length>","-ms-scroll-limit-x-min":"<length>","-ms-scroll-limit-y-max":"auto|<length>","-ms-scroll-limit-y-min":"<length>","-ms-scroll-rails":"none|railed","-ms-scroll-snap-points-x":"snapInterval( <length-percentage> , <length-percentage> )|snapList( <length-percentage># )","-ms-scroll-snap-points-y":"snapInterval( <length-percentage> , <length-percentage> )|snapList( <length-percentage># )","-ms-scroll-snap-type":"none|proximity|mandatory","-ms-scroll-snap-x":"<'-ms-scroll-snap-type'> <'-ms-scroll-snap-points-x'>","-ms-scroll-snap-y":"<'-ms-scroll-snap-type'> <'-ms-scroll-snap-points-y'>","-ms-scroll-translation":"none|vertical-to-horizontal","-ms-text-autospace":"none|ideograph-alpha|ideograph-numeric|ideograph-parenthesis|ideograph-space","-ms-touch-select":"grippers|none","-ms-user-select":"none|element|text","-ms-wrap-flow":"auto|both|start|end|maximum|clear","-ms-wrap-margin":"<length>","-ms-wrap-through":"wrap|none","-moz-appearance":"none|button|button-arrow-down|button-arrow-next|button-arrow-previous|button-arrow-up|button-bevel|button-focus|caret|checkbox|checkbox-container|checkbox-label|checkmenuitem|dualbutton|groupbox|listbox|listitem|menuarrow|menubar|menucheckbox|menuimage|menuitem|menuitemtext|menulist|menulist-button|menulist-text|menulist-textfield|menupopup|menuradio|menuseparator|meterbar|meterchunk|progressbar|progressbar-vertical|progresschunk|progresschunk-vertical|radio|radio-container|radio-label|radiomenuitem|range|range-thumb|resizer|resizerpanel|scale-horizontal|scalethumbend|scalethumb-horizontal|scalethumbstart|scalethumbtick|scalethumb-vertical|scale-vertical|scrollbarbutton-down|scrollbarbutton-left|scrollbarbutton-right|scrollbarbutton-up|scrollbarthumb-horizontal|scrollbarthumb-vertical|scrollbartrack-horizontal|scrollbartrack-vertical|searchfield|separator|sheet|spinner|spinner-downbutton|spinner-textfield|spinner-upbutton|splitter|statusbar|statusbarpanel|tab|tabpanel|tabpanels|tab-scroll-arrow-back|tab-scroll-arrow-forward|textfield|textfield-multiline|toolbar|toolbarbutton|toolbarbutton-dropdown|toolbargripper|toolbox|tooltip|treeheader|treeheadercell|treeheadersortarrow|treeitem|treeline|treetwisty|treetwistyopen|treeview|-moz-mac-unified-toolbar|-moz-win-borderless-glass|-moz-win-browsertabbar-toolbox|-moz-win-communicationstext|-moz-win-communications-toolbox|-moz-win-exclude-glass|-moz-win-glass|-moz-win-mediatext|-moz-win-media-toolbox|-moz-window-button-box|-moz-window-button-box-maximized|-moz-window-button-close|-moz-window-button-maximize|-moz-window-button-minimize|-moz-window-button-restore|-moz-window-frame-bottom|-moz-window-frame-left|-moz-window-frame-right|-moz-window-titlebar|-moz-window-titlebar-maximized","-moz-binding":"<url>|none","-moz-border-bottom-colors":"<color>+|none","-moz-border-left-colors":"<color>+|none","-moz-border-right-colors":"<color>+|none","-moz-border-top-colors":"<color>+|none","-moz-context-properties":"none|[fill|fill-opacity|stroke|stroke-opacity]#","-moz-float-edge":"border-box|content-box|margin-box|padding-box","-moz-force-broken-image-icon":"0|1","-moz-image-region":"<shape>|auto","-moz-orient":"inline|block|horizontal|vertical","-moz-outline-radius":"<outline-radius>{1,4} [/ <outline-radius>{1,4}]?","-moz-outline-radius-bottomleft":"<outline-radius>","-moz-outline-radius-bottomright":"<outline-radius>","-moz-outline-radius-topleft":"<outline-radius>","-moz-outline-radius-topright":"<outline-radius>","-moz-stack-sizing":"ignore|stretch-to-fit","-moz-text-blink":"none|blink","-moz-user-focus":"ignore|normal|select-after|select-before|select-menu|select-same|select-all|none","-moz-user-input":"auto|none|enabled|disabled","-moz-user-modify":"read-only|read-write|write-only","-moz-window-dragging":"drag|no-drag","-moz-window-shadow":"default|menu|tooltip|sheet|none","-webkit-appearance":"none|button|button-bevel|caps-lock-indicator|caret|checkbox|default-button|inner-spin-button|listbox|listitem|media-controls-background|media-controls-fullscreen-background|media-current-time-display|media-enter-fullscreen-button|media-exit-fullscreen-button|media-fullscreen-button|media-mute-button|media-overlay-play-button|media-play-button|media-seek-back-button|media-seek-forward-button|media-slider|media-sliderthumb|media-time-remaining-display|media-toggle-closed-captions-button|media-volume-slider|media-volume-slider-container|media-volume-sliderthumb|menulist|menulist-button|menulist-text|menulist-textfield|meter|progress-bar|progress-bar-value|push-button|radio|scrollbarbutton-down|scrollbarbutton-left|scrollbarbutton-right|scrollbarbutton-up|scrollbargripper-horizontal|scrollbargripper-vertical|scrollbarthumb-horizontal|scrollbarthumb-vertical|scrollbartrack-horizontal|scrollbartrack-vertical|searchfield|searchfield-cancel-button|searchfield-decoration|searchfield-results-button|searchfield-results-decoration|slider-horizontal|slider-vertical|sliderthumb-horizontal|sliderthumb-vertical|square-button|textarea|textfield|-apple-pay-button","-webkit-border-before":"<'border-width'>||<'border-style'>||<color>","-webkit-border-before-color":"<color>","-webkit-border-before-style":"<'border-style'>","-webkit-border-before-width":"<'border-width'>","-webkit-box-reflect":"[above|below|right|left]? <length>? <image>?","-webkit-line-clamp":"none|<integer>","-webkit-mask":"[<mask-reference>||<position> [/ <bg-size>]?||<repeat-style>||[<box>|border|padding|content|text]||[<box>|border|padding|content]]#","-webkit-mask-attachment":"<attachment>#","-webkit-mask-clip":"[<box>|border|padding|content|text]#","-webkit-mask-composite":"<composite-style>#","-webkit-mask-image":"<mask-reference>#","-webkit-mask-origin":"[<box>|border|padding|content]#","-webkit-mask-position":"<position>#","-webkit-mask-position-x":"[<length-percentage>|left|center|right]#","-webkit-mask-position-y":"[<length-percentage>|top|center|bottom]#","-webkit-mask-repeat":"<repeat-style>#","-webkit-mask-repeat-x":"repeat|no-repeat|space|round","-webkit-mask-repeat-y":"repeat|no-repeat|space|round","-webkit-mask-size":"<bg-size>#","-webkit-overflow-scrolling":"auto|touch","-webkit-tap-highlight-color":"<color>","-webkit-text-fill-color":"<color>","-webkit-text-stroke":"<length>||<color>","-webkit-text-stroke-color":"<color>","-webkit-text-stroke-width":"<length>","-webkit-touch-callout":"default|none","-webkit-user-modify":"read-only|read-write|read-write-plaintext-only","accent-color":"auto|<color>","align-content":"normal|<baseline-position>|<content-distribution>|<overflow-position>? <content-position>","align-items":"normal|stretch|<baseline-position>|[<overflow-position>? <self-position>]","align-self":"auto|normal|stretch|<baseline-position>|<overflow-position>? <self-position>","align-tracks":"[normal|<baseline-position>|<content-distribution>|<overflow-position>? <content-position>]#",all:"initial|inherit|unset|revert|revert-layer",animation:"<single-animation>#","animation-composition":"<single-animation-composition>#","animation-delay":"<time>#","animation-direction":"<single-animation-direction>#","animation-duration":"<time>#","animation-fill-mode":"<single-animation-fill-mode>#","animation-iteration-count":"<single-animation-iteration-count>#","animation-name":"[none|<keyframes-name>]#","animation-play-state":"<single-animation-play-state>#","animation-timing-function":"<easing-function>#","animation-timeline":"<single-animation-timeline>#",appearance:"none|auto|textfield|menulist-button|<compat-auto>","aspect-ratio":"auto|<ratio>",azimuth:"<angle>|[[left-side|far-left|left|center-left|center|center-right|right|far-right|right-side]||behind]|leftwards|rightwards","backdrop-filter":"none|<filter-function-list>","backface-visibility":"visible|hidden",background:"[<bg-layer> ,]* <final-bg-layer>","background-attachment":"<attachment>#","background-blend-mode":"<blend-mode>#","background-clip":"<bg-clip>#","background-color":"<color>","background-image":"<bg-image>#","background-origin":"<box>#","background-position":"<bg-position>#","background-position-x":"[center|[[left|right|x-start|x-end]? <length-percentage>?]!]#","background-position-y":"[center|[[top|bottom|y-start|y-end]? <length-percentage>?]!]#","background-repeat":"<repeat-style>#","background-size":"<bg-size>#","block-overflow":"clip|ellipsis|<string>","block-size":"<'width'>",border:"<line-width>||<line-style>||<color>","border-block":"<'border-top-width'>||<'border-top-style'>||<color>","border-block-color":"<'border-top-color'>{1,2}","border-block-style":"<'border-top-style'>","border-block-width":"<'border-top-width'>","border-block-end":"<'border-top-width'>||<'border-top-style'>||<color>","border-block-end-color":"<'border-top-color'>","border-block-end-style":"<'border-top-style'>","border-block-end-width":"<'border-top-width'>","border-block-start":"<'border-top-width'>||<'border-top-style'>||<color>","border-block-start-color":"<'border-top-color'>","border-block-start-style":"<'border-top-style'>","border-block-start-width":"<'border-top-width'>","border-bottom":"<line-width>||<line-style>||<color>","border-bottom-color":"<'border-top-color'>","border-bottom-left-radius":"<length-percentage>{1,2}","border-bottom-right-radius":"<length-percentage>{1,2}","border-bottom-style":"<line-style>","border-bottom-width":"<line-width>","border-collapse":"collapse|separate","border-color":"<color>{1,4}","border-end-end-radius":"<length-percentage>{1,2}","border-end-start-radius":"<length-percentage>{1,2}","border-image":"<'border-image-source'>||<'border-image-slice'> [/ <'border-image-width'>|/ <'border-image-width'>? / <'border-image-outset'>]?||<'border-image-repeat'>","border-image-outset":"[<length>|<number>]{1,4}","border-image-repeat":"[stretch|repeat|round|space]{1,2}","border-image-slice":"<number-percentage>{1,4}&&fill?","border-image-source":"none|<image>","border-image-width":"[<length-percentage>|<number>|auto]{1,4}","border-inline":"<'border-top-width'>||<'border-top-style'>||<color>","border-inline-end":"<'border-top-width'>||<'border-top-style'>||<color>","border-inline-color":"<'border-top-color'>{1,2}","border-inline-style":"<'border-top-style'>","border-inline-width":"<'border-top-width'>","border-inline-end-color":"<'border-top-color'>","border-inline-end-style":"<'border-top-style'>","border-inline-end-width":"<'border-top-width'>","border-inline-start":"<'border-top-width'>||<'border-top-style'>||<color>","border-inline-start-color":"<'border-top-color'>","border-inline-start-style":"<'border-top-style'>","border-inline-start-width":"<'border-top-width'>","border-left":"<line-width>||<line-style>||<color>","border-left-color":"<color>","border-left-style":"<line-style>","border-left-width":"<line-width>","border-radius":"<length-percentage>{1,4} [/ <length-percentage>{1,4}]?","border-right":"<line-width>||<line-style>||<color>","border-right-color":"<color>","border-right-style":"<line-style>","border-right-width":"<line-width>","border-spacing":"<length> <length>?","border-start-end-radius":"<length-percentage>{1,2}","border-start-start-radius":"<length-percentage>{1,2}","border-style":"<line-style>{1,4}","border-top":"<line-width>||<line-style>||<color>","border-top-color":"<color>","border-top-left-radius":"<length-percentage>{1,2}","border-top-right-radius":"<length-percentage>{1,2}","border-top-style":"<line-style>","border-top-width":"<line-width>","border-width":"<line-width>{1,4}",bottom:"<length>|<percentage>|auto","box-align":"start|center|end|baseline|stretch","box-decoration-break":"slice|clone","box-direction":"normal|reverse|inherit","box-flex":"<number>","box-flex-group":"<integer>","box-lines":"single|multiple","box-ordinal-group":"<integer>","box-orient":"horizontal|vertical|inline-axis|block-axis|inherit","box-pack":"start|center|end|justify","box-shadow":"none|<shadow>#","box-sizing":"content-box|border-box","break-after":"auto|avoid|always|all|avoid-page|page|left|right|recto|verso|avoid-column|column|avoid-region|region","break-before":"auto|avoid|always|all|avoid-page|page|left|right|recto|verso|avoid-column|column|avoid-region|region","break-inside":"auto|avoid|avoid-page|avoid-column|avoid-region","caption-side":"top|bottom|block-start|block-end|inline-start|inline-end",caret:"<'caret-color'>||<'caret-shape'>","caret-color":"auto|<color>","caret-shape":"auto|bar|block|underscore",clear:"none|left|right|both|inline-start|inline-end",clip:"<shape>|auto","clip-path":"<clip-source>|[<basic-shape>||<geometry-box>]|none",color:"<color>","print-color-adjust":"economy|exact","color-scheme":"normal|[light|dark|<custom-ident>]+&&only?","column-count":"<integer>|auto","column-fill":"auto|balance|balance-all","column-gap":"normal|<length-percentage>","column-rule":"<'column-rule-width'>||<'column-rule-style'>||<'column-rule-color'>","column-rule-color":"<color>","column-rule-style":"<'border-style'>","column-rule-width":"<'border-width'>","column-span":"none|all","column-width":"<length>|auto",columns:"<'column-width'>||<'column-count'>",contain:"none|strict|content|[[size||inline-size]||layout||style||paint]","contain-intrinsic-size":"[none|<length>|auto <length>]{1,2}","contain-intrinsic-block-size":"none|<length>|auto <length>","contain-intrinsic-height":"none|<length>|auto <length>","contain-intrinsic-inline-size":"none|<length>|auto <length>","contain-intrinsic-width":"none|<length>|auto <length>",content:"normal|none|[<content-replacement>|<content-list>] [/ [<string>|<counter>]+]?","content-visibility":"visible|auto|hidden","counter-increment":"[<counter-name> <integer>?]+|none","counter-reset":"[<counter-name> <integer>?|<reversed-counter-name> <integer>?]+|none","counter-set":"[<counter-name> <integer>?]+|none",cursor:"[[<url> [<x> <y>]? ,]* [auto|default|none|context-menu|help|pointer|progress|wait|cell|crosshair|text|vertical-text|alias|copy|move|no-drop|not-allowed|e-resize|n-resize|ne-resize|nw-resize|s-resize|se-resize|sw-resize|w-resize|ew-resize|ns-resize|nesw-resize|nwse-resize|col-resize|row-resize|all-scroll|zoom-in|zoom-out|grab|grabbing|hand|-webkit-grab|-webkit-grabbing|-webkit-zoom-in|-webkit-zoom-out|-moz-grab|-moz-grabbing|-moz-zoom-in|-moz-zoom-out]]",direction:"ltr|rtl",display:"[<display-outside>||<display-inside>]|<display-listitem>|<display-internal>|<display-box>|<display-legacy>|<-non-standard-display>","empty-cells":"show|hide",filter:"none|<filter-function-list>|<-ms-filter-function-list>",flex:"none|[<'flex-grow'> <'flex-shrink'>?||<'flex-basis'>]","flex-basis":"content|<'width'>","flex-direction":"row|row-reverse|column|column-reverse","flex-flow":"<'flex-direction'>||<'flex-wrap'>","flex-grow":"<number>","flex-shrink":"<number>","flex-wrap":"nowrap|wrap|wrap-reverse",float:"left|right|none|inline-start|inline-end",font:"[[<'font-style'>||<font-variant-css21>||<'font-weight'>||<'font-stretch'>]? <'font-size'> [/ <'line-height'>]? <'font-family'>]|caption|icon|menu|message-box|small-caption|status-bar","font-family":"[<family-name>|<generic-family>]#","font-feature-settings":"normal|<feature-tag-value>#","font-kerning":"auto|normal|none","font-language-override":"normal|<string>","font-optical-sizing":"auto|none","font-variation-settings":"normal|[<string> <number>]#","font-size":"<absolute-size>|<relative-size>|<length-percentage>","font-size-adjust":"none|[ex-height|cap-height|ch-width|ic-width|ic-height]? [from-font|<number>]","font-smooth":"auto|never|always|<absolute-size>|<length>","font-stretch":"<font-stretch-absolute>","font-style":"normal|italic|oblique <angle>?","font-synthesis":"none|[weight||style||small-caps]","font-variant":"normal|none|[<common-lig-values>||<discretionary-lig-values>||<historical-lig-values>||<contextual-alt-values>||stylistic( <feature-value-name> )||historical-forms||styleset( <feature-value-name># )||character-variant( <feature-value-name># )||swash( <feature-value-name> )||ornaments( <feature-value-name> )||annotation( <feature-value-name> )||[small-caps|all-small-caps|petite-caps|all-petite-caps|unicase|titling-caps]||<numeric-figure-values>||<numeric-spacing-values>||<numeric-fraction-values>||ordinal||slashed-zero||<east-asian-variant-values>||<east-asian-width-values>||ruby]","font-variant-alternates":"normal|[stylistic( <feature-value-name> )||historical-forms||styleset( <feature-value-name># )||character-variant( <feature-value-name># )||swash( <feature-value-name> )||ornaments( <feature-value-name> )||annotation( <feature-value-name> )]","font-variant-caps":"normal|small-caps|all-small-caps|petite-caps|all-petite-caps|unicase|titling-caps","font-variant-east-asian":"normal|[<east-asian-variant-values>||<east-asian-width-values>||ruby]","font-variant-ligatures":"normal|none|[<common-lig-values>||<discretionary-lig-values>||<historical-lig-values>||<contextual-alt-values>]","font-variant-numeric":"normal|[<numeric-figure-values>||<numeric-spacing-values>||<numeric-fraction-values>||ordinal||slashed-zero]","font-variant-position":"normal|sub|super","font-weight":"<font-weight-absolute>|bolder|lighter","forced-color-adjust":"auto|none",gap:"<'row-gap'> <'column-gap'>?",grid:"<'grid-template'>|<'grid-template-rows'> / [auto-flow&&dense?] <'grid-auto-columns'>?|[auto-flow&&dense?] <'grid-auto-rows'>? / <'grid-template-columns'>","grid-area":"<grid-line> [/ <grid-line>]{0,3}","grid-auto-columns":"<track-size>+","grid-auto-flow":"[row|column]||dense","grid-auto-rows":"<track-size>+","grid-column":"<grid-line> [/ <grid-line>]?","grid-column-end":"<grid-line>","grid-column-gap":"<length-percentage>","grid-column-start":"<grid-line>","grid-gap":"<'grid-row-gap'> <'grid-column-gap'>?","grid-row":"<grid-line> [/ <grid-line>]?","grid-row-end":"<grid-line>","grid-row-gap":"<length-percentage>","grid-row-start":"<grid-line>","grid-template":"none|[<'grid-template-rows'> / <'grid-template-columns'>]|[<line-names>? <string> <track-size>? <line-names>?]+ [/ <explicit-track-list>]?","grid-template-areas":"none|<string>+","grid-template-columns":"none|<track-list>|<auto-track-list>|subgrid <line-name-list>?","grid-template-rows":"none|<track-list>|<auto-track-list>|subgrid <line-name-list>?","hanging-punctuation":"none|[first||[force-end|allow-end]||last]",height:"auto|<length>|<percentage>|min-content|max-content|fit-content|fit-content( <length-percentage> )","hyphenate-character":"auto|<string>",hyphens:"none|manual|auto","image-orientation":"from-image|<angle>|[<angle>? flip]","image-rendering":"auto|crisp-edges|pixelated|optimizeSpeed|optimizeQuality|<-non-standard-image-rendering>","image-resolution":"[from-image||<resolution>]&&snap?","ime-mode":"auto|normal|active|inactive|disabled","initial-letter":"normal|[<number> <integer>?]","initial-letter-align":"[auto|alphabetic|hanging|ideographic]","inline-size":"<'width'>","input-security":"auto|none",inset:"<'top'>{1,4}","inset-block":"<'top'>{1,2}","inset-block-end":"<'top'>","inset-block-start":"<'top'>","inset-inline":"<'top'>{1,2}","inset-inline-end":"<'top'>","inset-inline-start":"<'top'>",isolation:"auto|isolate","justify-content":"normal|<content-distribution>|<overflow-position>? [<content-position>|left|right]","justify-items":"normal|stretch|<baseline-position>|<overflow-position>? [<self-position>|left|right]|legacy|legacy&&[left|right|center]","justify-self":"auto|normal|stretch|<baseline-position>|<overflow-position>? [<self-position>|left|right]","justify-tracks":"[normal|<content-distribution>|<overflow-position>? [<content-position>|left|right]]#",left:"<length>|<percentage>|auto","letter-spacing":"normal|<length-percentage>","line-break":"auto|loose|normal|strict|anywhere","line-clamp":"none|<integer>","line-height":"normal|<number>|<length>|<percentage>","line-height-step":"<length>","list-style":"<'list-style-type'>||<'list-style-position'>||<'list-style-image'>","list-style-image":"<image>|none","list-style-position":"inside|outside","list-style-type":"<counter-style>|<string>|none",margin:"[<length>|<percentage>|auto]{1,4}","margin-block":"<'margin-left'>{1,2}","margin-block-end":"<'margin-left'>","margin-block-start":"<'margin-left'>","margin-bottom":"<length>|<percentage>|auto","margin-inline":"<'margin-left'>{1,2}","margin-inline-end":"<'margin-left'>","margin-inline-start":"<'margin-left'>","margin-left":"<length>|<percentage>|auto","margin-right":"<length>|<percentage>|auto","margin-top":"<length>|<percentage>|auto","margin-trim":"none|in-flow|all",mask:"<mask-layer>#","mask-border":"<'mask-border-source'>||<'mask-border-slice'> [/ <'mask-border-width'>? [/ <'mask-border-outset'>]?]?||<'mask-border-repeat'>||<'mask-border-mode'>","mask-border-mode":"luminance|alpha","mask-border-outset":"[<length>|<number>]{1,4}","mask-border-repeat":"[stretch|repeat|round|space]{1,2}","mask-border-slice":"<number-percentage>{1,4} fill?","mask-border-source":"none|<image>","mask-border-width":"[<length-percentage>|<number>|auto]{1,4}","mask-clip":"[<geometry-box>|no-clip]#","mask-composite":"<compositing-operator>#","mask-image":"<mask-reference>#","mask-mode":"<masking-mode>#","mask-origin":"<geometry-box>#","mask-position":"<position>#","mask-repeat":"<repeat-style>#","mask-size":"<bg-size>#","mask-type":"luminance|alpha","masonry-auto-flow":"[pack|next]||[definite-first|ordered]","math-depth":"auto-add|add( <integer> )|<integer>","math-shift":"normal|compact","math-style":"normal|compact","max-block-size":"<'max-width'>","max-height":"none|<length-percentage>|min-content|max-content|fit-content|fit-content( <length-percentage> )","max-inline-size":"<'max-width'>","max-lines":"none|<integer>","max-width":"none|<length-percentage>|min-content|max-content|fit-content|fit-content( <length-percentage> )|<-non-standard-width>","min-block-size":"<'min-width'>","min-height":"auto|<length>|<percentage>|min-content|max-content|fit-content|fit-content( <length-percentage> )","min-inline-size":"<'min-width'>","min-width":"auto|<length>|<percentage>|min-content|max-content|fit-content|fit-content( <length-percentage> )|<-non-standard-width>","mix-blend-mode":"<blend-mode>|plus-lighter","object-fit":"fill|contain|cover|none|scale-down","object-position":"<position>",offset:"[<'offset-position'>? [<'offset-path'> [<'offset-distance'>||<'offset-rotate'>]?]?]! [/ <'offset-anchor'>]?","offset-anchor":"auto|<position>","offset-distance":"<length-percentage>","offset-path":"none|ray( [<angle>&&<size>&&contain?] )|<path()>|<url>|[<basic-shape>||<geometry-box>]","offset-position":"auto|<position>","offset-rotate":"[auto|reverse]||<angle>",opacity:"<alpha-value>",order:"<integer>",orphans:"<integer>",outline:"[<'outline-color'>||<'outline-style'>||<'outline-width'>]","outline-color":"<color>|invert","outline-offset":"<length>","outline-style":"auto|<'border-style'>","outline-width":"<line-width>",overflow:"[visible|hidden|clip|scroll|auto]{1,2}|<-non-standard-overflow>","overflow-anchor":"auto|none","overflow-block":"visible|hidden|clip|scroll|auto","overflow-clip-box":"padding-box|content-box","overflow-clip-margin":"<visual-box>||<length [0,∞]>","overflow-inline":"visible|hidden|clip|scroll|auto","overflow-wrap":"normal|break-word|anywhere","overflow-x":"visible|hidden|clip|scroll|auto","overflow-y":"visible|hidden|clip|scroll|auto","overscroll-behavior":"[contain|none|auto]{1,2}","overscroll-behavior-block":"contain|none|auto","overscroll-behavior-inline":"contain|none|auto","overscroll-behavior-x":"contain|none|auto","overscroll-behavior-y":"contain|none|auto",padding:"[<length>|<percentage>]{1,4}","padding-block":"<'padding-left'>{1,2}","padding-block-end":"<'padding-left'>","padding-block-start":"<'padding-left'>","padding-bottom":"<length>|<percentage>","padding-inline":"<'padding-left'>{1,2}","padding-inline-end":"<'padding-left'>","padding-inline-start":"<'padding-left'>","padding-left":"<length>|<percentage>","padding-right":"<length>|<percentage>","padding-top":"<length>|<percentage>","page-break-after":"auto|always|avoid|left|right|recto|verso","page-break-before":"auto|always|avoid|left|right|recto|verso","page-break-inside":"auto|avoid","paint-order":"normal|[fill||stroke||markers]",perspective:"none|<length>","perspective-origin":"<position>","place-content":"<'align-content'> <'justify-content'>?","place-items":"<'align-items'> <'justify-items'>?","place-self":"<'align-self'> <'justify-self'>?","pointer-events":"auto|none|visiblePainted|visibleFill|visibleStroke|visible|painted|fill|stroke|all|inherit",position:"static|relative|absolute|sticky|fixed|-webkit-sticky",quotes:"none|auto|[<string> <string>]+",resize:"none|both|horizontal|vertical|block|inline",right:"<length>|<percentage>|auto",rotate:"none|<angle>|[x|y|z|<number>{3}]&&<angle>","row-gap":"normal|<length-percentage>","ruby-align":"start|center|space-between|space-around","ruby-merge":"separate|collapse|auto","ruby-position":"[alternate||[over|under]]|inter-character",scale:"none|<number>{1,3}","scrollbar-color":"auto|<color>{2}","scrollbar-gutter":"auto|stable&&both-edges?","scrollbar-width":"auto|thin|none","scroll-behavior":"auto|smooth","scroll-margin":"<length>{1,4}","scroll-margin-block":"<length>{1,2}","scroll-margin-block-start":"<length>","scroll-margin-block-end":"<length>","scroll-margin-bottom":"<length>","scroll-margin-inline":"<length>{1,2}","scroll-margin-inline-start":"<length>","scroll-margin-inline-end":"<length>","scroll-margin-left":"<length>","scroll-margin-right":"<length>","scroll-margin-top":"<length>","scroll-padding":"[auto|<length-percentage>]{1,4}","scroll-padding-block":"[auto|<length-percentage>]{1,2}","scroll-padding-block-start":"auto|<length-percentage>","scroll-padding-block-end":"auto|<length-percentage>","scroll-padding-bottom":"auto|<length-percentage>","scroll-padding-inline":"[auto|<length-percentage>]{1,2}","scroll-padding-inline-start":"auto|<length-percentage>","scroll-padding-inline-end":"auto|<length-percentage>","scroll-padding-left":"auto|<length-percentage>","scroll-padding-right":"auto|<length-percentage>","scroll-padding-top":"auto|<length-percentage>","scroll-snap-align":"[none|start|end|center]{1,2}","scroll-snap-coordinate":"none|<position>#","scroll-snap-destination":"<position>","scroll-snap-points-x":"none|repeat( <length-percentage> )","scroll-snap-points-y":"none|repeat( <length-percentage> )","scroll-snap-stop":"normal|always","scroll-snap-type":"none|[x|y|block|inline|both] [mandatory|proximity]?","scroll-snap-type-x":"none|mandatory|proximity","scroll-snap-type-y":"none|mandatory|proximity","scroll-timeline":"<scroll-timeline-name>||<scroll-timeline-axis>","scroll-timeline-axis":"block|inline|vertical|horizontal","scroll-timeline-name":"none|<custom-ident>","shape-image-threshold":"<alpha-value>","shape-margin":"<length-percentage>","shape-outside":"none|[<shape-box>||<basic-shape>]|<image>","tab-size":"<integer>|<length>","table-layout":"auto|fixed","text-align":"start|end|left|right|center|justify|match-parent","text-align-last":"auto|start|end|left|right|center|justify","text-combine-upright":"none|all|[digits <integer>?]","text-decoration":"<'text-decoration-line'>||<'text-decoration-style'>||<'text-decoration-color'>||<'text-decoration-thickness'>","text-decoration-color":"<color>","text-decoration-line":"none|[underline||overline||line-through||blink]|spelling-error|grammar-error","text-decoration-skip":"none|[objects||[spaces|[leading-spaces||trailing-spaces]]||edges||box-decoration]","text-decoration-skip-ink":"auto|all|none","text-decoration-style":"solid|double|dotted|dashed|wavy","text-decoration-thickness":"auto|from-font|<length>|<percentage>","text-emphasis":"<'text-emphasis-style'>||<'text-emphasis-color'>","text-emphasis-color":"<color>","text-emphasis-position":"[over|under]&&[right|left]","text-emphasis-style":"none|[[filled|open]||[dot|circle|double-circle|triangle|sesame]]|<string>","text-indent":"<length-percentage>&&hanging?&&each-line?","text-justify":"auto|inter-character|inter-word|none","text-orientation":"mixed|upright|sideways","text-overflow":"[clip|ellipsis|<string>]{1,2}","text-rendering":"auto|optimizeSpeed|optimizeLegibility|geometricPrecision","text-shadow":"none|<shadow-t>#","text-size-adjust":"none|auto|<percentage>","text-transform":"none|capitalize|uppercase|lowercase|full-width|full-size-kana","text-underline-offset":"auto|<length>|<percentage>","text-underline-position":"auto|from-font|[under||[left|right]]",top:"<length>|<percentage>|auto","touch-action":"auto|none|[[pan-x|pan-left|pan-right]||[pan-y|pan-up|pan-down]||pinch-zoom]|manipulation",transform:"none|<transform-list>","transform-box":"content-box|border-box|fill-box|stroke-box|view-box","transform-origin":"[<length-percentage>|left|center|right|top|bottom]|[[<length-percentage>|left|center|right]&&[<length-percentage>|top|center|bottom]] <length>?","transform-style":"flat|preserve-3d",transition:"<single-transition>#","transition-delay":"<time>#","transition-duration":"<time>#","transition-property":"none|<single-transition-property>#","transition-timing-function":"<easing-function>#",translate:"none|<length-percentage> [<length-percentage> <length>?]?","unicode-bidi":"normal|embed|isolate|bidi-override|isolate-override|plaintext|-moz-isolate|-moz-isolate-override|-moz-plaintext|-webkit-isolate|-webkit-isolate-override|-webkit-plaintext","user-select":"auto|text|none|contain|all","vertical-align":"baseline|sub|super|text-top|text-bottom|middle|top|bottom|<percentage>|<length>",visibility:"visible|hidden|collapse","white-space":"normal|pre|nowrap|pre-wrap|pre-line|break-spaces",widows:"<integer>",width:"auto|<length>|<percentage>|min-content|max-content|fit-content|fit-content( <length-percentage> )|fill|stretch|intrinsic|-moz-max-content|-webkit-max-content|-moz-fit-content|-webkit-fit-content","will-change":"auto|<animateable-feature>#","word-break":"normal|break-all|keep-all|break-word","word-spacing":"normal|<length>","word-wrap":"normal|break-word","writing-mode":"horizontal-tb|vertical-rl|vertical-lr|sideways-rl|sideways-lr|<svg-writing-mode>","z-index":"auto|<integer>",zoom:"normal|reset|<number>|<percentage>","-moz-background-clip":"padding|border","-moz-border-radius-bottomleft":"<'border-bottom-left-radius'>","-moz-border-radius-bottomright":"<'border-bottom-right-radius'>","-moz-border-radius-topleft":"<'border-top-left-radius'>","-moz-border-radius-topright":"<'border-bottom-right-radius'>","-moz-control-character-visibility":"visible|hidden","-moz-osx-font-smoothing":"auto|grayscale","-moz-user-select":"none|text|all|-moz-none","-ms-flex-align":"start|end|center|baseline|stretch","-ms-flex-item-align":"auto|start|end|center|baseline|stretch","-ms-flex-line-pack":"start|end|center|justify|distribute|stretch","-ms-flex-negative":"<'flex-shrink'>","-ms-flex-pack":"start|end|center|justify|distribute","-ms-flex-order":"<integer>","-ms-flex-positive":"<'flex-grow'>","-ms-flex-preferred-size":"<'flex-basis'>","-ms-interpolation-mode":"nearest-neighbor|bicubic","-ms-grid-column-align":"start|end|center|stretch","-ms-grid-row-align":"start|end|center|stretch","-ms-hyphenate-limit-last":"none|always|column|page|spread","-webkit-background-clip":"[<box>|border|padding|content|text]#","-webkit-column-break-after":"always|auto|avoid","-webkit-column-break-before":"always|auto|avoid","-webkit-column-break-inside":"always|auto|avoid","-webkit-font-smoothing":"auto|none|antialiased|subpixel-antialiased","-webkit-mask-box-image":"[<url>|<gradient>|none] [<length-percentage>{4} <-webkit-mask-box-repeat>{2}]?","-webkit-print-color-adjust":"economy|exact","-webkit-text-security":"none|circle|disc|square","-webkit-user-drag":"none|element|auto","-webkit-user-select":"auto|none|text|all","alignment-baseline":"auto|baseline|before-edge|text-before-edge|middle|central|after-edge|text-after-edge|ideographic|alphabetic|hanging|mathematical","baseline-shift":"baseline|sub|super|<svg-length>",behavior:"<url>+","clip-rule":"nonzero|evenodd",cue:"<'cue-before'> <'cue-after'>?","cue-after":"<url> <decibel>?|none","cue-before":"<url> <decibel>?|none","dominant-baseline":"auto|use-script|no-change|reset-size|ideographic|alphabetic|hanging|mathematical|central|middle|text-after-edge|text-before-edge",fill:"<paint>","fill-opacity":"<number-zero-one>","fill-rule":"nonzero|evenodd","glyph-orientation-horizontal":"<angle>","glyph-orientation-vertical":"<angle>",kerning:"auto|<svg-length>",marker:"none|<url>","marker-end":"none|<url>","marker-mid":"none|<url>","marker-start":"none|<url>",pause:"<'pause-before'> <'pause-after'>?","pause-after":"<time>|none|x-weak|weak|medium|strong|x-strong","pause-before":"<time>|none|x-weak|weak|medium|strong|x-strong",rest:"<'rest-before'> <'rest-after'>?","rest-after":"<time>|none|x-weak|weak|medium|strong|x-strong","rest-before":"<time>|none|x-weak|weak|medium|strong|x-strong","shape-rendering":"auto|optimizeSpeed|crispEdges|geometricPrecision",src:"[<url> [format( <string># )]?|local( <family-name> )]#",speak:"auto|none|normal","speak-as":"normal|spell-out||digits||[literal-punctuation|no-punctuation]",stroke:"<paint>","stroke-dasharray":"none|[<svg-length>+]#","stroke-dashoffset":"<svg-length>","stroke-linecap":"butt|round|square","stroke-linejoin":"miter|round|bevel","stroke-miterlimit":"<number-one-or-greater>","stroke-opacity":"<number-zero-one>","stroke-width":"<svg-length>","text-anchor":"start|middle|end","unicode-range":"<urange>#","voice-balance":"<number>|left|center|right|leftwards|rightwards","voice-duration":"auto|<time>","voice-family":"[[<family-name>|<generic-voice>] ,]* [<family-name>|<generic-voice>]|preserve","voice-pitch":"<frequency>&&absolute|[[x-low|low|medium|high|x-high]||[<frequency>|<semitones>|<percentage>]]","voice-range":"<frequency>&&absolute|[[x-low|low|medium|high|x-high]||[<frequency>|<semitones>|<percentage>]]","voice-rate":"[normal|x-slow|slow|medium|fast|x-fast]||<percentage>","voice-stress":"normal|strong|moderate|none|reduced","voice-volume":"silent|[[x-soft|soft|medium|loud|x-loud]||<decibel>]"},atrules:{charset:{prelude:"<string>",descriptors:null},"counter-style":{prelude:"<counter-style-name>",descriptors:{"additive-symbols":"[<integer>&&<symbol>]#",fallback:"<counter-style-name>",negative:"<symbol> <symbol>?",pad:"<integer>&&<symbol>",prefix:"<symbol>",range:"[[<integer>|infinite]{2}]#|auto","speak-as":"auto|bullets|numbers|words|spell-out|<counter-style-name>",suffix:"<symbol>",symbols:"<symbol>+",system:"cyclic|numeric|alphabetic|symbolic|additive|[fixed <integer>?]|[extends <counter-style-name>]"}},document:{prelude:"[<url>|url-prefix( <string> )|domain( <string> )|media-document( <string> )|regexp( <string> )]#",descriptors:null},"font-face":{prelude:null,descriptors:{"ascent-override":"normal|<percentage>","descent-override":"normal|<percentage>","font-display":"[auto|block|swap|fallback|optional]","font-family":"<family-name>","font-feature-settings":"normal|<feature-tag-value>#","font-variation-settings":"normal|[<string> <number>]#","font-stretch":"<font-stretch-absolute>{1,2}","font-style":"normal|italic|oblique <angle>{0,2}","font-weight":"<font-weight-absolute>{1,2}","font-variant":"normal|none|[<common-lig-values>||<discretionary-lig-values>||<historical-lig-values>||<contextual-alt-values>||stylistic( <feature-value-name> )||historical-forms||styleset( <feature-value-name># )||character-variant( <feature-value-name># )||swash( <feature-value-name> )||ornaments( <feature-value-name> )||annotation( <feature-value-name> )||[small-caps|all-small-caps|petite-caps|all-petite-caps|unicase|titling-caps]||<numeric-figure-values>||<numeric-spacing-values>||<numeric-fraction-values>||ordinal||slashed-zero||<east-asian-variant-values>||<east-asian-width-values>||ruby]","line-gap-override":"normal|<percentage>","size-adjust":"<percentage>",src:"[<url> [format( <string># )]?|local( <family-name> )]#","unicode-range":"<urange>#"}},"font-feature-values":{prelude:"<family-name>#",descriptors:null},import:{prelude:"[<string>|<url>] [layer|layer( <layer-name> )]? [supports( [<supports-condition>|<declaration>] )]? <media-query-list>?",descriptors:null},keyframes:{prelude:"<keyframes-name>",descriptors:null},layer:{prelude:"[<layer-name>#|<layer-name>?]",descriptors:null},media:{prelude:"<media-query-list>",descriptors:null},namespace:{prelude:"<namespace-prefix>? [<string>|<url>]",descriptors:null},page:{prelude:"<page-selector-list>",descriptors:{bleed:"auto|<length>",marks:"none|[crop||cross]",size:"<length>{1,2}|auto|[<page-size>||[portrait|landscape]]"}},property:{prelude:"<custom-property-name>",descriptors:{syntax:"<string>",inherits:"true|false","initial-value":"<string>"}},"scroll-timeline":{prelude:"<timeline-name>",descriptors:null},supports:{prelude:"<supports-condition>",descriptors:null},viewport:{prelude:null,descriptors:{height:"<viewport-length>{1,2}","max-height":"<viewport-length>","max-width":"<viewport-length>","max-zoom":"auto|<number>|<percentage>","min-height":"<viewport-length>","min-width":"<viewport-length>","min-zoom":"auto|<number>|<percentage>",orientation:"auto|portrait|landscape","user-zoom":"zoom|fixed","viewport-fit":"auto|contain|cover",width:"<viewport-length>{1,2}",zoom:"auto|<number>|<percentage>"}},nest:{prelude:"<complex-selector-list>",descriptors:null}},node:G};function yc(e){switch(this.tokenType){case ge:return this.Hash();case Me:return this.Operator();case Pe:return this.Parentheses(this.readSequence,e.recognizer);case Ne:return this.Brackets(this.readSequence,e.recognizer);case fe:return this.String();case ye:return this.Dimension();case we:return this.Percentage();case ve:return this.Number();case me:return this.cmpStr(this.tokenStart,this.tokenEnd,"url(")?this.Url():this.Function(this.readSequence,e.recognizer);case xe:return this.Url();case de:return this.cmpChar(this.tokenStart,117)&&this.cmpChar(this.tokenStart+1,43)?this.UnicodeRange():this.Identifier();case be:{const e=this.charCodeAt(this.tokenStart);if(47===e||42===e||43===e||45===e)return this.Operator();35===e&&this.error("Hex or identifier is expected",this.tokenStart+1);break}}}const kc={getNode:yc},Sc={onWhiteSpace:function(e,t){null!==t.last&&"Combinator"!==t.last.type&&null!==e&&"Combinator"!==e.type&&t.push({type:"Combinator",loc:null,name:" "})},getNode:function(){switch(this.tokenType){case Ne:return this.AttributeSelector();case ge:return this.IdSelector();case Ae:return this.lookupType(1)===Ae?this.PseudoElementSelector():this.PseudoClassSelector();case de:return this.TypeSelector();case ve:case we:return this.Percentage();case ye:46===this.charCodeAt(this.tokenStart)&&this.error("Identifier is expected",this.tokenStart+1);break;case be:switch(this.charCodeAt(this.tokenStart)){case 43:case 62:case 126:case 47:return this.Combinator();case 46:return this.ClassSelector();case 42:case 124:return this.TypeSelector();case 35:return this.IdSelector();case 38:return this.NestingSelector()}}}};function Tc(e){return null!==e&&"Operator"===e.type&&("-"===e.value[e.value.length-1]||"+"===e.value[e.value.length-1])}const Ac={getNode:yc,onWhiteSpace(e,t){Tc(e)&&(e.value=" "+e.value),Tc(t.last)&&(t.last.value+=" ")},expression:function(){return this.createSingleNodeList(this.Raw(this.tokenIndex,null,!1))},var:function(){const e=this.createList();if(this.skipSC(),e.push(this.Identifier()),this.skipSC(),this.tokenType===Me){e.push(this.Operator());const t=this.tokenIndex,n=this.parseCustomProperty?this.Value(null):this.Raw(this.tokenIndex,this.consumeUntilExclamationMarkOrSemicolon,!1);if("Value"===n.type&&n.children.isEmpty)for(let e=t-this.tokenIndex;e<=0;e++)if(this.lookupType(e)===ke){n.children.appendData({type:"WhiteSpace",loc:null,value:" "});break}e.push(n)}return e}};function Cc(){return this.createSingleNodeList(this.Raw(this.tokenIndex,null,!1))}function Mc(){return this.skipSC(),this.tokenType===de&&this.lookupNonWSType(1)===Ae?this.createSingleNodeList(this.Declaration()):Nc.call(this)}function Nc(){const e=this.createList();let t;this.skipSC();e:for(;!this.eof;){switch(this.tokenType){case Ie:case ke:this.next();continue;case me:t=this.Function(Cc,this.scope.AtrulePrelude);break;case de:t=this.Identifier();break;case Pe:t=this.Parentheses(Mc,this.scope.AtrulePrelude);break;default:break e}e.push(t)}return e}const Ec={"font-face":{parse:{prelude:null,block(){return this.Block(!0)}}},import:{parse:{prelude(){const e=this.createList();switch(this.skipSC(),this.tokenType){case fe:e.push(this.String());break;case xe:case me:e.push(this.Url());break;default:this.error("String or url() is expected")}return this.lookupNonWSType(0)!==de&&this.lookupNonWSType(0)!==Pe||e.push(this.MediaQueryList()),e},block:null}},media:{parse:{prelude(){return this.createSingleNodeList(this.MediaQueryList())},block(e=!1){return this.Block(e)}}},nest:{parse:{prelude(){return this.createSingleNodeList(this.SelectorList())},block(){return this.Block(!0)}}},page:{parse:{prelude(){return this.createSingleNodeList(this.SelectorList())},block(){return this.Block(!0)}}},supports:{parse:{prelude(){const e=Nc.call(this);return null===this.getFirstListNode(e)&&this.error("Condition is expected"),e},block(e=!1){return this.Block(e)}}}},Pc={parse(){return this.createSingleNodeList(this.SelectorList())}},qc={parse(){return this.createSingleNodeList(this.Selector())}},Lc={parse(){return this.createSingleNodeList(this.Identifier())}},_c={parse(){return this.createSingleNodeList(this.Nth())}},Ic={dir:Lc,has:Pc,lang:Lc,matches:Pc,is:Pc,"-moz-any":Pc,"-webkit-any":Pc,where:Pc,not:Pc,"nth-child":_c,"nth-last-child":_c,"nth-last-of-type":_c,"nth-of-type":_c,slotted:qc,host:qc,"host-context":qc},jc=function e(t){const n=function(e){let t="",n="<unknown>",o=!1,a=St,i=!1;const r=new pt,s=Object.assign(new gt,function(e){const t={context:Object.create(null),scope:Object.assign(Object.create(null),e.scope),atrule:At(e.atrule),pseudo:At(e.pseudo),node:At(e.node)};for(const n in e.parseContext)switch(typeof e.parseContext[n]){case"function":t.context[n]=e.parseContext[n];break;case"string":t.context[n]=Tt(e.parseContext[n])}return{config:t,...t,...t.node}}(e||{}),{parseAtrulePrelude:!0,parseRulePrelude:!0,parseValue:!0,parseCustomProperty:!1,readSequence:kt,consumeUntilBalanceEnd:()=>0,consumeUntilLeftCurlyBracket:e=>123===e?1:0,consumeUntilLeftCurlyBracketOrSemicolon:e=>123===e||59===e?1:0,consumeUntilExclamationMarkOrSemicolon:e=>33===e||59===e?1:0,consumeUntilSemicolonIncluded:e=>59===e?2:0,createList:()=>new bt,createSingleNodeList:e=>(new bt).appendData(e),getFirstListNode:e=>e&&e.first,getLastListNode:e=>e&&e.last,parseWithFallback(e,t){const n=this.tokenIndex;try{return e.call(this)}catch(e){if(i)throw e;const o=t.call(this,n);return i=!0,a(e,o),i=!1,o}},lookupNonWSType(e){let t;do{if(t=this.lookupType(e++),t!==ke)return t}while(0!==t);return 0},charCodeAt:e=>e>=0&&e<t.length?t.charCodeAt(e):0,substring:(e,n)=>t.substring(e,n),substrToCursor(e){return this.source.substring(e,this.tokenStart)},cmpChar:(e,n)=>Ze(t,e,n),cmpStr:(e,n,o)=>et(t,e,n,o),consume(e){const t=this.tokenStart;return this.eat(e),this.substrToCursor(t)},consumeFunctionName(){const e=t.substring(this.tokenStart,this.tokenEnd-1);return this.eat(me),e},consumeNumber(e){const n=t.substring(this.tokenStart,it(t,this.tokenStart));return this.eat(e),n},eat(e){if(this.tokenType!==e){const t=ct[e].slice(0,-6).replace(/-/g," ").replace(/^./,e=>e.toUpperCase());let n=`${/[[\](){}]/.test(t)?`"${t}"`:t} is expected`,o=this.tokenStart;switch(e){case de:this.tokenType===me||this.tokenType===xe?(o=this.tokenEnd-1,n="Identifier is expected but function found"):n="Identifier is expected";break;case ge:this.isDelim(35)&&(this.next(),o++,n="Name is expected");break;case we:this.tokenType===ve&&(o=this.tokenEnd,n="Percent sign is expected")}this.error(n,o)}this.next()},eatIdent(e){this.tokenType===de&&!1!==this.lookupValue(0,e)||this.error(`Identifier "${e}" is expected`),this.next()},eatDelim(e){this.isDelim(e)||this.error(`Delim "${String.fromCharCode(e)}" is expected`),this.next()},getLocation:(e,t)=>o?r.getLocationRange(e,t,n):null,getLocationFromList(e){if(o){const t=this.getFirstListNode(e),o=this.getLastListNode(e);return r.getLocationRange(null!==t?t.loc.start.offset-r.startOffset:this.tokenStart,null!==o?o.loc.end.offset-r.startOffset:this.tokenStart,n)}return null},error(e,n){const o=void 0!==n&&n<t.length?r.getLocation(n):this.eof?r.getLocation(function(e,t){for(;t>=0&&Be(e.charCodeAt(t));t--);return t+1}(t,t.length-1)):r.getLocation(this.tokenStart);throw new yt(e||"Unexpected input",t,o.offset,o.line,o.column)}});return Object.assign(function(e,c){t=e,c=c||{},s.setSource(t,ft),r.setSource(t,c.offset,c.line,c.column),n=c.filename||"<unknown>",o=Boolean(c.positions),a="function"==typeof c.onParseError?c.onParseError:St,i=!1,s.parseAtrulePrelude=!("parseAtrulePrelude"in c)||Boolean(c.parseAtrulePrelude),s.parseRulePrelude=!("parseRulePrelude"in c)||Boolean(c.parseRulePrelude),s.parseValue=!("parseValue"in c)||Boolean(c.parseValue),s.parseCustomProperty="parseCustomProperty"in c&&Boolean(c.parseCustomProperty);const{context:l="default",onComment:u}=c;if(l in s.context==0)throw new Error("Unknown context `"+l+"`");"function"==typeof u&&s.forEachToken((e,n,o)=>{if(e===Ie){const e=s.getLocation(n,o),a=et(t,o-2,o,"*/")?t.slice(n+2,o-2):t.slice(n+2,o);u(a,e)}});const p=s.context[l].call(s,c);return s.eof||s.error(),p},{SyntaxError:yt,config:s.config})}(t),a=function(e){const t=function(e){const t={};for(const n in e.node)if(Ut.call(e.node,n)){const o=e.node[n];if(!o.structure)throw new Error("Missed `structure` field in `"+n+"` node type definition");t[n]=Ht(0,o)}return t}(e),n={},o={},a=Symbol("break-walk"),i=Symbol("skip-node");for(const e in t)Ut.call(t,e)&&null!==t[e]&&(n[e]=Rt(t[e],!1),o[e]=Rt(t[e],!0));const r=Vt(n),s=Vt(o),c=function(e,c){function l(e,t,n){const o=u.call(h,e,t,n);return o===a||o!==i&&(!(!d.hasOwnProperty(e.type)||!d[e.type](e,h,l,m))||p.call(h,e,t,n)===a)}let u=zt,p=zt,d=n,m=(e,t,n,o)=>e||l(t,n,o);const h={break:a,skip:i,root:e,stylesheet:null,atrule:null,atrulePrelude:null,rule:null,selector:null,block:null,declaration:null,function:null};if("function"==typeof c)u=c;else if(c&&(u=Dt(c.enter),p=Dt(c.leave),c.reverse&&(d=o),c.visit)){if(r.hasOwnProperty(c.visit))d=c.reverse?s[c.visit]:r[c.visit];else if(!t.hasOwnProperty(c.visit))throw new Error("Bad value `"+c.visit+"` for `visit` option (should be: "+Object.keys(t).sort().join(", ")+")");u=Ot(u,c.visit),p=Ot(p,c.visit)}if(u===zt&&p===zt)throw new Error("Neither `enter` nor `leave` walker handler is set or both aren't a function");l(e)};return c.break=a,c.skip=i,c.find=function(e,t){let n=null;return c(e,function(e,o,i){if(t.call(this,e,o,i))return n=e,a}),n},c.findLast=function(e,t){let n=null;return c(e,{reverse:!0,enter(e,o,i){if(t.call(this,e,o,i))return n=e,a}}),n},c.findAll=function(e,t){const n=[];return c(e,function(e,o,a){t.call(this,e,o,a)&&n.push(e)}),n},c}(t),i=function(e){const t=new Map;for(let n in e.node){const o=e.node[n];"function"==typeof(o.generate||o)&&t.set(n,o.generate||o)}return function(e,n){let a="",i=0,r={node(e){if(!t.has(e.type))throw new Error("Unknown node type: "+e.type);t.get(e.type).call(s,e)},tokenBefore:_t,token(e,t){i=this.tokenBefore(i,e,t),this.emit(t,e,!1),e===be&&92===t.charCodeAt(0)&&this.emit("\n",ke,!0)},emit(e){a+=e},result:()=>a};n&&("function"==typeof n.decorator&&(r=n.decorator(r)),n.sourceMap&&(r=function(e){const t=new Ct.x,n={line:1,column:0},o={line:0,column:0},a={line:1,column:0},i={generated:a};let r=1,s=0,c=!1;const l=e.node;e.node=function(e){if(e.loc&&e.loc.start&&Mt.has(e.type)){const l=e.loc.start.line,u=e.loc.start.column-1;o.line===l&&o.column===u||(o.line=l,o.column=u,n.line=r,n.column=s,c&&(c=!1,n.line===a.line&&n.column===a.column||t.addMapping(i)),c=!0,t.addMapping({source:e.loc.source,original:o,generated:n}))}l.call(this,e),c&&Mt.has(e.type)&&(a.line=r,a.column=s)};const u=e.emit;e.emit=function(e,t,n){for(let t=0;t<e.length;t++)10===e.charCodeAt(t)?(r++,s=0):s++;u(e,t,n)};const p=e.result;return e.result=function(){return c&&t.addMapping(i),{css:p(),map:t}},e}(r)),n.mode in o&&(r.tokenBefore=o[n.mode]));const s={node:e=>r.node(e),children:It,token:(e,t)=>r.token(e,t),tokenize:jt};return r.node(e),r.result()}}(t),{fromPlainObject:r,toPlainObject:s}=function(e){return{fromPlainObject:t=>(e(t,{enter(e){e.children&&e.children instanceof bt==0&&(e.children=(new bt).fromArray(e.children))}}),t),toPlainObject:t=>(e(t,{leave(e){e.children&&e.children instanceof bt&&(e.children=e.children.toArray())}}),t)}}(a),c={lexer:null,createLexer:e=>new Uo(e,c,c.lexer.structure),tokenize:ft,parse:n,generate:i,walk:a,find:a.find,findLast:a.findLast,findAll:a.findAll,fromPlainObject:r,toPlainObject:s,fork(n){const o=Oo({},t);return e("function"==typeof n?n(o,Object.assign):Oo(o,n))}};return c.lexer=new Uo({generic:!0,units:t.units,types:t.types,atrules:t.atrules,properties:t.properties,node:t.node},c),c}(Oo({},{...wc,parseContext:{default:"StyleSheet",stylesheet:"StyleSheet",atrule:"Atrule",atrulePrelude(e){return this.AtrulePrelude(e.atrule?String(e.atrule):null)},mediaQueryList:"MediaQueryList",mediaQuery:"MediaQuery",rule:"Rule",selectorList:"SelectorList",selector:"Selector",block(){return this.Block(!0)},declarationList:"DeclarationList",declaration:"Declaration",value:"Value"},scope:Q,atrule:Ec,pseudo:Ic,node:J,node:G})),{tokenize:Uc,parse:zc,generate:Dc,lexer:Oc,createLexer:Hc,walk:Rc,find:Vc,findLast:Bc,findAll:$c,toPlainObject:Fc,fromPlainObject:Wc,fork:Gc}=jc;var Qc=n(22);const Jc="作者有话说：";class Kc extends ce.Q{constructor(){super(),this.attachmentMode="TM",this.concurrencyLimit=1,this.charset="GB18030";const e=document.querySelector("#nd-setting-tab-1")?.firstElementChild,t=document.createElement("button");function n(e){const t=Qc.enc.Utf8.parse("KW8Dvm2N"),n=Qc.enc.Utf8.parse("1ae2c94b");return Qc.DES.encrypt(e,t,{iv:n,padding:Qc.pad.Pkcs7,mode:Qc.mode.CBC}).toString()}t.innerText="获取token",t.style.marginLeft="10px",e?.parentNode?.insertBefore(t,e.nextSibling),t.addEventListener("click",()=>{const e=document.createElement("div");e.innerHTML='\n        <h1 class="center-align">JJ获取token</h1>\n        <div>\n            <div class="row">\n                <div class="input-field">\n                    <label for="account">账号</label>\n                    <input type="text" id="nd-jj-account" name="account" required>\n                </div>\n            </div>\n            <div class="row">\n                <div class="input-field">\n                    <label for="password">密码</label>\n                    <input type="password" id="nd-jj-password" name="password" required>\n                </div>\n            </div>\n            <div class="row">\n                <div class="input-field">\n                    <label for="verificationCode">验证码</label>\n                    <input type="text" id="nd-jj-verificationCode" name="verificationCode">\n                </div>\n            </div>\n            <div class="row">\n                <button type="click" id="nd-jj-login">登录</button>\n            </div>\n        </div>\n        <h2 class="center-align">生成的Token:</h2>\n        <p id="nd-jj-token" class="center-align"></p>\n      ',e.style.position="fixed",e.style.top="50%",e.style.left="50%",e.style.transform="translate(-50%, -50%)",e.style.padding="20px",e.style.backgroundColor="white",e.style.border="1px solid black",e.style.zIndex="1000";const t=document.createElement("button");t.innerText="关闭",t.style.display="block",t.style.marginTop="10px",t.addEventListener("click",()=>{document.body.removeChild(e)}),e.appendChild(t),document.body.appendChild(e),document.getElementById("nd-jj-login")?.addEventListener("click",()=>async function(){const e=document.getElementById("nd-jj-account")?.value,t=document.getElementById("nd-jj-password")?.value,o=document.getElementById("nd-jj-verificationCode")?.value,a=function(e,t,n){return""===e||""===t?(alert("账号或密码不能为空"),0):""===n?1:2}(e,t,o);let i="phone";if(-1!==e.indexOf("@")&&(i="email"),0!=a){const r=n(t),s=function(){const e=[0,1,2,3,4,5,6,7,8,9];let t="";for(let n=0;n<20;n++)t+=e[Math.floor(10*Math.random())];return t}()+":"+function(){let e="";for(let t=0;t<16;t++)e+="0123456789abcdef"[Math.floor(16*Math.random())];return e}()+"d4:",c=n(Date.now()+"_"+s+"_");let l=`https://app.jjwxc.org/androidapi/login?versionCode=402&loginName=${encodeURIComponent(e)}&encode=1&loginPassword=${encodeURIComponent(r)}&sign=${encodeURIComponent(c)}&identifiers=${encodeURIComponent(s)}&autologin=1`;const u={Host:"app.jjwxc.org","User-Agent":`Mobile ${Date.now()}`,"Accept-Encoding":"gzip","Keep-Alive":"300","Content-Type":"",Accept:"","Sec-Fetch-Site":"","Sec-Fetch-Mode":"","Sec-Fetch-Dest":"","Accept-Language":""};if(1===a){const t=await new Promise(e=>{(0,pe.nV)({url:l,headers:u,method:"GET",anonymous:!0,fetch:!0,responseType:"json",onload:function(t){const n=JSON.parse(t.responseText);oe().debug(`LoginResponse url ${l}`),200===t.status||oe().error(`LoginResponse url ${l} response status = ${t.status}`),e(n)}})});if("221003"==t.code){const t="https://app.jjwxc.org//appDevicesecurityAndroid/getDeviceSecurityCode",n=`versionCode=402&username=${encodeURIComponent(e)}&checktype=${i}`,o=await new Promise(e=>{(0,pe.nV)({url:t,headers:u,method:"POST",data:n,anonymous:!0,responseType:"json",onload:function(o){const a=JSON.parse(o.responseText);oe().debug(`CodeResponse url ${t}`),oe().debug(`${o.responseText}`),oe().debug(`${n}`),200===o.status||oe().error(`CodeResponse url ${t} response status = ${o.status}`),e(a)}})});let a=o.data.message;a||(a=o.message),alert(a)}else alert(t.message)}else if(2===a){l=l+"&checktype="+i+"&checkdevicecode="+o;const e=(await new Promise(e=>{(0,pe.nV)({url:l,headers:u,method:"GET",anonymous:!0,responseType:"json",fetch:!0,onload:function(t){const n=JSON.parse(t.responseText);oe().debug(`LoginResponse url ${l}`),200===t.status||oe().error(`LoginResponse url ${l} response status = ${t.status}`),e(n)}})})).token,t=document.getElementById("nd-jj-token");t&&(t.textContent=e)}}}())})}extractProtagonistInfo(){try{const e={},t=Array.from(document.querySelectorAll(".smallreadbody"));for(const n of t)if(n.querySelector(".role_icon_out")||n.querySelector(".character_name")||n.querySelector(".role_pic_frame")){const t=Array.from(n.querySelectorAll(".role_pic_frame")),o=[],a=[];t.forEach((e,t)=>{const n=e.querySelector(".character_name");if(n&&n.textContent?.trim()){const t=n.textContent.trim(),i=e.querySelector('[class*="role_pic_"]');let r=!1,s=!1;i&&(i.classList.contains("role_pic_1")?r=!0:i.classList.contains("role_pic_0")&&(s=!0)),r?(o.push(t),console.debug(`[JJWXC] 检测到主角: ${t}`)):s?(a.push(t),console.debug(`[JJWXC] 检测到配角: ${t}`)):(a.push(t),console.debug(`[JJWXC] 未明确分类，归为配角: ${t}`))}}),o.length>0&&!e.protagonist&&(e.protagonist=o.join("、")),a.length>0&&!e.costar&&(e.costar=a.join("、"));break}return e}catch(e){return console.warn("Error extracting protagonist info:",e),{}}}addAdditionalMetadataToDOM(e){const t=[],n=this.extractProtagonistInfo();if(n.protagonist||n.costar){const e=document.createElement("div");e.className="metadata-protagonist";let o="";n.protagonist&&(o+=`<strong>主角：</strong>${n.protagonist}`),n.costar&&(o&&(o+="<br>"),o+=`<strong>配角：</strong>${n.costar}`),e.innerHTML=o,t.push(e)}const o=Array.from(document.querySelectorAll(".smallreadbody"));for(const e of o){const n=Array.from(e.querySelectorAll("span"));for(const e of n){const n=e.textContent?.trim()||"";if(n.startsWith("一句话简介：")){const e=n.replace("一句话简介：","").trim();if(e){const n=document.createElement("div");n.className="metadata-intro",n.innerHTML=`<strong>一句话简介：</strong>${e}`,t.push(n)}}if(n.startsWith("立意：")){const e=n.replace("立意：","").trim();if(e){const n=document.createElement("div");n.className="metadata-theme",n.innerHTML=`<strong>立意：</strong>${e}`,t.push(n)}}if(n.startsWith("其它：")){const e=n.replace(/^其它：/,"").trim();if(e){const n=document.createElement("div");n.className="metadata-other",n.innerHTML=`<strong>其他：</strong>${e}`,t.push(n)}}}if(t.some(e=>"metadata-intro"===e.className||"metadata-theme"===e.className||"metadata-other"===e.className))break}if(t.length>0){const n=document.createElement("hr");n.style.margin="10px 0",e.appendChild(n),t.forEach(t=>{e.appendChild(t)})}return e}async bookParse(){const e=document.location.href;let t;const n={};let o="",a=null,i=null,r=null;if(0===Array.from(document.querySelectorAll(".smallreadbody")).filter(e=>e.innerText.includes("文案信息审核未通过，等待作者修改后重新审核")).length){t=document.querySelector("#oneboolt .bigtext").innerText.trim(),o=document.querySelector("#oneboolt  h2 > a")?.innerText??document.querySelector("#oneboolt > .noveltitle > span > a")?.innerText;const e=document.querySelector("#novelintro")?.cloneNode(!0);if(e){const t=this.addAdditionalMetadataToDOM(e);[a,i,r]=await(0,te.HV)(t)}else[a,i,r]=[null,null,null];r&&(n.attachments=[...r]);const s=document.querySelector(".noveldefaultimage").src;s&&(0,K.if)(s,this.attachmentMode,"cover-",!1,(0,K.VJ)(),{referrerMode:ae.ls.none}).then(e=>{n.cover=e}).catch(e=>oe().error(e));let c=document.querySelector("table > tbody > tr > td.readtd > div.righttd > ul.rightul > li:nth-child(1) > span:nth-child(2)").innerText.split("-");c=c.concat(Array.from(document.querySelectorAll("div.smallreadbody:nth-child(3) > span > a")).map(e=>e.innerText));const l=document.querySelector("table > tbody > tr > td.readtd > div.righttd > ul.rightul > li:nth-child(2)").innerText.replace("\n","").replace("作品视角：","");c.push(l),n.tags=c}else{if(window.scrollTo(0,document?.body?.scrollHeight??0),await(0,Z.yy)(3e3),t=document.querySelector("td[id^=comment_] span.coltext > a")?.innerText.trim().replace(/[《》]/g,""),window.scrollTo(0,0),!t)throw new Error("抓取书名出错");const e=document.querySelector("#oneboolt > tbody > tr:nth-child(1) > td > div > h2 > a")?.href;if(e){const t=await(0,Y.wA)(e,this.charset);o=t.querySelector('span[itemprop="name"]')?.innerText??o}}const s=[],c=document.querySelectorAll("#oneboolt > tbody > tr");let l=0,u=0,p=null,d=0;if(0===c.length){const n=document.querySelector("div#oneboolt");if(n){const o=n.querySelector("h2")?.innerText.trim()??"全一章",a=e+"&chapterid=1";l++;const i=new re.I({bookUrl:e,bookname:t,chapterUrl:a,chapterNumber:l,chapterName:o,isVIP:!1,isPaid:null,sectionName:p,sectionNumber:u,sectionChapterNumber:d,chapterParse:this.chapterParse,charset:this.charset,options:{}});s.push(i)}}for(const n of Array.from(c))if(n.getAttribute("bgcolor"))u++,d=0,p=n.querySelector("b.volumnfont")?.innerText.trim();else if(n.getAttribute("itemprop")){l++,d++;const o=n.querySelector("td:nth-child(2)"),a=o?.querySelector("a:nth-child(1)"),i=()=>!!a?.getAttribute("onclick");if((()=>"[锁]"===o?.innerText.trim())()){const n="[锁]",o="",a=new re.I({bookUrl:e,bookname:t,chapterUrl:o,chapterNumber:l,chapterName:n,isVIP:!1,isPaid:null,sectionName:p,sectionNumber:u,sectionChapterNumber:d,chapterParse:this.chapterParse,charset:this.charset,options:{}});a.status=ae.nW.aborted,s.push(a)}else if(i()){const n=a.innerText.trim(),o=a.getAttribute("rel");if(o){const a=new re.I({bookUrl:e,bookname:t,chapterUrl:o,chapterNumber:l,chapterName:n,isVIP:i(),isPaid:null,sectionName:p,sectionNumber:u,sectionChapterNumber:d,chapterParse:this.chapterParse,charset:this.charset,options:{}}),r=()=>"object"==typeof unsafeWindow.tokenOptions||!document.getElementById("jj_login");i()&&!r()&&(a.status=ae.nW.aborted),s.push(a)}}else{const n=a.innerText.trim(),o=a.href,r=new re.I({bookUrl:e,bookname:t,chapterUrl:o,chapterNumber:l,chapterName:n,isVIP:i(),isPaid:null,sectionName:p,sectionNumber:u,sectionChapterNumber:d,chapterParse:this.chapterParse,charset:this.charset,options:{}}),c=()=>"object"==typeof unsafeWindow.tokenOptions||!document.getElementById("jj_login");i()&&!c()&&(r.status=ae.nW.aborted),s.push(r)}}return new se.E({bookUrl:e,bookname:t,author:o,introduction:a,introductionHTML:i,additionalMetadate:n,chapters:s})}async chapterParse(e,t,n,o,a,i){let r=0;function s(e,t,n,o){if("jj"==t){const t=Qc.enc.Utf8.parse("KW8Dvm2N"),n=Qc.enc.Utf8.parse("1ae2c94b");return Qc.DES.decrypt(e,t,{iv:n,mode:Qc.mode.CBC,padding:Qc.pad.Pkcs7}).toString(Qc.enc.Utf8)}return oe().error(`unknown encryptType ${t}`),e}return null!=(unsafeWindow.tokenOptions?.Jjwxc??null)?async function(){let n=e.replaceAll("id","Id");n=n.replace("http://www.jjwxc.net/onebook.php?","https://app.jjwxc.net/androidapi/chapterContent?"),n=n.replace("https://www.jjwxc.net/onebook.php?","https://app.jjwxc.net/androidapi/chapterContent?"),n=n.replace("http://my.jjwxc.net/onebook_vip.php?","https://app.jjwxc.net/androidapi/chapterContent?"),n=n.replace("https://my.jjwxc.net/onebook_vip.php?","https://app.jjwxc.net/androidapi/chapterContent?"),n+="&versionCode=381";let o=unsafeWindow.tokenOptions?.Jjwxc;if(!o)throw new Error("当前需要手动捕获android版app token,详见github主页说明");async function a(t){oe().debug(`请求地址: ${t}, Referrer: ${e}, 重试次数: ${r}`);const n="Mozilla/5.0 (Linux; Android 15; Pixel 7 Pro Build/TP1A.241005.002.B2; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/134.0.6998.109 Mobile Safari/537.36/JINJIANG-Android/381(Pixel7Pro;Scale/3.5;isHarmonyOS/false)"+Date.now();return new Promise(e=>{(0,pe.nV)({url:t,headers:{referer:"http://android.jjwxc.net?v=381","user-agent":n},method:"GET",onload:function(t){if(200===t.status){let n=String(t.responseText),o=JSON.parse('{"message":"try again!"}');try{o=JSON.parse(n)}catch(e){n=function(e,t){let n,o,a,i="accesskey",r="keystring";const s=function(e){const t=e.match(/accesskey:([^\r\n]+)/),n=e.match(/keystring:([^\r\n]+)/);return{accessKey:t?t[1].trim():"accesskey",keyString:n?n[1].trim():"keystring"}}(e);i=s.accessKey,r=s.keyString;const c=String(t),l=i.length;let u=0;const p=String(i[l-1]).charCodeAt(0);for(let e=0;e<l;e++)u+=i[e].charCodeAt(0);const d=u%r.length,m=u/65,h=r.length;n=m+d>h?r.substring(d,h-d+d):r.substring(d,m+d);const g=c.length;1&p?(o=c.substring(g-12,g),a=c.substring(0,g-12)):(o=c.substring(0,12),a=c.substring(12,c.length));const f=Qc.MD5(n+o).toString().substring(0,8),x=Qc.MD5(o).toString().substring(0,8),b=Qc.enc.Utf8.parse(f),v=Qc.enc.Utf8.parse(x);let w='{"message":"try again!"}';try{w=Qc.DES.decrypt(a,b,{iv:v,mode:Qc.mode.CBC,padding:Qc.pad.Pkcs7}).toString(Qc.enc.Utf8)}catch(e){oe().debug(`decodeVIPResopnce error, 即VIP章节解密失败：${e}`),w='{"message":"try again!"}'}return w}(t.responseHeaders,n)}try{o=JSON.parse(n)}catch(e){oe().debug(`json：${n}`),o=JSON.parse('{"message":"try again!"}')}e(o)}else{oe().error(`response status = ${t.status}`);const n=JSON.parse('{"message":"try again!"}');e(n)}}})})}"string"!=typeof o&&(o=o.token),n+="&token="+o;let i=await a(n.toString());for(;"message"in i&&"try again!"==i.message;){if(r++,r>le.Iz)throw r=0,oe().error(`请求${n.toString()}$失败`),new Error(`请求${n.toString()}$失败`);i=await a(n.toString())}if(oe().debug(`本章请求结果如下： response code ${i?.code}, info ${i.message}`),r=0,"content"in i){let e=i.content,n=i.sayBodyV2??" ";i.encryptField.includes("content")&&(e=s(e,i.encryptType)),i.encryptField.includes("sayBodyV2")&&(n=s(n,i.encryptType));const o=document.createElement("pre");o.innerHTML=e,o.innerHTML=o.textContent||"";const a=o.textContent||"";let r=a.split("\n").map(e=>e.trim()).join("\n\n");const c=document.createElement("div");c.innerHTML=a.split("\n").map(e=>e.trim()).map(e=>0===e.length?"<p><br/></p>":`<p>${e}</p>`).join("\n");const l=document.createElement("div");if(l.className="main",l.appendChild(c),n.trim().length>0){const e=document.createElement("hr"),t=document.createElement("div");t.innerHTML=n?.split("\n")?.map(e=>0===e.length?"<p><br/></p>":`<p>${e}</p>`)?.join("\n")??"",l.appendChild(e),l.appendChild(t)}return o.innerHTML=0===n.trim().length?o.innerHTML:[o.innerHTML,Jc,n].join("\n\n"),r=0===n.trim().length?r:[r,Jc,n].join("\n\n"),await(0,Z.yy)(2e3+Math.round(2e3*Math.random())),{chapterName:t,contentRaw:o,contentText:r,contentHTML:l,contentImages:null,additionalMetadate:null}}return await(0,Z.yy)(1e3+Math.round(1e3*Math.random())),{chapterName:t,contentRaw:null,contentText:null,contentHTML:null,contentImages:null,additionalMetadate:null}}():(oe().warn("当前我们更推荐手动捕获android版app token以下载章节,详见github主页说明,脚本将继续尝试使用远程字体下载，但可能会失败"),n?async function(){const n=await(0,Y.pG)(e,a);if(!n.querySelector("#buy_content")&&n.querySelector("div.noveltext")){const t=n.querySelector("div.noveltext h2").innerText.trim(),o=document.createElement("div");o.innerHTML=function(e){const t=function(){function t(e){return function(e){let t,n,o,a,i;t="";const r=e.length;for(n=0;n<r;)switch(o=e.charCodeAt(n++),o>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:t+=e.charAt(n-1);break;case 12:case 13:a=e.charCodeAt(n++),t+=String.fromCharCode((31&o)<<6|63&a);break;case 14:a=e.charCodeAt(n++),i=e.charCodeAt(n++),t+=String.fromCharCode((15&o)<<12|(63&a)<<6|63&i)}return t}(function(e){let t,o,a,i,r,s;const c=e.length;for(r=0,s="";r<c;){do{t=n[255&e.charCodeAt(r++)]}while(r<c&&-1==t);if(-1==t)break;do{o=n[255&e.charCodeAt(r++)]}while(r<c&&-1==o);if(-1==o)break;s+=String.fromCharCode(t<<2|(48&o)>>4);do{if(a=255&e.charCodeAt(r++),61==a)return s;a=n[a]}while(r<c&&-1==a);if(-1==a)break;s+=String.fromCharCode((15&o)<<4|(60&a)>>2);do{if(i=255&e.charCodeAt(r++),61==i)return s;i=n[i]}while(r<c&&-1==i);if(-1==i)break;s+=String.fromCharCode((3&a)<<6|i)}return s}(e))}const n=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1],o=e.querySelector("#contentlets, #contentvars")?.children;if(!o)throw new Error("获取章节失败");const a={};Array.from(o).forEach(e=>a[e.getAttribute("name")]=e.getAttribute("value"));const i=parseInt(a.novelid),r=parseInt(a.chapterid),s=function e(n){let o="";const a=document.cookie,i=n+"=";let r=a.indexOf("; "+i);-1==r?(r=a.indexOf(i),0!=r&&(o=null)):r+=2;let s=document.cookie.indexOf(";",r);if(-1==s&&(s=a.length),null!=o&&(o=unescape(a.substring(r+i.length,s))),null==o&&"token"!=n&&"managertoken"!=n){const o=["readerid","ubuntu","ptid","email","authorid","cookietime","islocaluser","authorname","newwindow","showname","examineright","logintype","certification","userclosecomment","shareweibo","commentfilterversion"],a=["managerid","managertoken","moderatorName","isAdmin","managername","loginSource","commentSearch"];if(o.indexOf(n)>-1){let a=e("token");const i=o.indexOf(n);if(null!=a)return a=t(a),a=a.split("|"),a[i]}else if(a.indexOf(n)>-1){let o=e("managertoken");const i=a.indexOf(n);if(null!=o)return o=t(o),o=o.split("|"),o[i]}return null}return o}("readerid");if(!s)throw new Error("无法获取客户号");const c=parseInt(s),l=a.accessKey,u=(e=>{let t=0;for(let n=0;n<e.length;n++)t+=e.charCodeAt(n);return t})(l);let p=0,d="";for(;p<=1;){let e="",t="";e=r%2==p?i+"."+r+"."+c+"."+l:l+"-"+i+"-"+r+"-"+c;const n=Qc.MD5(e).toString();t=r%2==p?n.slice(u%n.length)+n.slice(0,u%n.length):n.slice(u%(n.length+1))+n.slice(0,u%(n.length+1));let o=t.slice(0,16),s=t.slice(-16);n.charCodeAt(0)&&([o,s]=[s,o]);const m=a.cryptInfo;if(d=Qc.DES.decrypt(m,Qc.enc.Utf8.parse(o),{iv:Qc.enc.Utf8.parse(s)}).toString(Qc.enc.Utf8),""!=d)break;p++}const m=JSON.parse(atob(d));(e=>{if((new Date).getTime()/1e3-e.time>86400)throw new Error("章节内容解码失败，内容生成时间与当前设备时间相差过大，请刷新页面或校准当前设备时间。内容生成时间为:"+new Date(100*e.time).toLocaleString())})(m);const h=Qc.MD5(m.key+m.time+c).toString(),g=h.slice(u%h.length)+h.slice(0,u%h.length),f=g.slice(0,16),x=g.slice(-16);return Qc.DES.decrypt(a.content,Qc.enc.Utf8.parse(f),{iv:Qc.enc.Utf8.parse(x)}).toString(Qc.enc.Utf8)}(),n=(new DOMParser).parseFromString(t,"text/html");return function(){const t=Array.from(e.querySelectorAll("style")).map(e=>e.innerText).join("\n"),o=zc(t);Rc(o,function(e){if("Declaration"===e.type&&"content"===e.property){const t=(e.value.children.toArray()?.[0]).value,o=(this.rule?.prelude).children.toArray();for(const e of o){const o=e.children.toArray(),a=new Map(o.map(e=>[e.type,e.name])),i=a.get("ClassSelector"),r=a.get("PseudoClassSelector");if(i&&r&&t){const e=n.querySelector(`.${i}`);if(e){const o=e.parentNode,a=n.createElement("span");a.id=`${i}-${r}`,a.innerText=t,"before"===r?o?.insertBefore(a,e):"after"===r&&o?.insertBefore(a,e.nextSibling)}}}}}),Rc(o,function(e){if("Declaration"===e.type&&"display"===e.property){const t=(e.value.children.toArray()?.[0]).name,o=(this.rule?.prelude).children.toArray();for(const e of o){const o=e.children.toArray(),a=new Map(o.map(e=>[e.type,e.name])),i=a.get("ClassSelector"),r=a.get("PseudoClassSelector");i&&r&&"none"===t&&n.querySelector(`#${i}-${r}`)?.remove()}}})}(),n.body.innerHTML}(n),(0,ee.rm)("hr",!0,o);const a=n.querySelector(".readsmall");let i,r;if(a){(0,ee.rm)("hr",!0,a);const{dom:e,text:t}=await(0,X.an)(a,"TM");[i,r]=[e,t]}(0,ee.rm)("div",!0,o),(0,ee.j3)(["@无限好文，尽在晋江文学城"],o);let{dom:s,text:c,images:l}=await(0,X.an)(o,"TM");if(a&&i&&r){const e=document.createElement("hr");i.className="authorSay",s.appendChild(e),s.appendChild(i),c=c+"\n\n"+Jc+"\n\n"+r}let u=s,p=c;const[d,m,h]=await async function(t){let n=0;const[o,a]=function(){const e=t.querySelectorAll("body > style")[1];let n="",o="";if(e.sheet){const t=e.sheet.cssRules[e.sheet.cssRules.length-2],a=t.cssText.match(/jjwxcfont_[\d\w]+/),i=t.cssText.match(/{(.*)}/);if(a&&i){n=a[0];const e=i[1];for(const t of e.split(","))if(t.includes('format("woff2")')){const e=t.match(/url\("(.*)"\)\s/);if(e)return o=document.location.protocol+e[1],[n,o]}}}if(""!==n)return o=`${document.location.protocol}//static.jjwxc.net/tmp/fonts/${n}.woff2?h=my.jjwxc.net`,[n,o];{const e=t.querySelector("div.noveltext")?.classList;if(e&&(n=Array.from(e).filter(e=>e.startsWith("jjwxcfont_"))[0],n))return o=`${document.location.protocol}//static.jjwxc.net/tmp/fonts/${n}.woff2?h=my.jjwxc.net`,[n,o]}return[null,null]}();if(o&&a){const t=`${o}.woff2`;let i;const r=(0,K._s)(a);if(r)i=r;else{const o=await function t(o){return oe().debug(`[Chapter]请求 ${o} Referer ${e} 重试次数 ${n}`),(0,Y._V)(o,{headers:{accept:"*/*",Referer:e},responseType:"blob"}).then(a=>a.status>=200&&a.status<=299?a.response:(oe().error(`[Chapter]请求 ${o} 失败 Referer ${e}`),n<le.Iz?(n++,t(o)):null)).catch(e=>oe().error(e))}(a);i=new ie.q(a,t,"TM"),i.Blob=o,i.status=ae.nW.finished,(0,K.Ld)(i)}const s=document.createElement("style");return s.innerHTML=`.${o} {\n  font-family: ${o}, 'Microsoft YaHei', PingFangSC-Regular, HelveticaNeue-Light, 'Helvetica Neue Light', sans-serif !important;\n}\n@font-face {\n  font-family: ${o};\n  src: url('${t}') format('woff2');\n}\n.hide {\n  display: none;\n}`,[o,i,s]}return[null,null,null]}(n);if(d&&m&&h){p=await ue(d,c),l.push(m),u=document.createElement("div");const e=document.createElement("div");e.innerHTML=await ue(d,s.innerHTML),u.appendChild(h),s.className=`${d} hide`,u.appendChild(s),u.appendChild(e)}return{chapterName:t,contentRaw:o,contentText:p,contentHTML:u,contentImages:l,additionalMetadate:null}}return{chapterName:t,contentRaw:null,contentText:null,contentHTML:null,contentImages:null,additionalMetadate:null}}():async function(){const n=(await(0,Y.wA)(e,a)).querySelector("div.novelbody > div");if(n){(0,ee.rm)("hr",!0,n);const e=n.querySelector("div.danmu_total_str");let o,a;if(e){const{dom:t,text:n}=await(0,X.an)(e,"TM");[o,a]=[t,n]}(0,ee.rm)("div",!0,n),(0,ee.j3)(["@无限好文，尽在晋江文学城"],n);let{dom:i,text:r,images:s}=await(0,X.an)(n,"TM");if(e&&o&&a){const e=document.createElement("hr");o.className="authorSay",i.appendChild(e),i.appendChild(o),r=r+"\n\n"+Jc+"\n\n"+a}return{chapterName:t,contentRaw:n,contentText:r,contentHTML:i,contentImages:s,additionalMetadate:null}}return{chapterName:t,contentRaw:null,contentText:null,contentHTML:null,contentImages:null,additionalMetadate:null}}())}}},(e,t,n)=>{var o=n(57),a=n(59),i=n(60).C,r=n(61).P;function s(e){e||(e={}),this._file=a.getArg(e,"file",null),this._sourceRoot=a.getArg(e,"sourceRoot",null),this._skipValidation=a.getArg(e,"skipValidation",!1),this._ignoreInvalidMapping=a.getArg(e,"ignoreInvalidMapping",!1),this._sources=new i,this._names=new i,this._mappings=new r,this._sourcesContents=null}s.prototype._version=3,s.fromSourceMap=function(e,t){var n=e.sourceRoot,o=new s(Object.assign(t||{},{file:e.file,sourceRoot:n}));return e.eachMapping(function(e){var t={generated:{line:e.generatedLine,column:e.generatedColumn}};null!=e.source&&(t.source=e.source,null!=n&&(t.source=a.relative(n,t.source)),t.original={line:e.originalLine,column:e.originalColumn},null!=e.name&&(t.name=e.name)),o.addMapping(t)}),e.sources.forEach(function(t){var i=t;null!==n&&(i=a.relative(n,t)),o._sources.has(i)||o._sources.add(i);var r=e.sourceContentFor(t);null!=r&&o.setSourceContent(t,r)}),o},s.prototype.addMapping=function(e){var t=a.getArg(e,"generated"),n=a.getArg(e,"original",null),o=a.getArg(e,"source",null),i=a.getArg(e,"name",null);(this._skipValidation||!1!==this._validateMapping(t,n,o,i))&&(null!=o&&(o=String(o),this._sources.has(o)||this._sources.add(o)),null!=i&&(i=String(i),this._names.has(i)||this._names.add(i)),this._mappings.add({generatedLine:t.line,generatedColumn:t.column,originalLine:null!=n&&n.line,originalColumn:null!=n&&n.column,source:o,name:i}))},s.prototype.setSourceContent=function(e,t){var n=e;null!=this._sourceRoot&&(n=a.relative(this._sourceRoot,n)),null!=t?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[a.toSetString(n)]=t):this._sourcesContents&&(delete this._sourcesContents[a.toSetString(n)],0===Object.keys(this._sourcesContents).length&&(this._sourcesContents=null))},s.prototype.applySourceMap=function(e,t,n){var o=t;if(null==t){if(null==e.file)throw new Error('SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map\'s "file" property. Both were omitted.');o=e.file}var r=this._sourceRoot;null!=r&&(o=a.relative(r,o));var s=new i,c=new i;this._mappings.unsortedForEach(function(t){if(t.source===o&&null!=t.originalLine){var i=e.originalPositionFor({line:t.originalLine,column:t.originalColumn});null!=i.source&&(t.source=i.source,null!=n&&(t.source=a.join(n,t.source)),null!=r&&(t.source=a.relative(r,t.source)),t.originalLine=i.line,t.originalColumn=i.column,null!=i.name&&(t.name=i.name))}var l=t.source;null==l||s.has(l)||s.add(l);var u=t.name;null==u||c.has(u)||c.add(u)},this),this._sources=s,this._names=c,e.sources.forEach(function(t){var o=e.sourceContentFor(t);null!=o&&(null!=n&&(t=a.join(n,t)),null!=r&&(t=a.relative(r,t)),this.setSourceContent(t,o))},this)},s.prototype._validateMapping=function(e,t,n,o){if(t&&"number"!=typeof t.line&&"number"!=typeof t.column){var a="original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.";if(this._ignoreInvalidMapping)return"undefined"!=typeof console&&console.warn&&console.warn(a),!1;throw new Error(a)}if((!(e&&"line"in e&&"column"in e&&e.line>0&&e.column>=0)||t||n||o)&&!(e&&"line"in e&&"column"in e&&t&&"line"in t&&"column"in t&&e.line>0&&e.column>=0&&t.line>0&&t.column>=0&&n)){if(a="Invalid mapping: "+JSON.stringify({generated:e,source:n,original:t,name:o}),this._ignoreInvalidMapping)return"undefined"!=typeof console&&console.warn&&console.warn(a),!1;throw new Error(a)}},s.prototype._serializeMappings=function(){for(var e,t,n,i,r=0,s=1,c=0,l=0,u=0,p=0,d="",m=this._mappings.toArray(),h=0,g=m.length;h<g;h++){if(e="",(t=m[h]).generatedLine!==s)for(r=0;t.generatedLine!==s;)e+=";",s++;else if(h>0){if(!a.compareByGeneratedPositionsInflated(t,m[h-1]))continue;e+=","}e+=o.encode(t.generatedColumn-r),r=t.generatedColumn,null!=t.source&&(i=this._sources.indexOf(t.source),e+=o.encode(i-p),p=i,e+=o.encode(t.originalLine-1-l),l=t.originalLine-1,e+=o.encode(t.originalColumn-c),c=t.originalColumn,null!=t.name&&(n=this._names.indexOf(t.name),e+=o.encode(n-u),u=n)),d+=e}return d},s.prototype._generateSourcesContent=function(e,t){return e.map(function(e){if(!this._sourcesContents)return null;null!=t&&(e=a.relative(t,e));var n=a.toSetString(e);return Object.prototype.hasOwnProperty.call(this._sourcesContents,n)?this._sourcesContents[n]:null},this)},s.prototype.toJSON=function(){var e={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return null!=this._file&&(e.file=this._file),null!=this._sourceRoot&&(e.sourceRoot=this._sourceRoot),this._sourcesContents&&(e.sourcesContent=this._generateSourcesContent(e.sources,e.sourceRoot)),e},s.prototype.toString=function(){return JSON.stringify(this.toJSON())},t.x=s},(e,t,n)=>{var o=n(58);t.encode=function(e){var t,n="",a=function(e){return e<0?1+(-e<<1):0+(e<<1)}(e);do{t=31&a,(a>>>=5)>0&&(t|=32),n+=o.encode(t)}while(a>0);return n},t.decode=function(e,t,n){var a,i,r,s,c=e.length,l=0,u=0;do{if(t>=c)throw new Error("Expected more digits in base 64 VLQ value.");if(-1===(i=o.decode(e.charCodeAt(t++))))throw new Error("Invalid base64 digit: "+e.charAt(t-1));a=!!(32&i),l+=(i&=31)<<u,u+=5}while(a);n.value=(s=(r=l)>>1,1&~r?s:-s),n.rest=t}},(e,t)=>{var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");t.encode=function(e){if(0<=e&&e<n.length)return n[e];throw new TypeError("Must be between 0 and 63: "+e)},t.decode=function(e){return 65<=e&&e<=90?e-65:97<=e&&e<=122?e-97+26:48<=e&&e<=57?e-48+52:43==e?62:47==e?63:-1}},(e,t)=>{t.getArg=function(e,t,n){if(t in e)return e[t];if(3===arguments.length)return n;throw new Error('"'+t+'" is a required argument.')};var n=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,o=/^data:.+\,.+$/;function a(e){var t=e.match(n);return t?{scheme:t[1],auth:t[2],host:t[3],port:t[4],path:t[5]}:null}function i(e){var t="";return e.scheme&&(t+=e.scheme+":"),t+="//",e.auth&&(t+=e.auth+"@"),e.host&&(t+=e.host),e.port&&(t+=":"+e.port),e.path&&(t+=e.path),t}t.urlParse=a,t.urlGenerate=i;var r,s,c=(r=function(e){var n=e,o=a(e);if(o){if(!o.path)return e;n=o.path}for(var r=t.isAbsolute(n),s=[],c=0,l=0;;){if(c=l,-1===(l=n.indexOf("/",c))){s.push(n.slice(c));break}for(s.push(n.slice(c,l));l<n.length&&"/"===n[l];)l++}var u,p=0;for(l=s.length-1;l>=0;l--)"."===(u=s[l])?s.splice(l,1):".."===u?p++:p>0&&(""===u?(s.splice(l+1,p),p=0):(s.splice(l,2),p--));return""===(n=s.join("/"))&&(n=r?"/":"."),o?(o.path=n,i(o)):n},s=[],function(e){for(var t=0;t<s.length;t++)if(s[t].input===e){var n=s[0];return s[0]=s[t],s[t]=n,s[0].result}var o=r(e);return s.unshift({input:e,result:o}),s.length>32&&s.pop(),o});function l(e,t){""===e&&(e="."),""===t&&(t=".");var n=a(t),r=a(e);if(r&&(e=r.path||"/"),n&&!n.scheme)return r&&(n.scheme=r.scheme),i(n);if(n||t.match(o))return t;if(r&&!r.host&&!r.path)return r.host=t,i(r);var s="/"===t.charAt(0)?t:c(e.replace(/\/+$/,"")+"/"+t);return r?(r.path=s,i(r)):s}t.normalize=c,t.join=l,t.isAbsolute=function(e){return"/"===e.charAt(0)||n.test(e)},t.relative=function(e,t){""===e&&(e="."),e=e.replace(/\/$/,"");for(var n=0;0!==t.indexOf(e+"/");){var o=e.lastIndexOf("/");if(o<0)return t;if((e=e.slice(0,o)).match(/^([^\/]+:\/)?\/*$/))return t;++n}return Array(n+1).join("../")+t.substr(e.length+1)};var u=!("__proto__"in Object.create(null));function p(e){return e}function d(e){if(!e)return!1;var t=e.length;if(t<9)return!1;if(95!==e.charCodeAt(t-1)||95!==e.charCodeAt(t-2)||111!==e.charCodeAt(t-3)||116!==e.charCodeAt(t-4)||111!==e.charCodeAt(t-5)||114!==e.charCodeAt(t-6)||112!==e.charCodeAt(t-7)||95!==e.charCodeAt(t-8)||95!==e.charCodeAt(t-9))return!1;for(var n=t-10;n>=0;n--)if(36!==e.charCodeAt(n))return!1;return!0}function m(e,t){return e===t?0:null===e?1:null===t?-1:e>t?1:-1}t.toSetString=u?p:function(e){return d(e)?"$"+e:e},t.fromSetString=u?p:function(e){return d(e)?e.slice(1):e},t.compareByOriginalPositions=function(e,t,n){var o=m(e.source,t.source);return 0!==o||0!==(o=e.originalLine-t.originalLine)||0!==(o=e.originalColumn-t.originalColumn)||n||0!==(o=e.generatedColumn-t.generatedColumn)||0!==(o=e.generatedLine-t.generatedLine)?o:m(e.name,t.name)},t.compareByOriginalPositionsNoSource=function(e,t,n){var o;return 0!==(o=e.originalLine-t.originalLine)||0!==(o=e.originalColumn-t.originalColumn)||n||0!==(o=e.generatedColumn-t.generatedColumn)||0!==(o=e.generatedLine-t.generatedLine)?o:m(e.name,t.name)},t.compareByGeneratedPositionsDeflated=function(e,t,n){var o=e.generatedLine-t.generatedLine;return 0!==o||0!==(o=e.generatedColumn-t.generatedColumn)||n||0!==(o=m(e.source,t.source))||0!==(o=e.originalLine-t.originalLine)||0!==(o=e.originalColumn-t.originalColumn)?o:m(e.name,t.name)},t.compareByGeneratedPositionsDeflatedNoLine=function(e,t,n){var o=e.generatedColumn-t.generatedColumn;return 0!==o||n||0!==(o=m(e.source,t.source))||0!==(o=e.originalLine-t.originalLine)||0!==(o=e.originalColumn-t.originalColumn)?o:m(e.name,t.name)},t.compareByGeneratedPositionsInflated=function(e,t){var n=e.generatedLine-t.generatedLine;return 0!==n||0!==(n=e.generatedColumn-t.generatedColumn)||0!==(n=m(e.source,t.source))||0!==(n=e.originalLine-t.originalLine)||0!==(n=e.originalColumn-t.originalColumn)?n:m(e.name,t.name)},t.parseSourceMapInput=function(e){return JSON.parse(e.replace(/^\)]}'[^\n]*\n/,""))},t.computeSourceURL=function(e,t,n){if(t=t||"",e&&("/"!==e[e.length-1]&&"/"!==t[0]&&(e+="/"),t=e+t),n){var o=a(n);if(!o)throw new Error("sourceMapURL could not be parsed");if(o.path){var r=o.path.lastIndexOf("/");r>=0&&(o.path=o.path.substring(0,r+1))}t=l(i(o),t)}return c(t)}},(e,t,n)=>{var o=n(59),a=Object.prototype.hasOwnProperty,i="undefined"!=typeof Map;function r(){this._array=[],this._set=i?new Map:Object.create(null)}r.fromArray=function(e,t){for(var n=new r,o=0,a=e.length;o<a;o++)n.add(e[o],t);return n},r.prototype.size=function(){return i?this._set.size:Object.getOwnPropertyNames(this._set).length},r.prototype.add=function(e,t){var n=i?e:o.toSetString(e),r=i?this.has(e):a.call(this._set,n),s=this._array.length;r&&!t||this._array.push(e),r||(i?this._set.set(e,s):this._set[n]=s)},r.prototype.has=function(e){if(i)return this._set.has(e);var t=o.toSetString(e);return a.call(this._set,t)},r.prototype.indexOf=function(e){if(i){var t=this._set.get(e);if(t>=0)return t}else{var n=o.toSetString(e);if(a.call(this._set,n))return this._set[n]}throw new Error('"'+e+'" is not in the set.')},r.prototype.at=function(e){if(e>=0&&e<this._array.length)return this._array[e];throw new Error("No element indexed by "+e)},r.prototype.toArray=function(){return this._array.slice()},t.C=r},(e,t,n)=>{var o=n(59);function a(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}a.prototype.unsortedForEach=function(e,t){this._array.forEach(e,t)},a.prototype.add=function(e){var t,n,a,i,r,s;n=e,a=(t=this._last).generatedLine,i=n.generatedLine,r=t.generatedColumn,s=n.generatedColumn,i>a||i==a&&s>=r||o.compareByGeneratedPositionsInflated(t,n)<=0?(this._last=e,this._array.push(e)):(this._sorted=!1,this._array.push(e))},a.prototype.toArray=function(){return this._sorted||(this._array.sort(o.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},t.P=a},(e,t,n)=>{"use strict";n.d(t,{Zongheng:()=>h});var o=n(19),a=n(33),i=n(21),r=n(34),s=n(2),c=n.n(s),l=n(5),u=n(36),p=n(37),d=n(38),m=n(1);class h extends d.Q{constructor(){super(),this.attachmentMode="TM",this.concurrencyLimit=5}async bookParse(){let e=document.location.href.replace("/showchapter/","/book/");if(e=document.location.href.replace(/\?tabsName=.*$/,""),e!=document.location.href)return document.location.href=e,new p.E({bookUrl:e,bookname:"1",author:"1",introduction:"1",introductionHTML:null,additionalMetadate:{},chapters:[]});const t=e.match(/\/detail\/(\d+)/),n=t?t[1]:null;if(!n)return new p.E({bookUrl:e,bookname:"1",author:"1",introduction:"1",introductionHTML:null,additionalMetadate:{},chapters:[]});const a=document.querySelector(".book-info--title > span").innerText.trim(),i=document.querySelector("a.author-info--name").innerText.trim(),s=document.querySelector("section.detail-work-info--introduction"),[d,h]=await(0,r.HV)(s),g={},f=document.querySelector("img.book-info--coverImage-img").src;f&&(0,o.if)(f,this.attachmentMode,"cover-").then(e=>{g.cover=e}).catch(e=>c().error(e)),g.tags=Array.from(document.querySelectorAll(".book-info--tags > span")).map(e=>e.innerText.trim());const x=[],b=await async function(e){const t="https://bookapi.zongheng.com/api/chapter/getChapterList",n=new URLSearchParams;return n.append("bookId",e),new Promise(e=>{(0,m.nV)({url:t,headers:{Cookie:document.cookie,Origin:"https://www.zongheng.com",Referer:"https://www.zongheng.com/","Content-Type":"application/x-www-form-urlencoded"},method:"POST",data:n.toString(),onload:function(n){if(200===n.status){const t=JSON.parse(n.responseText);e(t)}else{c().error(`post ${t} response status = ${n.status}`);const o=JSON.parse('{"message":"天塌了"}');e(o)}}})})}(n);if(b.message&&"成功"===b.message){let t=0,o=0;for(const i of b.result.chapterList){t++;const r=i.tome.tomeName;let s=0;for(const c of i.chapterViewList){s++;const i=`https://read.zongheng.com/chapter/${n}/${c.chapterId}.html`,p=c.chapterName;o++;const d=0!=c.level,m=d,h=new u.I({bookUrl:e,bookname:a,chapterUrl:i,chapterNumber:o,chapterName:p,isVIP:d,isPaid:m,sectionName:r,sectionNumber:t,sectionChapterNumber:s,chapterParse:this.chapterParse,charset:this.charset,options:{}});d&&!m&&(h.status=l.nW.aborted),x.push(h)}}}else c().error(`获取目录失败 ${b.message}`);return new p.E({bookUrl:e,bookname:a,author:i,introduction:d,introductionHTML:h,additionalMetadate:g,chapters:x})}async chapterParse(e,t,n,o,r,s){return n?async function(){const e=document.createElement("div");e.innerText="VIP章节内容无法获取,请前往任意章节页再下载";const{dom:n,text:o,images:i}=await(0,a.an)(e,"TM");return{chapterName:t,contentRaw:e,contentText:o,contentHTML:n,contentImages:i,additionalMetadate:null}}():async function(){const n=(await(0,i.pG)(e,r)).querySelector("div.content");if(n){const{dom:e,text:o,images:i}=await(0,a.an)(n,"TM");return{chapterName:t,contentRaw:n,contentText:o,contentHTML:e,contentImages:i,additionalMetadate:null}}return{chapterName:t,contentRaw:null,contentText:null,contentHTML:null,contentImages:null,additionalMetadate:null}}()}}},(e,t,n)=>{"use strict";n.d(t,{Zongheng:()=>h});var o=n(19),a=n(33),i=n(21),r=n(34),s=n(2),c=n.n(s),l=n(5),u=n(36),p=n(37),d=n(38),m=n(1);class h extends d.Q{constructor(){super(),this.attachmentMode="TM",this.concurrencyLimit=1}async bookParse(){const e=document.location.href.match(/\/chapter\/(\d+)/),t=e?e[1]:null,n=`https://www.zongheng.com/detail/${t}`;if(!t)return new p.E({bookUrl:n,bookname:"1",author:"1",introduction:"1",introductionHTML:null,additionalMetadate:{},chapters:[]});const a=await(0,i.pG)(n),s=a.querySelector(".book-info--title > span").innerText.trim(),d=a.querySelector("a.author-info--name").innerText.trim(),h=a.querySelector("section.detail-work-info--introduction"),[g,f]=await(0,r.HV)(h),x={},b=a.querySelector("img.book-info--coverImage-img").src;b&&(0,o.if)(b,this.attachmentMode,"cover-").then(e=>{x.cover=e}).catch(e=>c().error(e)),x.tags=Array.from(document.querySelectorAll(".book-info--tags > span")).map(e=>e.innerText.trim());const v=[],w=await async function(e){const t="https://bookapi.zongheng.com/api/chapter/getChapterList",n=new URLSearchParams;return n.append("bookId",e),new Promise(e=>{(0,m.nV)({url:t,headers:{Cookie:document.cookie,Origin:"https://www.zongheng.com",Referer:"https://www.zongheng.com/","Content-Type":"application/x-www-form-urlencoded"},method:"POST",data:n.toString(),onload:function(n){if(200===n.status){const t=JSON.parse(n.responseText);e(t)}else{c().error(`post ${t} response status = ${n.status}`);const o=JSON.parse('{"message":"天塌了"}');e(o)}}})})}(t);if(w.message&&"成功"===w.message){let e=0,o=0;for(const a of w.result.chapterList){e++;const i=a.tome.tomeName;let r=0;for(const c of a.chapterViewList){r++;const a=`https://read.zongheng.com/chapter/${t}/${c.chapterId}.html`,p=c.chapterName;o++;const d=0!=c.level,m=d,h=new u.I({bookUrl:n,bookname:s,chapterUrl:a,chapterNumber:o,chapterName:p,isVIP:d,isPaid:m,sectionName:i,sectionNumber:e,sectionChapterNumber:r,chapterParse:this.chapterParse,charset:this.charset,options:{}});d&&!m&&(h.status=l.nW.aborted),v.push(h)}}}else c().error(`获取目录失败 ${w.message}`);return new p.E({bookUrl:n,bookname:s,author:d,introduction:g,introductionHTML:f,additionalMetadate:x,chapters:v})}async chapterParse(e,t,n,o,r,s){return n?async function(){const n=await(0,i.Q2)(e,e=>{const t=e.contentWindow?.document.querySelector("div.eccontent");return!!t&&t.innerHTML.length>=10}),o=document.createElement("div"),r=n?.contentWindow?.document.querySelector("div.eccontent");r?r.childNodes.forEach(e=>{if(e.nodeType===Node.ELEMENT_NODE&&"P"===e.nodeName){const t=document.createElement("p");let n=e;if(e.querySelector){const t=e.querySelector("span.content-txt");t&&(n=t)}t.innerText=n.innerText,o.appendChild(t)}}):o.innerHTML="获取章节内容失败";const{dom:s,text:c,images:l}=await(0,a.an)(o,"TM");return n?.remove(),{chapterName:t,contentRaw:o,contentText:c,contentHTML:s,contentImages:l,additionalMetadate:null}}():async function(){const n=(await(0,i.pG)(e,r)).querySelector("div.content");if(n){const{dom:e,text:o,images:i}=await(0,a.an)(n,"TM");return{chapterName:t,contentRaw:n,contentText:o,contentHTML:e,contentImages:i,additionalMetadate:null}}return{chapterName:t,contentRaw:null,contentText:null,contentHTML:null,contentImages:null,additionalMetadate:null}}()}}},(e,t,n)=>{"use strict";n.d(t,{C17k:()=>h});var o=n(19),a=n(33),i=n(21),r=n(9),s=n(34),c=n(2),l=n.n(c),u=n(5),p=n(36),d=n(37),m=n(38);class h extends m.Q{constructor(){super(),this.attachmentMode="TM",this.charset="UTF-8",this.concurrencyLimit=5}async bookParse(){const e=document.location.href.replace("/list/","/book/"),t=document.querySelector("h1.Title").innerText.trim(),n=document.querySelector("div.Author > a").innerText.trim(),a=await(0,i.wA)(e,void 0),r=a.querySelector("#bookInfo p.intro > a"),[c,m]=await(0,s.HV)(r),h={},g=a.querySelector("#bookCover img.book").src;g&&(0,o.if)(g,this.attachmentMode,"cover-").then(e=>{h.cover=e}).catch(e=>l().error(e));const f=[],x=document.querySelectorAll("dl.Volume");let b=0;for(let n=0;n<x.length;n++){const o=x[n],a=n+1,i=o.querySelector("dt > span.tit").innerText.trim();let r=0;const s=o.querySelectorAll("dd > a");for(const n of Array.from(s)){const o=n.firstElementChild;b++,r++;const s=o.innerText.trim(),c=n.href,l=()=>!!o?.className.includes("vip"),d=()=>!1,m=new p.I({bookUrl:e,bookname:t,chapterUrl:c,chapterNumber:b,chapterName:s,isVIP:l(),isPaid:d(),sectionName:i,sectionNumber:a,sectionChapterNumber:r,chapterParse:this.chapterParse,charset:this.charset,options:{}}),h=()=>!1;!l()||h()&&m.isPaid||(m.status=u.nW.aborted),f.push(m)}}const v=new d.E({bookUrl:e,bookname:t,author:n,introduction:c,introductionHTML:m,additionalMetadate:h,chapters:f});return v.ToCUrl=document.location.href,v}async chapterParse(e,t,n,o,s,c){return n?async function(){return{chapterName:t,contentRaw:null,contentText:null,contentHTML:null,contentImages:null,additionalMetadate:null}}():async function(){const n=await(0,i.wA)(e,s);t=n.querySelector("#readArea > div.readAreaBox.content > h1").innerText.trim();const o=n.querySelector("#readArea > div.readAreaBox.content > div.p");if(o){(0,r.rm)("p.copy",!1,o),(0,r.rm)("#banner_content",!1,o),(0,r.rm)("div.qrcode",!1,o),(0,r.rm)("div.chapter_text_ad",!1,o);const{dom:e,text:n,images:i}=await(0,a.an)(o,"TM");return{chapterName:t,contentRaw:o,contentText:n,contentHTML:e,contentImages:i,additionalMetadate:null}}return{chapterName:t,contentRaw:null,contentText:null,contentHTML:null,contentImages:null,additionalMetadate:null}}()}}},(e,t,n)=>{"use strict";n.d(t,{Shuhai:()=>g});var o=n(19),a=n(33),i=n(21),r=n(4),s=n(9),c=n(34),l=n(2),u=n.n(l),p=n(5),d=n(36),m=n(37),h=n(38);class g extends h.Q{constructor(){super(),this.attachmentMode="TM",this.concurrencyLimit=5,this.charset="GBK"}async bookParse(){const e=document.location.href,t=document.querySelector("div.book-info-bookname > span:nth-child(1)").innerText.trim(),n=document.querySelector("div.book-info-bookname > span:nth-child(2)").innerText.replace("作者: ","").trim(),a=document.querySelector("div.book-info-bookintro")||document.querySelector("div.book-info-bookintro-all"),[i,s]=await(0,c.HV)(a),l={},h=document.querySelector(".book-cover-wrapper > img").getAttribute("data-original");h&&(0,o.if)(h,this.attachmentMode,"cover-").then(e=>{l.cover=e}).catch(e=>u().error(e)),l.tags=Array.from(document.querySelectorAll(".book-info-bookstate > .tag")).map(e=>e.innerText.trim());const g=[];0===document.querySelectorAll("#catalog > .chapter-item").length&&await(0,r.yy)(3e3);const f=document.querySelectorAll("#catalog > .chapter-item");let x=0,b=0,v=null,w=0;for(const n of Array.from(f))if("SPAN"===n.nodeName)b++,w=0,v=n?.innerText.trim();else if("DIV"===n.nodeName){x++,w++;const o=n.querySelector("a"),a=()=>2===n.childElementCount,i=()=>!1,r=o.innerText.trim(),s=o.href,c=new d.I({bookUrl:e,bookname:t,chapterUrl:s,chapterNumber:x,chapterName:r,isVIP:a(),isPaid:i(),sectionName:v,sectionNumber:b,sectionChapterNumber:w,chapterParse:this.chapterParse,charset:this.charset,options:{}}),l=()=>!1;!a()||l()&&c.isPaid||(c.status=p.nW.aborted),g.push(c)}return new m.E({bookUrl:e,bookname:t,author:n,introduction:i,introductionHTML:s,additionalMetadate:l,chapters:g})}async chapterParse(e,t,n,o,r,c){return n?async function(){return{chapterName:t,contentRaw:null,contentText:null,contentHTML:null,contentImages:null,additionalMetadate:null}}():async function(){const n=await(0,i.pG)(e,r);t=n.querySelector("div.chapter-name").innerText.replace("正文 ","").trim();const o=n.querySelector("#reader-content > div:nth-child(1)");if(o){(0,s.rm)("div.chaper-info",!1,o);const{dom:e,text:n,images:i}=await(0,a.an)(o,"TM");return{chapterName:t,contentRaw:o,contentText:n,contentHTML:e,contentImages:i,additionalMetadate:null}}return{chapterName:t,contentRaw:null,contentText:null,contentHTML:null,contentImages:null,additionalMetadate:null}}()}}},(e,t,n)=>{"use strict";n.d(t,{Gongzicp:()=>h});var o=n(22),a=n(19),i=n(4),r=n(34),s=n(2),c=n.n(s),l=n(5),u=n(36),p=n(37),d=n(38),m=n(3);class h extends d.Q{constructor(){super(),this.attachmentMode="TM",this.concurrencyLimit=1,this.maxRunLimit=1,this.sleepTime=600,this.maxSleepTime=3e3}async bookParse(){const e=document.location.href,t=document.querySelector("span.c-light-gray").innerText.replace("CP","");if(!t)throw new Error("获取bookID出错");const n=new URL("https://www.gongzicp.com/webapi/novel/novelInfo");n.searchParams.set("id",t);const o=new URL("https://www.gongzicp.com/webapi/novel/chapterGetList");o.searchParams.set("nid",t),c().debug(`请求地址: ${n.toString()}`);const i=await fetch(n.toString(),{credentials:"include",headers:{Accept:"application/json, text/plain, */*",Client:"pc",Lang:"cn","Content-Type":"application/json;charset=utf-8"},referrer:e,method:"GET",mode:"cors"}).then(e=>e.json()).catch(e=>c().error(e));if(200!==i.code)throw new Error(`数据接口请求失败，URL:${n.toString()}`);const s=i.data,d=s.novel_name,m=s.author_nickname,h=document.createElement("div");h.innerHTML=s.novel_info;const[g,f]=await(0,r.HV)(h),x={},b=s.novel_cover;b&&(0,a.if)(b,this.attachmentMode,"cover-").then(e=>{x.cover=e}).catch(e=>c().error(e)),x.tags=s.tag_list;const v=await async function(){const e="https://www.gongzicp.com/webapi/user/getUserInfo";return c().debug(`正在请求: ${e}`),200===(await fetch(e,{headers:{accept:"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest"},method:"GET",mode:"cors",credentials:"include"}).then(e=>e.json()).catch(e=>c().error(e))).code}();c().debug(`请求地址: ${o.toString()}`);const w=await fetch(o.toString(),{credentials:"include",headers:{Accept:"application/json, text/plain, */*",Client:"pc",Lang:"cn","Content-Type":"application/json;charset=utf-8"},referrer:e,method:"GET",mode:"cors"}).then(e=>e.json()).catch(e=>c().error(e));if(200!==i.code)throw new Error(`数据接口请求失败，URL:${o.toString()}`);const y=[],k=w.data.list;let S=0,T=null,A=0;for(const t of k)if("volume"===t.type)S=t.vid,T=t.name,A=0;else if("item"===t.type){const n=[document.location.origin,`read-${t.id}.html`].join("/"),o=parseInt(t.order),a=t.name,i=t.pay,r=t.is_sub||1===t.is_free_limit,c=t.lock||1!==t.chapter_status;A++;const p={novel_id:s.novel_id,chapter_id:t.id},m=new u.I({bookUrl:e,bookname:d,chapterUrl:n,chapterNumber:o,chapterName:a,isVIP:i,isPaid:r,sectionName:T,sectionNumber:S,sectionChapterNumber:A,chapterParse:this.chapterParse,charset:this.charset,options:p});(!i||v&&m.isPaid)&&!c||(m.status=l.nW.aborted),y.push(m)}return new p.E({bookUrl:e,bookname:d,author:m,introduction:g,introductionHTML:f,additionalMetadate:x,chapters:y})}async chapterParse(e,t,n,a,r,s){function l(){if(c().info("[chapter]随机翻页中……"),document.location.pathname.includes("novel"))document.querySelector(".chapter-list .chapter a").click();else if(document.location.pathname.includes("read")){const e=document.querySelector(".right-menu").childElementCount,t=document.querySelector(`.right-menu > div:nth-child(${e-1}) > a:nth-child(1)`),n=document.querySelector(`.right-menu > div:nth-child(${e}) > a:nth-child(1)`);t&&t.textContent?.includes("一章")?Math.random()<.3?t.click():n.click():n&&n.textContent?.includes("一章")?n.click():c().info("[chapter]随机翻页失败，可能是页面结构变化或者只有一章")}}return async function(){return await async function(){Math.random()<.2&&l(),await(0,i.yy)(3e3+Math.round(4e3*Math.random()))}(),async function(){const n=s.chapter_id,a=new URL("https://www.gongzicp.com/webapi/novel/chapterGetInfo");a.searchParams.set("cid",n.toString()),a.searchParams.set("server","0");let r=0;const u=await async function t(n){c().debug(`请求地址: ${n}, Referrer: ${e}，retryTime：${r}`);const o=unsafeWindow.sessionStorage.getItem("token"),a=await fetch(n,{credentials:"include",headers:{Accept:"application/json, text/plain, */*",Client:"pc","Content-Type":"application/json",Authorization:"Basic 6ZmI5aSn5a6dOmNwMTIzNDU2",Token:`${o}`},referrer:e,method:"GET"}).then(e=>e.json()).catch(e=>c().error(e));if(0!==a.data.chapterInfo.content.length&&a.data.chapterInfo.content.length<30){if(r++,r>m.Iz)throw c().error(`请求 ${n} 失败`),new Error(`请求 ${n} 失败`);c().warn("[chapter]疑似被阻断，进行随机翻页……");const e=Math.round(Math.random()*r)+1;for(let t=0;t<e;t++)await(0,i.yy)(3e3+Math.round(5e3*Math.random())),l();return await(0,i.yy)(3e3+Math.round(2e3*Math.random())),t(n)}return r=0,a}(a.toString());if(200===u.code){const e=u.data.chapterInfo;if(0!==e.chapterPrice&&0===e.content.length)return{chapterName:t,contentRaw:null,contentText:null,contentHTML:null,contentImages:null,additionalMetadate:null};if(0===e.chapterPrice||0!==e.chapterPrice&&0!==e.content.length){const n=(p=e.content,new class{iv;key;constructor(e,t){e+=parseInt("165455",14).toString(32),this.iv=o.enc.Utf8.parse("$h$b3!"+e),t=atob(t)+parseInt("4d5a6c8",14).toString(36),this.key=o.enc.Utf8.parse(t+"A")}encrypt(e){if("string"==typeof e){const t=JSON.stringify(e),n=o.enc.Utf8.parse(t);return o.AES.encrypt(n,this.key,{mode:o.mode.CBC,padding:o.pad.Pkcs7,iv:this.iv})}}decrypt(e){const t=o.AES.decrypt(e,this.key,{mode:o.mode.CBC,padding:o.pad.Pkcs7,iv:this.iv});return o.enc.Utf8.stringify(t).toString()}}("iGzsYn","dTBMUnJidSRFbg==").decrypt(p)),a=document.createElement("pre");a.innerHTML=n;let r,s=n.split("\n").map(e=>e.trim()).join("\n\n");const c=document.createElement("div");if(c.innerHTML=n.split("\n").map(e=>e.trim()).map(e=>0===e.length?"<p><br/></p>":`<p>${e}</p>`).join("\n"),null===e.postscript||0===e.postscript.length)r=c;else{r=document.createElement("div"),r.className="main";const t=document.createElement("hr"),n=document.createElement("div");n.innerHTML=e.postscript.split("\n").map(e=>0===e.length?"<p><br/></p>":`<p>${e}</p>`).join("\n"),r.appendChild(c),r.appendChild(t),r.appendChild(n),a.innerHTML=[a.innerHTML,"-".repeat(20),e.postscript].join("\n\n"),s=[s,"-".repeat(20),e.postscript].join("\n\n")}return await(0,i.yy)(3e3+Math.round(5e3*Math.random())),{chapterName:t,contentRaw:a,contentText:s,contentHTML:r,contentImages:null,additionalMetadate:null}}}var p;return{chapterName:t,contentRaw:null,contentText:null,contentHTML:null,contentImages:null,additionalMetadate:null}}()}()}}},(e,t,n)=>{"use strict";n.d(t,{Linovel:()=>m});var o=n(19),a=n(33),i=n(21),r=n(34),s=n(2),c=n.n(s),l=n(5),u=n(36),p=n(37),d=n(38);class m extends d.Q{constructor(){super(),this.attachmentMode="TM",this.concurrencyLimit=5}async bookParse(){const e=document.location.href,t=document.querySelector(".book-title").innerText.trim(),n=document.querySelector(".author-frame > .novelist > div:nth-child(3) > a").innerText.trim(),a=document.querySelector(".about-text"),[i,s]=await(0,r.HV)(a),d={},m=[],h=document.querySelector(".book-cover > a").href;h&&(m.push(h),(0,o.if)(h,this.attachmentMode,"cover-").then(e=>{d.cover=e}).catch(e=>c().error(e))),d.attachments=[];const g=Array.from(document.querySelectorAll(".section-list > .section > .volume-info > .volume-cover a")).map(e=>e.href);for(const e of g)m.includes(e)||(m.push(e),(0,o.if)(e,this.attachmentMode,"volumeCover-").then(e=>{d.attachments?.push(e)}).catch(e=>c().error(e)));d.tags=Array.from(document.querySelectorAll("div.meta-info > div.book-cats.clearfix > a")).map(e=>e.innerText.trim());const f=[],x=document.querySelectorAll(".section-list > .section");let b=0;for(let n=0;n<x.length;n++){const o=x[n],a=n+1,i=o.querySelector(".volume-info > h2.volume-title > a").innerText.trim();let r=0;const s=o.querySelectorAll(".chapter-list > .text-content-actual div.chapter");for(const n of Array.from(s)){const o=n.firstElementChild;b++,r++;const s=o.innerText.trim(),c=o.href,p=()=>!!n.className.includes("lock")&&!n.className.includes("unlock"),d=()=>!1,m=new u.I({bookUrl:e,bookname:t,chapterUrl:c,chapterNumber:b,chapterName:s,isVIP:p(),isPaid:d(),sectionName:i,sectionNumber:a,sectionChapterNumber:r,chapterParse:this.chapterParse,charset:this.charset,options:{}}),h=()=>!1;!p()||h()&&m.isPaid||(m.status=l.nW.aborted),f.push(m)}}return new p.E({bookUrl:e,bookname:t,author:n,introduction:i,introductionHTML:s,additionalMetadate:d,chapters:f})}async chapterParse(e,t,n,o,r,s){return n?async function(){return{chapterName:t,contentRaw:null,contentText:null,contentHTML:null,contentImages:null,additionalMetadate:null}}():async function(){const t=await(0,i.wA)(e,r),n=t.querySelector(".article-title").innerText.trim(),o=t.querySelector(".article-text");if(o){const{dom:e,text:t,images:i}=await(0,a.an)(o,"TM");return{chapterName:n,contentRaw:o,contentText:t,contentHTML:e,contentImages:i,additionalMetadate:null}}return{chapterName:n,contentRaw:null,contentText:null,contentHTML:null,contentImages:null,additionalMetadate:null}}()}}},(e,t,n)=>{"use strict";n.d(t,{Tadu:()=>m});var o=n(19),a=n(33),i=n(21),r=n(34),s=n(2),c=n.n(s),l=n(5),u=n(36),p=n(37),d=n(38);class m extends d.Q{constructor(){super(),this.attachmentMode="TM",this.concurrencyLimit=5}async bookParse(){const e=document.location.href,t=document.querySelector("div.bookNm > a.bkNm").innerText.trim(),n=document.querySelector("div.authorInfo > a.author > span").innerText.trim(),a=document.querySelector("div.boxCenter.boxT.clearfix > div.lf.lfO > p.intro"),[i,s]=await(0,r.HV)(a),d={},m=document.querySelector("a.bookImg > img").getAttribute("data-src");m&&(0,o.if)(m,this.attachmentMode,"cover-").then(e=>{d.cover=e}).catch(e=>c().error(e));const h=[],g=document.querySelectorAll("div.lf.lfT > li > div > a");let f=0;for(const n of Array.from(g)){f++;const o=n.innerText,a=n.href,i=()=>!!n.childElementCount,r=()=>!1,s=new u.I({bookUrl:e,bookname:t,chapterUrl:a,chapterNumber:f,chapterName:o,isVIP:i(),isPaid:r(),sectionName:null,sectionNumber:null,sectionChapterNumber:null,chapterParse:this.chapterParse,charset:this.charset,options:{}}),c=()=>!1;!i()||c()&&s.isPaid||(s.status=l.nW.aborted),h.push(s)}return new p.E({bookUrl:e,bookname:t,author:n,introduction:i,introductionHTML:s,additionalMetadate:d,chapters:h})}async chapterParse(e,t,n,o,r,s){return n?async function(){return{chapterName:t,contentRaw:null,contentText:null,contentHTML:null,contentImages:null,additionalMetadate:null}}():async function(){c().debug(`[Chapter]请求 ${e}`);const n=await(0,i.wA)(e,r),o=document.createElement("div"),s=n.getElementById("bookPartResourceUrl")?.getAttribute("value");if(s){const e=new URL(document.location.href),n=`${e.protocol}//${e.host}`,r=new URL(s,n);r.searchParams.set("callback","callback"),c().debug(`[Chapter]请求 ${r.toString()}`);const l=await(0,i._V)(r.toString(),{headers:{accept:"*/*",Referer:document.location.origin}}).then(e=>{if(e.status>=200&&e.status<=299)return e.responseText;throw new Error(`Bad response! ${r.toString()}`)}).catch(e=>c().error(e));if(!l)throw new Error("jsonp request failed!");const u=new Function(`function callback(obj) { return obj; } return ${l};`)();if("object"==typeof u){o.innerHTML=u.content;const{dom:e,text:n,images:i}=await(0,a.an)(o,"TM");return{chapterName:t,contentRaw:o,contentText:n,contentHTML:e,contentImages:i,additionalMetadate:null}}}return{chapterName:t,contentRaw:null,contentText:null,contentHTML:null,contentImages:null,additionalMetadate:null}}()}}},(e,t,n)=>{"use strict";n.d(t,{Idejian:()=>d});var o=n(19),a=n(33),i=n(34),r=n(2),s=n.n(r),c=n(36),l=n(37),u=n(38),p=n(1);class d extends u.Q{constructor(){super(),this.attachmentMode="TM",this.maxRunLimit=1,this.sleepTime=500,this.maxSleepTime=3e3,this.concurrencyLimit=1}async bookParse(){const e=document.location.href,t=e.match(/\/(\d+)\/$/),n=t&&t[1],a=async(e,t)=>{let o=!1;return await fetch(`https://www.idejian.com/catelog/${n}/1?page=${t}`,{method:"GET",headers:{"Content-Type":"application/json"}}).then(e=>e.json()).then(t=>{t.html?(e.insertAdjacentHTML("beforeend",t.html),o=!0):o=!1}).catch(e=>{console.error("Error:",e),o=!1}),o},r=document.querySelector(".detail_bkname > a").innerText.trim(),u=document.querySelector(".detail_bkauthor").childNodes[0];let p="佚名";u&&u.textContent&&(p=u.textContent.trim());const d=document.querySelector(".brief_con"),[m,h]=await(0,i.HV)(d),g={},f=document.querySelector(".book_img > img").src;f&&(0,o.if)(f,this.attachmentMode,"cover-").then(e=>{g.cover=e}).catch(e=>s().error(e)),g.tags=Array.from(document.querySelectorAll("div.detail_bkgrade > span")).map(e=>e.innerText.trim());const x=[],b=(await(async()=>{const e=document.createElement("div");let t=0,n=!0;for(;n;)t++,n=await a(e,t);return e})()).querySelectorAll("li > a");let v=0;for(const t of Array.from(b)){v++;const n=t.innerText,o=t.href,a=!1,i=!1,s=new c.I({bookUrl:e,bookname:r,chapterUrl:o,chapterNumber:v,chapterName:n,isVIP:a,isPaid:i,sectionName:null,sectionNumber:null,sectionChapterNumber:null,chapterParse:this.chapterParse,charset:this.charset,options:{}});x.push(s)}return document.cookie="",new l.E({bookUrl:e,bookname:r,author:p,introduction:m,introductionHTML:h,additionalMetadate:g,chapters:x})}async chapterParse(e,t,n,o,i){const r=e.replace("https://www.idejian.com","https://wechat.idejian.com/api/wechat").replace(".html","");s().debug(`[Chapter]请求 ${r}，Refer：${e}`);const c=await new Promise(e=>{(0,p.nV)({url:r,headers:{"cache-control":"no-cache","accept-encoding":"gzip"},method:"GET",onload:function(t){if(200===t.status){const n=JSON.parse(t.responseText);e(n)}else{s().error(`response status = ${t.status}`);const n=JSON.parse('{"msg":"ND error"}');e(n)}}})});if("ND error"===c.msg)throw new Error("chapter get error");const l=c.body.content;if(l){const e=document.createElement("div");e.innerHTML=l;const{dom:n,text:o,images:i}=await(0,a.an)(e,"TM");return{chapterName:t,contentRaw:e,contentText:o,contentHTML:n,contentImages:i,additionalMetadate:null}}return{chapterName:t,contentRaw:null,contentText:null,contentHTML:null,contentImages:null,additionalMetadate:null}}}},(e,t,n)=>{"use strict";n.d(t,{Qimao:()=>m});var o=n(19),a=n(33),i=n(21),r=n(2),s=n.n(r),c=n(5),l=n(36),u=n(37),p=n(38),d=n(4);class m extends p.Q{constructor(){super(),this.attachmentMode="TM"}async bookParse(){const e=document.location.href,t=document.querySelector("div.title > span.txt").innerText.trim(),n=document.querySelector("div.sub-title > span.txt > em > a").innerHTML.trim(),a=document.querySelector("head > meta[name='description']").getAttribute("content")||"",i=document.createElement("div");i.appendChild(document.createTextNode(a));const r={},p=document.querySelector("div.wrap-pic > img").src;p&&(0,o.if)(p,this.attachmentMode,"cover-").then(e=>{r.cover=e}).catch(e=>s().error(e)),r.tags=Array.from(document.querySelectorAll("em.qm-tag > a")).map(e=>e.innerText.trim());const d=[],m=document.querySelectorAll("ul.clearfix > li > a > span.txt");let h=0;for(const n of Array.from(m)){h++;const o=n.innerText,a=n.parentNode.href,i=()=>!!n.previousElementSibling,r=()=>!1,s=new l.I({bookUrl:e,bookname:t,chapterUrl:a,chapterNumber:h,chapterName:o,isVIP:i(),isPaid:r(),sectionName:null,sectionNumber:null,sectionChapterNumber:null,chapterParse:this.chapterParse,charset:this.charset,options:{}}),u=()=>!1;!i()||u()&&s.isPaid||(s.status=c.nW.aborted),d.push(s)}return new u.E({bookUrl:e,bookname:t,author:n,introduction:a,introductionHTML:i,additionalMetadate:r,chapters:d})}async chapterParse(e,t,n,o,r,c){return n?async function(){return{chapterName:t,contentRaw:null,contentText:null,contentHTML:null,contentImages:null,additionalMetadate:null}}():(await(0,d.yy)(3e3+Math.round(2e3*Math.random())),async function(){s().debug(`[Chapter]请求 ${e}`);const n=await(0,i.wA)(e,r);t=n.querySelector(".chapter-title").innerText.trim();const o=n.querySelector(".article");if(o){const{dom:e,text:n,images:i}=await(0,a.an)(o,"TM");return{chapterName:t,contentRaw:o,contentText:n,contentHTML:e,contentImages:i,additionalMetadate:null}}return{chapterName:t,contentRaw:null,contentText:null,contentHTML:null,contentImages:null,additionalMetadate:null}}())}}},(e,t,n)=>{"use strict";n.d(t,{Sosadfun:()=>l});var o=n(33),a=n(21),i=n(5),r=n(36),s=n(37),c=n(38);class l extends c.Q{constructor(){super(),this.attachmentMode="TM"}async bookParse(){const e=document.location.origin+document.location.pathname,t=document.querySelector(".font-1").innerText.trim(),n=document.querySelector("div.h5:nth-child(1) > div:nth-child(1) > a:nth-child(1)");let a;a=n?n.innerText.trim():"匿名咸鱼";const c={};let l,u,p;if(c.tags=Array.from(document.querySelectorAll("div.h5:nth-child(1) > div:nth-child(3) > a")).map(e=>e.innerText.trim()),"主楼隐藏，请登录后查看"===document.querySelector(".col-xs-12 > .main-text.no-selection").innerText.trim())throw alert("本小说需要登录后浏览！"),new i.K5("本小说需要登录后浏览！");{p=document.createElement("div");const e=document.querySelector("div.article-title div.h5"),t=document.querySelector(".col-xs-12 > .main-text.no-selection");if(e){const t=document.createElement("p");t.innerText=e.innerText,p.appendChild(t)}if(t)for(const e of Array.from(t.cloneNode(!0).children))p.appendChild(e)}if(null===p)l=null,u=null;else{const{dom:e,text:t,images:n}=await(0,o.an)(p,"TM");l=t,u=e,n&&(c.attachments=[...n])}const d=[],m=document.querySelectorAll(".table > tbody:nth-child(2) > tr > th:nth-child(1) > a");let h=0;for(const n of Array.from(m)){h++;const o=n.innerText.trim(),a=n.href,i=new r.I({bookUrl:e,bookname:t,chapterUrl:a,chapterNumber:h,chapterName:o,isVIP:!1,isPaid:!1,sectionName:null,sectionNumber:null,sectionChapterNumber:null,chapterParse:this.chapterParse,charset:this.charset,options:{}});d.push(i)}return new s.E({bookUrl:e,bookname:t,author:a,introduction:l,introductionHTML:u,additionalMetadate:c,chapters:d})}async chapterParse(e,t,n,i,r,s){const c=await(0,a.wA)(e,r);t=c.querySelector("strong.h3").innerText.trim();const l=document.createElement("div"),u=c.querySelector(".main-text.no-selection > span[id^=full]"),p=c.querySelector(".main-text.no-selection > .grayout");if(u)for(const e of Array.from(u.cloneNode(!0).children))l.appendChild(e);if(u){let{dom:e,text:n,images:a}=await(0,o.an)(l,"TM");if(p){const{dom:t,text:i,images:r}=await(0,o.an)(p,"TM"),s=document.createElement("hr"),c=document.createElement("div");c.className="authorSay";for(const e of Array.from(t.cloneNode(!0).children))c.appendChild(e);l.appendChild(s),l.appendChild(c),e.appendChild(s),e.appendChild(c),n=n+"\n\n"+"-".repeat(20)+"\n\n"+i,r.forEach(e=>a.push(e))}return{chapterName:t,contentRaw:l,contentText:n,contentHTML:e,contentImages:a,additionalMetadate:null}}return{chapterName:t,contentRaw:null,contentText:null,contentHTML:null,contentImages:null,additionalMetadate:null}}}},(e,t,n)=>{"use strict";n.d(t,{Fushuwang:()=>l});var o=n(33),a=n(21),i=n(9),r=n(36),s=n(37),c=n(38);class l extends c.Q{saveOptions;constructor(){super(),this.attachmentMode="TM",this.charset="GBK",this.maxRunLimit=5,this.saveOptions={genChapterText:(e,t)=>`${t}\n`}}async bookParse(){const e=(document.location.origin+document.location.pathname).replace(/(_\d+)\.html$/,".html"),[t,n]=document.querySelector(".title_info > tbody:nth-child(1) > tr:nth-child(1) > td:nth-child(1) > h1:nth-child(1)").innerText.split("——"),[o,a]=[null,null],i=document.querySelectorAll("p.pageLink > select > option"),c=Array.from(i).map(e=>document.location.origin+e.getAttribute("value")),l=[];for(let n=0;n<c.length;n++){const o=c[n],a=`page${n}`,i=!1,s=!1,u=new r.I({bookUrl:e,bookname:t,chapterUrl:o,chapterNumber:n+1,chapterName:a,isVIP:i,isPaid:s,sectionName:null,sectionNumber:null,sectionChapterNumber:null,chapterParse:this.chapterParse,charset:this.charset,options:{}});l.push(u)}const u=new s.E({bookUrl:e,bookname:t,author:n,introduction:o,introductionHTML:a,additionalMetadate:{},chapters:l});return u.saveOptions=this.saveOptions,u}async chapterParse(e,t,n,r,s,c){const l=(await(0,a.wA)(e,s)).querySelector("#text");if(l){(0,i.rm)("span",!0,l),(0,i.rm)("p.pageLink",!0,l),(0,i.rm)("script",!0,l);const{dom:e,text:n,images:a}=await(0,o.an)(l,"TM");return{chapterName:t,contentRaw:l,contentText:n,contentHTML:e,contentImages:a,additionalMetadate:null}}return{chapterName:t,contentRaw:null,contentText:null,contentHTML:null,contentImages:null,additionalMetadate:null}}}},(e,t,n)=>{"use strict";n.d(t,{Lofter:()=>m});var o=n(19),a=n(33),i=n(21),r=n(2),s=n.n(r),c=n(36),l=n(37),u=n(38),p=n(9),d=n(74);class m extends u.Q{constructor(){super(),this.attachmentMode="TM",this.concurrencyLimit=1,this.streamZip=!0}async bookParse(){const e=document.location.origin,t=document.title,n=t+"的Lofter",a=document.querySelector('meta[name="Description"]')?.getAttribute("content")?.replace(new RegExp(`^${t} - `),"")??null;let r=null;a&&(r=document.createElement("p"),r.innerText=a);const u={},p=document.querySelector('link[rel="shortcut icon"]')?.getAttribute("href");if(p){const e=new URL(p);e.search="";const t=e.toString();(0,o.if)(t,this.attachmentMode,"avatar-").then(e=>{u.cover=e}).catch(e=>s().error(e))}const d=[],m=new Set,h=[],g=async e=>{s().info(`[chapter]正在抓取目录页：${e}`);const t=await(0,i.wA)(e,void 0),n=`a[href^="${[document.location.origin,"post"].join("/")}"]`;new Set(Array.from(t.querySelectorAll(n)).map(e=>e.href)).forEach(e=>m.add(e)),new Set(Array.from(t.querySelectorAll('a[href^="https://www.lofter.com/lpost"]')).map(e=>e.href)).forEach(e=>m.add(e));const o=e=>{const t=new URL(e).searchParams.get("page")??"1";return parseInt(t)},a=o(e),r=t.querySelectorAll('a[href^="?page"]');for(const e of Array.from(r)){const t=e.href,n=new URL(t);n.searchParams.delete("t");const i=n.toString();o(t)!==a&&(h.includes(i)||(h.push(i),await g(t)))}};await g(document.location.href);let f=0;for(const o of Array.from(m)){const a=new c.I({bookUrl:e,bookname:n,chapterUrl:o,chapterNumber:f,chapterName:null,isVIP:!1,isPaid:!1,sectionName:null,sectionNumber:null,sectionChapterNumber:null,chapterParse:this.chapterParse,charset:this.charset,options:{author:t}});d.push(a),f++}return new l.E({bookUrl:e,bookname:n,author:t,introduction:a,introductionHTML:r,additionalMetadate:u,chapters:d})}async chapterParse(e,t,n,o,r,c){return new URL(e).pathname.startsWith("/lpost/")?async function(){s().debug(`[chapter]请求页面：${e}`);const n=await(0,i.pG)(e,r);t=n.querySelector("#title")?.innerText.trim();const o=n.querySelector("#m-cnt .long-text");if(o){const{dom:e,text:n,images:i}=await(0,a.an)(o,"TM");return{chapterName:t,contentRaw:o,contentText:n,contentHTML:e,contentImages:i,additionalMetadate:null}}throw new Error(`[chapter]未发现内容，url：${e}`)}():async function(){s().debug(`[chapter]请求页面：${e}`);const n=await(0,i.wA)(e,r);t=n.querySelector("title")?.innerText.replace(new RegExp(`-${c.author}$`),"").replaceAll("\n","").trim()??null;const o=[".ct .ctc",".main .content",".m-post .text",".content"];let l;for(const e of o){const t=n.querySelector(e);if(null!==t&&!(0,p.dK)(t)){l=t;break}}if(!l){const e=(0,d.parse)(n);e?.content&&(l=e.content)}if(l){(0,p.rm)(".otherinfo",!0,l);const{dom:e,text:n,images:o}=await(0,a.an)(l,"TM");return{chapterName:t,contentRaw:l,contentText:n,contentHTML:e,contentImages:o,additionalMetadate:null}}throw new Error(`[chapter]未发现内容，url：${e}`)}()}}},(e,t,n)=>{"use strict";n.d(t,{fetchAndParse:()=>s,gfetchAndParse:()=>c,parse:()=>r});var o=n(75),a=n(9),i=n(21);function r(e,t){const n=new o.Readability(e,t).parse();return n&&"string"==typeof n.content&&(n.content=(0,a.a_)(n.content)),n}async function s(e,t,n,o,a){let s=await(0,i.wA)(e,t,n);return"function"==typeof o&&(s=o(s)),r(s,a)}async function c(e,t,n,o,a){let s=await(0,i.pG)(e,t,n);return"function"==typeof o&&(s=o(s)),r(s,a)}},(e,t,n)=>{var o=n(76),a=n(77);e.exports={Readability:o,isProbablyReaderable:a}},e=>{function t(e,t){if(t&&t.documentElement)e=t,t=arguments[2];else if(!e||!e.documentElement)throw new Error("First argument to Readability constructor should be a document object.");if(t=t||{},this._doc=e,this._docJSDOMParser=this._doc.firstChild.__JSDOMParser__,this._articleTitle=null,this._articleByline=null,this._articleDir=null,this._articleSiteName=null,this._attempts=[],this._metadata={},this._debug=!!t.debug,this._maxElemsToParse=t.maxElemsToParse||this.DEFAULT_MAX_ELEMS_TO_PARSE,this._nbTopCandidates=t.nbTopCandidates||this.DEFAULT_N_TOP_CANDIDATES,this._charThreshold=t.charThreshold||this.DEFAULT_CHAR_THRESHOLD,this._classesToPreserve=this.CLASSES_TO_PRESERVE.concat(t.classesToPreserve||[]),this._keepClasses=!!t.keepClasses,this._serializer=t.serializer||function(e){return e.innerHTML},this._disableJSONLD=!!t.disableJSONLD,this._allowedVideoRegex=t.allowedVideoRegex||this.REGEXPS.videos,this._linkDensityModifier=t.linkDensityModifier||0,this._flags=this.FLAG_STRIP_UNLIKELYS|this.FLAG_WEIGHT_CLASSES|this.FLAG_CLEAN_CONDITIONALLY,this._debug){let e=function(e){if(e.nodeType==e.TEXT_NODE)return`${e.nodeName} ("${e.textContent}")`;let t=Array.from(e.attributes||[],function(e){return`${e.name}="${e.value}"`}).join(" ");return`<${e.localName} ${t}>`};this.log=function(){if("undefined"!=typeof console){let t=Array.from(arguments,t=>t&&t.nodeType==this.ELEMENT_NODE?e(t):t);t.unshift("Reader: (Readability)"),console.log(...t)}else if("undefined"!=typeof dump){var t=Array.prototype.map.call(arguments,function(t){return t&&t.nodeName?e(t):t}).join(" ");dump("Reader: (Readability) "+t+"\n")}}}else this.log=function(){}}t.prototype={FLAG_STRIP_UNLIKELYS:1,FLAG_WEIGHT_CLASSES:2,FLAG_CLEAN_CONDITIONALLY:4,ELEMENT_NODE:1,TEXT_NODE:3,DEFAULT_MAX_ELEMS_TO_PARSE:0,DEFAULT_N_TOP_CANDIDATES:5,DEFAULT_TAGS_TO_SCORE:"section,h2,h3,h4,h5,h6,p,td,pre".toUpperCase().split(","),DEFAULT_CHAR_THRESHOLD:500,REGEXPS:{unlikelyCandidates:/-ad-|ai2html|banner|breadcrumbs|combx|comment|community|cover-wrap|disqus|extra|footer|gdpr|header|legends|menu|related|remark|replies|rss|shoutbox|sidebar|skyscraper|social|sponsor|supplemental|ad-break|agegate|pagination|pager|popup|yom-remote/i,okMaybeItsACandidate:/and|article|body|column|content|main|shadow/i,positive:/article|body|content|entry|hentry|h-entry|main|page|pagination|post|text|blog|story/i,negative:/-ad-|hidden|^hid$| hid$| hid |^hid |banner|combx|comment|com-|contact|footer|gdpr|masthead|media|meta|outbrain|promo|related|scroll|share|shoutbox|sidebar|skyscraper|sponsor|shopping|tags|widget/i,extraneous:/print|archive|comment|discuss|e[\-]?mail|share|reply|all|login|sign|single|utility/i,byline:/byline|author|dateline|writtenby|p-author/i,replaceFonts:/<(\/?)font[^>]*>/gi,normalize:/\s{2,}/g,videos:/\/\/(www\.)?((dailymotion|youtube|youtube-nocookie|player\.vimeo|v\.qq)\.com|(archive|upload\.wikimedia)\.org|player\.twitch\.tv)/i,shareElements:/(\b|_)(share|sharedaddy)(\b|_)/i,nextLink:/(next|weiter|continue|>([^\|]|$)|»([^\|]|$))/i,prevLink:/(prev|earl|old|new|<|«)/i,tokenize:/\W+/g,whitespace:/^\s*$/,hasContent:/\S$/,hashUrl:/^#.+/,srcsetUrl:/(\S+)(\s+[\d.]+[xw])?(\s*(?:,|$))/g,b64DataUrl:/^data:\s*([^\s;,]+)\s*;\s*base64\s*,/i,commas:/\u002C|\u060C|\uFE50|\uFE10|\uFE11|\u2E41|\u2E34|\u2E32|\uFF0C/g,jsonLdArticleTypes:/^Article|AdvertiserContentArticle|NewsArticle|AnalysisNewsArticle|AskPublicNewsArticle|BackgroundNewsArticle|OpinionNewsArticle|ReportageNewsArticle|ReviewNewsArticle|Report|SatiricalArticle|ScholarlyArticle|MedicalScholarlyArticle|SocialMediaPosting|BlogPosting|LiveBlogPosting|DiscussionForumPosting|TechArticle|APIReference$/,adWords:/^(ad(vertising|vertisement)?|pub(licité)?|werb(ung)?|广告|Реклама|Anuncio)$/iu,loadingWords:/^((loading|正在加载|Загрузка|chargement|cargando)(…|\.\.\.)?)$/iu},UNLIKELY_ROLES:["menu","menubar","complementary","navigation","alert","alertdialog","dialog"],DIV_TO_P_ELEMS:new Set(["BLOCKQUOTE","DL","DIV","IMG","OL","P","PRE","TABLE","UL"]),ALTER_TO_DIV_EXCEPTIONS:["DIV","ARTICLE","SECTION","P","OL","UL"],PRESENTATIONAL_ATTRIBUTES:["align","background","bgcolor","border","cellpadding","cellspacing","frame","hspace","rules","style","valign","vspace"],DEPRECATED_SIZE_ATTRIBUTE_ELEMS:["TABLE","TH","TD","HR","PRE"],PHRASING_ELEMS:["ABBR","AUDIO","B","BDO","BR","BUTTON","CITE","CODE","DATA","DATALIST","DFN","EM","EMBED","I","IMG","INPUT","KBD","LABEL","MARK","MATH","METER","NOSCRIPT","OBJECT","OUTPUT","PROGRESS","Q","RUBY","SAMP","SCRIPT","SELECT","SMALL","SPAN","STRONG","SUB","SUP","TEXTAREA","TIME","VAR","WBR"],CLASSES_TO_PRESERVE:["page"],HTML_ESCAPE_MAP:{lt:"<",gt:">",amp:"&",quot:'"',apos:"'"},_postProcessContent(e){this._fixRelativeUris(e),this._simplifyNestedElements(e),this._keepClasses||this._cleanClasses(e)},_removeNodes(e,t){if(this._docJSDOMParser&&e._isLiveNodeList)throw new Error("Do not pass live node lists to _removeNodes");for(var n=e.length-1;n>=0;n--){var o=e[n],a=o.parentNode;a&&(t&&!t.call(this,o,n,e)||a.removeChild(o))}},_replaceNodeTags(e,t){if(this._docJSDOMParser&&e._isLiveNodeList)throw new Error("Do not pass live node lists to _replaceNodeTags");for(const n of e)this._setNodeTag(n,t)},_forEachNode(e,t){Array.prototype.forEach.call(e,t,this)},_findNode(e,t){return Array.prototype.find.call(e,t,this)},_someNode(e,t){return Array.prototype.some.call(e,t,this)},_everyNode(e,t){return Array.prototype.every.call(e,t,this)},_getAllNodesWithTag:(e,t)=>e.querySelectorAll?e.querySelectorAll(t.join(",")):[].concat.apply([],t.map(function(t){var n=e.getElementsByTagName(t);return Array.isArray(n)?n:Array.from(n)})),_cleanClasses(e){var t=this._classesToPreserve,n=(e.getAttribute("class")||"").split(/\s+/).filter(e=>t.includes(e)).join(" ");for(n?e.setAttribute("class",n):e.removeAttribute("class"),e=e.firstElementChild;e;e=e.nextElementSibling)this._cleanClasses(e)},_isUrl(e){try{return new URL(e),!0}catch{return!1}},_fixRelativeUris(e){var t=this._doc.baseURI,n=this._doc.documentURI;function o(e){if(t==n&&"#"==e.charAt(0))return e;try{return new URL(e,t).href}catch(e){}return e}var a=this._getAllNodesWithTag(e,["a"]);this._forEachNode(a,function(e){var t=e.getAttribute("href");if(t)if(0===t.indexOf("javascript:"))if(1===e.childNodes.length&&e.childNodes[0].nodeType===this.TEXT_NODE){var n=this._doc.createTextNode(e.textContent);e.parentNode.replaceChild(n,e)}else{for(var a=this._doc.createElement("span");e.firstChild;)a.appendChild(e.firstChild);e.parentNode.replaceChild(a,e)}else e.setAttribute("href",o(t))});var i=this._getAllNodesWithTag(e,["img","picture","figure","video","audio","source"]);this._forEachNode(i,function(e){var t=e.getAttribute("src"),n=e.getAttribute("poster"),a=e.getAttribute("srcset");if(t&&e.setAttribute("src",o(t)),n&&e.setAttribute("poster",o(n)),a){var i=a.replace(this.REGEXPS.srcsetUrl,function(e,t,n,a){return o(t)+(n||"")+a});e.setAttribute("srcset",i)}})},_simplifyNestedElements(e){for(var t=e;t;){if(t.parentNode&&["DIV","SECTION"].includes(t.tagName)&&(!t.id||!t.id.startsWith("readability"))){if(this._isElementWithoutContent(t)){t=this._removeAndGetNext(t);continue}if(this._hasSingleTagInsideElement(t,"DIV")||this._hasSingleTagInsideElement(t,"SECTION")){for(var n=t.children[0],o=0;o<t.attributes.length;o++)n.setAttributeNode(t.attributes[o].cloneNode());t.parentNode.replaceChild(n,t),t=n;continue}}t=this._getNextNode(t)}},_getArticleTitle(){var e=this._doc,t="",n="";try{"string"!=typeof(t=n=e.title.trim())&&(t=n=this._getInnerText(e.getElementsByTagName("title")[0]))}catch(e){}var o=!1;function a(e){return e.split(/\s+/).length}if(/ [\|\-\\\/>»] /.test(t)){o=/ [\\\/>»] /.test(t);let e=Array.from(n.matchAll(/ [\|\-\\\/>»] /gi));a(t=n.substring(0,e.pop().index))<3&&(t=n.replace(/^[^\|\-\\\/>»]*[\|\-\\\/>»]/gi,""))}else if(t.includes(": ")){var i=this._getAllNodesWithTag(e,["h1","h2"]),r=t.trim();this._someNode(i,function(e){return e.textContent.trim()===r})||(a(t=n.substring(n.lastIndexOf(":")+1))<3?t=n.substring(n.indexOf(":")+1):a(n.substr(0,n.indexOf(":")))>5&&(t=n))}else if(t.length>150||t.length<15){var s=e.getElementsByTagName("h1");1===s.length&&(t=this._getInnerText(s[0]))}var c=a(t=t.trim().replace(this.REGEXPS.normalize," "));return c<=4&&(!o||c!=a(n.replace(/[\|\-\\\/>»]+/g,""))-1)&&(t=n),t},_prepDocument(){var e=this._doc;this._removeNodes(this._getAllNodesWithTag(e,["style"])),e.body&&this._replaceBrs(e.body),this._replaceNodeTags(this._getAllNodesWithTag(e,["font"]),"SPAN")},_nextNode(e){for(var t=e;t&&t.nodeType!=this.ELEMENT_NODE&&this.REGEXPS.whitespace.test(t.textContent);)t=t.nextSibling;return t},_replaceBrs(e){this._forEachNode(this._getAllNodesWithTag(e,["br"]),function(e){for(var t=e.nextSibling,n=!1;(t=this._nextNode(t))&&"BR"==t.tagName;){n=!0;var o=t.nextSibling;t.remove(),t=o}if(n){var a=this._doc.createElement("p");for(e.parentNode.replaceChild(a,e),t=a.nextSibling;t;){if("BR"==t.tagName){var i=this._nextNode(t.nextSibling);if(i&&"BR"==i.tagName)break}if(!this._isPhrasingContent(t))break;var r=t.nextSibling;a.appendChild(t),t=r}for(;a.lastChild&&this._isWhitespace(a.lastChild);)a.lastChild.remove();"P"===a.parentNode.tagName&&this._setNodeTag(a.parentNode,"DIV")}})},_setNodeTag(e,t){if(this.log("_setNodeTag",e,t),this._docJSDOMParser)return e.localName=t.toLowerCase(),e.tagName=t.toUpperCase(),e;for(var n=e.ownerDocument.createElement(t);e.firstChild;)n.appendChild(e.firstChild);e.parentNode.replaceChild(n,e),e.readability&&(n.readability=e.readability);for(var o=0;o<e.attributes.length;o++)n.setAttributeNode(e.attributes[o].cloneNode());return n},_prepArticle(e){this._cleanStyles(e),this._markDataTables(e),this._fixLazyImages(e),this._cleanConditionally(e,"form"),this._cleanConditionally(e,"fieldset"),this._clean(e,"object"),this._clean(e,"embed"),this._clean(e,"footer"),this._clean(e,"link"),this._clean(e,"aside");var t=this.DEFAULT_CHAR_THRESHOLD;this._forEachNode(e.children,function(e){this._cleanMatchedNodes(e,function(e,n){return this.REGEXPS.shareElements.test(n)&&e.textContent.length<t})}),this._clean(e,"iframe"),this._clean(e,"input"),this._clean(e,"textarea"),this._clean(e,"select"),this._clean(e,"button"),this._cleanHeaders(e),this._cleanConditionally(e,"table"),this._cleanConditionally(e,"ul"),this._cleanConditionally(e,"div"),this._replaceNodeTags(this._getAllNodesWithTag(e,["h1"]),"h2"),this._removeNodes(this._getAllNodesWithTag(e,["p"]),function(e){return 0===this._getAllNodesWithTag(e,["img","embed","object","iframe"]).length&&!this._getInnerText(e,!1)}),this._forEachNode(this._getAllNodesWithTag(e,["br"]),function(e){var t=this._nextNode(e.nextSibling);t&&"P"==t.tagName&&e.remove()}),this._forEachNode(this._getAllNodesWithTag(e,["table"]),function(e){var t=this._hasSingleTagInsideElement(e,"TBODY")?e.firstElementChild:e;if(this._hasSingleTagInsideElement(t,"TR")){var n=t.firstElementChild;if(this._hasSingleTagInsideElement(n,"TD")){var o=n.firstElementChild;o=this._setNodeTag(o,this._everyNode(o.childNodes,this._isPhrasingContent)?"P":"DIV"),e.parentNode.replaceChild(o,e)}}})},_initializeNode(e){switch(e.readability={contentScore:0},e.tagName){case"DIV":e.readability.contentScore+=5;break;case"PRE":case"TD":case"BLOCKQUOTE":e.readability.contentScore+=3;break;case"ADDRESS":case"OL":case"UL":case"DL":case"DD":case"DT":case"LI":case"FORM":e.readability.contentScore-=3;break;case"H1":case"H2":case"H3":case"H4":case"H5":case"H6":case"TH":e.readability.contentScore-=5}e.readability.contentScore+=this._getClassWeight(e)},_removeAndGetNext(e){var t=this._getNextNode(e,!0);return e.remove(),t},_getNextNode(e,t){if(!t&&e.firstElementChild)return e.firstElementChild;if(e.nextElementSibling)return e.nextElementSibling;do{e=e.parentNode}while(e&&!e.nextElementSibling);return e&&e.nextElementSibling},_textSimilarity(e,t){var n=e.toLowerCase().split(this.REGEXPS.tokenize).filter(Boolean),o=t.toLowerCase().split(this.REGEXPS.tokenize).filter(Boolean);return n.length&&o.length?1-o.filter(e=>!n.includes(e)).join(" ").length/o.join(" ").length:0},_isValidByline(e,t){var n=e.getAttribute("rel"),o=e.getAttribute("itemprop"),a=e.textContent.trim().length;return("author"===n||o&&o.includes("author")||this.REGEXPS.byline.test(t))&&!!a&&a<100},_getNodeAncestors(e,t){t=t||0;for(var n=0,o=[];e.parentNode&&(o.push(e.parentNode),!t||++n!==t);)e=e.parentNode;return o},_grabArticle(e){this.log("**** grabArticle ****");var t=this._doc,n=null!==e;if(!(e=e||this._doc.body))return this.log("No body found in document. Abort."),null;for(var o=e.innerHTML;;){this.log("Starting grabArticle loop");var a=this._flagIsActive(this.FLAG_STRIP_UNLIKELYS),i=[],r=this._doc.documentElement;let J=!0;for(;r;){"HTML"===r.tagName&&(this._articleLang=r.getAttribute("lang"));var s=r.className+" "+r.id;if(this._isProbablyVisible(r))if("true"!=r.getAttribute("aria-modal")||"dialog"!=r.getAttribute("role"))if(this._articleByline||this._metadata.byline||!this._isValidByline(r,s))if(J&&this._headerDuplicatesTitle(r))this.log("Removing header: ",r.textContent.trim(),this._articleTitle.trim()),J=!1,r=this._removeAndGetNext(r);else{if(a){if(this.REGEXPS.unlikelyCandidates.test(s)&&!this.REGEXPS.okMaybeItsACandidate.test(s)&&!this._hasAncestorTag(r,"table")&&!this._hasAncestorTag(r,"code")&&"BODY"!==r.tagName&&"A"!==r.tagName){this.log("Removing unlikely candidate - "+s),r=this._removeAndGetNext(r);continue}if(this.UNLIKELY_ROLES.includes(r.getAttribute("role"))){this.log("Removing content with role "+r.getAttribute("role")+" - "+s),r=this._removeAndGetNext(r);continue}}if("DIV"!==r.tagName&&"SECTION"!==r.tagName&&"HEADER"!==r.tagName&&"H1"!==r.tagName&&"H2"!==r.tagName&&"H3"!==r.tagName&&"H4"!==r.tagName&&"H5"!==r.tagName&&"H6"!==r.tagName||!this._isElementWithoutContent(r)){if(this.DEFAULT_TAGS_TO_SCORE.includes(r.tagName)&&i.push(r),"DIV"===r.tagName){for(var c=null,l=r.firstChild;l;){var u=l.nextSibling;if(this._isPhrasingContent(l))null!==c?c.appendChild(l):this._isWhitespace(l)||(c=t.createElement("p"),r.replaceChild(c,l),c.appendChild(l));else if(null!==c){for(;c.lastChild&&this._isWhitespace(c.lastChild);)c.lastChild.remove();c=null}l=u}if(this._hasSingleTagInsideElement(r,"P")&&this._getLinkDensity(r)<.25){var p=r.children[0];r.parentNode.replaceChild(p,r),r=p,i.push(r)}else this._hasChildBlockElement(r)||(r=this._setNodeTag(r,"P"),i.push(r))}r=this._getNextNode(r)}else r=this._removeAndGetNext(r)}else{for(var d=this._getNextNode(r,!0),m=this._getNextNode(r),h=null;m&&m!=d;){var g=m.getAttribute("itemprop");if(g&&g.includes("name")){h=m;break}m=this._getNextNode(m)}this._articleByline=(h??r).textContent.trim(),r=this._removeAndGetNext(r)}else r=this._removeAndGetNext(r);else this.log("Removing hidden node - "+s),r=this._removeAndGetNext(r)}var f=[];this._forEachNode(i,function(e){if(e.parentNode&&void 0!==e.parentNode.tagName){var t=this._getInnerText(e);if(!(t.length<25)){var n=this._getNodeAncestors(e,5);if(0!==n.length){var o=0;o+=1,o+=t.split(this.REGEXPS.commas).length,o+=Math.min(Math.floor(t.length/100),3),this._forEachNode(n,function(e,t){if(e.tagName&&e.parentNode&&void 0!==e.parentNode.tagName){if(void 0===e.readability&&(this._initializeNode(e),f.push(e)),0===t)var n=1;else n=1===t?2:3*t;e.readability.contentScore+=o/n}})}}}});for(var x=[],b=0,v=f.length;b<v;b+=1){var w=f[b],y=w.readability.contentScore*(1-this._getLinkDensity(w));w.readability.contentScore=y,this.log("Candidate:",w,"with score "+y);for(var k=0;k<this._nbTopCandidates;k++){var S=x[k];if(!S||y>S.readability.contentScore){x.splice(k,0,w),x.length>this._nbTopCandidates&&x.pop();break}}}var T,A=x[0]||null,C=!1;if(null===A||"BODY"===A.tagName){for(A=t.createElement("DIV"),C=!0;e.firstChild;)this.log("Moving child out:",e.firstChild),A.appendChild(e.firstChild);e.appendChild(A),this._initializeNode(A)}else if(A){for(var M=[],N=1;N<x.length;N++)x[N].readability.contentScore/A.readability.contentScore>=.75&&M.push(this._getNodeAncestors(x[N]));if(M.length>=3)for(T=A.parentNode;"BODY"!==T.tagName;){for(var E=0,P=0;P<M.length&&E<3;P++)E+=Number(M[P].includes(T));if(E>=3){A=T;break}T=T.parentNode}A.readability||this._initializeNode(A),T=A.parentNode;for(var q=A.readability.contentScore,L=q/3;"BODY"!==T.tagName;)if(T.readability){var _=T.readability.contentScore;if(_<L)break;if(_>q){A=T;break}q=T.readability.contentScore,T=T.parentNode}else T=T.parentNode;for(T=A.parentNode;"BODY"!=T.tagName&&1==T.children.length;)T=(A=T).parentNode;A.readability||this._initializeNode(A)}var I=t.createElement("DIV");n&&(I.id="readability-content");for(var j=Math.max(10,.2*A.readability.contentScore),U=(T=A.parentNode).children,z=0,D=U.length;z<D;z++){var O=U[z],H=!1;if(this.log("Looking at sibling node:",O,O.readability?"with score "+O.readability.contentScore:""),this.log("Sibling has score",O.readability?O.readability.contentScore:"Unknown"),O===A)H=!0;else{var R=0;if(O.className===A.className&&""!==A.className&&(R+=.2*A.readability.contentScore),O.readability&&O.readability.contentScore+R>=j)H=!0;else if("P"===O.nodeName){var V=this._getLinkDensity(O),B=this._getInnerText(O),$=B.length;($>80&&V<.25||$<80&&$>0&&0===V&&-1!==B.search(/\.( |$)/))&&(H=!0)}}H&&(this.log("Appending node:",O),this.ALTER_TO_DIV_EXCEPTIONS.includes(O.nodeName)||(this.log("Altering sibling:",O,"to div."),O=this._setNodeTag(O,"DIV")),I.appendChild(O),U=T.children,z-=1,D-=1)}if(this._debug&&this.log("Article content pre-prep: "+I.innerHTML),this._prepArticle(I),this._debug&&this.log("Article content post-prep: "+I.innerHTML),C)A.id="readability-page-1",A.className="page";else{var F=t.createElement("DIV");for(F.id="readability-page-1",F.className="page";I.firstChild;)F.appendChild(I.firstChild);I.appendChild(F)}this._debug&&this.log("Article content after paging: "+I.innerHTML);var W=!0,G=this._getInnerText(I,!0).length;if(G<this._charThreshold)if(W=!1,e.innerHTML=o,this._attempts.push({articleContent:I,textLength:G}),this._flagIsActive(this.FLAG_STRIP_UNLIKELYS))this._removeFlag(this.FLAG_STRIP_UNLIKELYS);else if(this._flagIsActive(this.FLAG_WEIGHT_CLASSES))this._removeFlag(this.FLAG_WEIGHT_CLASSES);else if(this._flagIsActive(this.FLAG_CLEAN_CONDITIONALLY))this._removeFlag(this.FLAG_CLEAN_CONDITIONALLY);else{if(this._attempts.sort(function(e,t){return t.textLength-e.textLength}),!this._attempts[0].textLength)return null;I=this._attempts[0].articleContent,W=!0}if(W){var Q=[T,A].concat(this._getNodeAncestors(T));return this._someNode(Q,function(e){if(!e.tagName)return!1;var t=e.getAttribute("dir");return!!t&&(this._articleDir=t,!0)}),I}}},_unescapeHtmlEntities(e){if(!e)return e;var t=this.HTML_ESCAPE_MAP;return e.replace(/&(quot|amp|apos|lt|gt);/g,function(e,n){return t[n]}).replace(/&#(?:x([0-9a-f]+)|([0-9]+));/gi,function(e,t,n){var o=parseInt(t||n,t?16:10);return(0==o||o>1114111||o>=55296&&o<=57343)&&(o=65533),String.fromCodePoint(o)})},_getJSONLD(e){var t,n=this._getAllNodesWithTag(e,["script"]);return this._forEachNode(n,function(e){if(!t&&"application/ld+json"===e.getAttribute("type"))try{var n=e.textContent.replace(/^\s*<!\[CDATA\[|\]\]>\s*$/g,""),o=JSON.parse(n);if(Array.isArray(o)&&!(o=o.find(e=>e["@type"]&&e["@type"].match(this.REGEXPS.jsonLdArticleTypes))))return;var a=/^https?\:\/\/schema\.org\/?$/;if(!("string"==typeof o["@context"]&&o["@context"].match(a)||"object"==typeof o["@context"]&&"string"==typeof o["@context"]["@vocab"]&&o["@context"]["@vocab"].match(a)))return;if(!o["@type"]&&Array.isArray(o["@graph"])&&(o=o["@graph"].find(e=>(e["@type"]||"").match(this.REGEXPS.jsonLdArticleTypes))),!o||!o["@type"]||!o["@type"].match(this.REGEXPS.jsonLdArticleTypes))return;if(t={},"string"==typeof o.name&&"string"==typeof o.headline&&o.name!==o.headline){var i=this._getArticleTitle(),r=this._textSimilarity(o.name,i)>.75,s=this._textSimilarity(o.headline,i)>.75;t.title=s&&!r?o.headline:o.name}else"string"==typeof o.name?t.title=o.name.trim():"string"==typeof o.headline&&(t.title=o.headline.trim());o.author&&("string"==typeof o.author.name?t.byline=o.author.name.trim():Array.isArray(o.author)&&o.author[0]&&"string"==typeof o.author[0].name&&(t.byline=o.author.filter(function(e){return e&&"string"==typeof e.name}).map(function(e){return e.name.trim()}).join(", "))),"string"==typeof o.description&&(t.excerpt=o.description.trim()),o.publisher&&"string"==typeof o.publisher.name&&(t.siteName=o.publisher.name.trim()),"string"==typeof o.datePublished&&(t.datePublished=o.datePublished.trim())}catch(e){this.log(e.message)}}),t||{}},_getArticleMetadata(e){var t={},n={},o=this._doc.getElementsByTagName("meta"),a=/\s*(article|dc|dcterm|og|twitter)\s*:\s*(author|creator|description|published_time|title|site_name)\s*/gi,i=/^\s*(?:(dc|dcterm|og|twitter|parsely|weibo:(article|webpage))\s*[-\.:]\s*)?(author|creator|pub-date|description|title|site_name)\s*$/i;this._forEachNode(o,function(e){var t=e.getAttribute("name"),o=e.getAttribute("property"),r=e.getAttribute("content");if(r){var s=null,c=null;o&&(s=o.match(a))&&(c=s[0].toLowerCase().replace(/\s/g,""),n[c]=r.trim()),!s&&t&&i.test(t)&&(c=t,r&&(c=c.toLowerCase().replace(/\s/g,"").replace(/\./g,":"),n[c]=r.trim()))}}),t.title=e.title||n["dc:title"]||n["dcterm:title"]||n["og:title"]||n["weibo:article:title"]||n["weibo:webpage:title"]||n.title||n["twitter:title"]||n["parsely-title"],t.title||(t.title=this._getArticleTitle());const r="string"!=typeof n["article:author"]||this._isUrl(n["article:author"])?void 0:n["article:author"];return t.byline=e.byline||n["dc:creator"]||n["dcterm:creator"]||n.author||n["parsely-author"]||r,t.excerpt=e.excerpt||n["dc:description"]||n["dcterm:description"]||n["og:description"]||n["weibo:article:description"]||n["weibo:webpage:description"]||n.description||n["twitter:description"],t.siteName=e.siteName||n["og:site_name"],t.publishedTime=e.datePublished||n["article:published_time"]||n["parsely-pub-date"]||null,t.title=this._unescapeHtmlEntities(t.title),t.byline=this._unescapeHtmlEntities(t.byline),t.excerpt=this._unescapeHtmlEntities(t.excerpt),t.siteName=this._unescapeHtmlEntities(t.siteName),t.publishedTime=this._unescapeHtmlEntities(t.publishedTime),t},_isSingleImage(e){for(;e;){if("IMG"===e.tagName)return!0;if(1!==e.children.length||""!==e.textContent.trim())return!1;e=e.children[0]}return!1},_unwrapNoscriptImages(e){var t=Array.from(e.getElementsByTagName("img"));this._forEachNode(t,function(e){for(var t=0;t<e.attributes.length;t++){var n=e.attributes[t];switch(n.name){case"src":case"srcset":case"data-src":case"data-srcset":return}if(/\.(jpg|jpeg|png|webp)/i.test(n.value))return}e.remove()});var n=Array.from(e.getElementsByTagName("noscript"));this._forEachNode(n,function(t){if(this._isSingleImage(t)){var n=e.createElement("div");n.innerHTML=t.innerHTML;var o=t.previousElementSibling;if(o&&this._isSingleImage(o)){var a=o;"IMG"!==a.tagName&&(a=o.getElementsByTagName("img")[0]);for(var i=n.getElementsByTagName("img")[0],r=0;r<a.attributes.length;r++){var s=a.attributes[r];if(""!==s.value&&("src"===s.name||"srcset"===s.name||/\.(jpg|jpeg|png|webp)/i.test(s.value))){if(i.getAttribute(s.name)===s.value)continue;var c=s.name;i.hasAttribute(c)&&(c="data-old-"+c),i.setAttribute(c,s.value)}}t.parentNode.replaceChild(n.firstElementChild,o)}}})},_removeScripts(e){this._removeNodes(this._getAllNodesWithTag(e,["script","noscript"]))},_hasSingleTagInsideElement(e,t){return 1==e.children.length&&e.children[0].tagName===t&&!this._someNode(e.childNodes,function(e){return e.nodeType===this.TEXT_NODE&&this.REGEXPS.hasContent.test(e.textContent)})},_isElementWithoutContent(e){return!(e.nodeType!==this.ELEMENT_NODE||e.textContent.trim().length||e.children.length&&e.children.length!=e.getElementsByTagName("br").length+e.getElementsByTagName("hr").length)},_hasChildBlockElement(e){return this._someNode(e.childNodes,function(e){return this.DIV_TO_P_ELEMS.has(e.tagName)||this._hasChildBlockElement(e)})},_isPhrasingContent(e){return e.nodeType===this.TEXT_NODE||this.PHRASING_ELEMS.includes(e.tagName)||("A"===e.tagName||"DEL"===e.tagName||"INS"===e.tagName)&&this._everyNode(e.childNodes,this._isPhrasingContent)},_isWhitespace(e){return e.nodeType===this.TEXT_NODE&&0===e.textContent.trim().length||e.nodeType===this.ELEMENT_NODE&&"BR"===e.tagName},_getInnerText(e,t){t=void 0===t||t;var n=e.textContent.trim();return t?n.replace(this.REGEXPS.normalize," "):n},_getCharCount(e,t){return t=t||",",this._getInnerText(e).split(t).length-1},_cleanStyles(e){if(e&&"svg"!==e.tagName.toLowerCase()){for(var t=0;t<this.PRESENTATIONAL_ATTRIBUTES.length;t++)e.removeAttribute(this.PRESENTATIONAL_ATTRIBUTES[t]);this.DEPRECATED_SIZE_ATTRIBUTE_ELEMS.includes(e.tagName)&&(e.removeAttribute("width"),e.removeAttribute("height"));for(var n=e.firstElementChild;null!==n;)this._cleanStyles(n),n=n.nextElementSibling}},_getLinkDensity(e){var t=this._getInnerText(e).length;if(0===t)return 0;var n=0;return this._forEachNode(e.getElementsByTagName("a"),function(e){var t=e.getAttribute("href"),o=t&&this.REGEXPS.hashUrl.test(t)?.3:1;n+=this._getInnerText(e).length*o}),n/t},_getClassWeight(e){if(!this._flagIsActive(this.FLAG_WEIGHT_CLASSES))return 0;var t=0;return"string"==typeof e.className&&""!==e.className&&(this.REGEXPS.negative.test(e.className)&&(t-=25),this.REGEXPS.positive.test(e.className)&&(t+=25)),"string"==typeof e.id&&""!==e.id&&(this.REGEXPS.negative.test(e.id)&&(t-=25),this.REGEXPS.positive.test(e.id)&&(t+=25)),t},_clean(e,t){var n=["object","embed","iframe"].includes(t);this._removeNodes(this._getAllNodesWithTag(e,[t]),function(e){if(n){for(var t=0;t<e.attributes.length;t++)if(this._allowedVideoRegex.test(e.attributes[t].value))return!1;if("object"===e.tagName&&this._allowedVideoRegex.test(e.innerHTML))return!1}return!0})},_hasAncestorTag(e,t,n,o){n=n||3,t=t.toUpperCase();for(var a=0;e.parentNode;){if(n>0&&a>n)return!1;if(e.parentNode.tagName===t&&(!o||o(e.parentNode)))return!0;e=e.parentNode,a++}return!1},_getRowAndColumnCount(e){for(var t=0,n=0,o=e.getElementsByTagName("tr"),a=0;a<o.length;a++){var i=o[a].getAttribute("rowspan")||0;i&&(i=parseInt(i,10)),t+=i||1;for(var r=0,s=o[a].getElementsByTagName("td"),c=0;c<s.length;c++){var l=s[c].getAttribute("colspan")||0;l&&(l=parseInt(l,10)),r+=l||1}n=Math.max(n,r)}return{rows:t,columns:n}},_markDataTables(e){for(var t=e.getElementsByTagName("table"),n=0;n<t.length;n++){var o=t[n];if("presentation"!=o.getAttribute("role"))if("0"!=o.getAttribute("datatable"))if(o.getAttribute("summary"))o._readabilityDataTable=!0;else{var a=o.getElementsByTagName("caption")[0];if(a&&a.childNodes.length)o._readabilityDataTable=!0;else if(["col","colgroup","tfoot","thead","th"].some(function(e){return!!o.getElementsByTagName(e)[0]}))this.log("Data table because found data-y descendant"),o._readabilityDataTable=!0;else if(o.getElementsByTagName("table")[0])o._readabilityDataTable=!1;else{var i=this._getRowAndColumnCount(o);1!=i.columns&&1!=i.rows?i.rows>=10||i.columns>4?o._readabilityDataTable=!0:o._readabilityDataTable=i.rows*i.columns>10:o._readabilityDataTable=!1}}else o._readabilityDataTable=!1;else o._readabilityDataTable=!1}},_fixLazyImages(e){this._forEachNode(this._getAllNodesWithTag(e,["img","picture","figure"]),function(e){if(e.src&&this.REGEXPS.b64DataUrl.test(e.src)){var t=this.REGEXPS.b64DataUrl.exec(e.src);if("image/svg+xml"===t[1])return;for(var n=!1,o=0;o<e.attributes.length;o++){var a=e.attributes[o];if("src"!==a.name&&/\.(jpg|jpeg|png|webp)/i.test(a.value)){n=!0;break}}if(n){var i=t[0].length;e.src.length-i<133&&e.removeAttribute("src")}}if(!(e.src||e.srcset&&"null"!=e.srcset)||e.className.toLowerCase().includes("lazy"))for(var r=0;r<e.attributes.length;r++)if("src"!==(a=e.attributes[r]).name&&"srcset"!==a.name&&"alt"!==a.name){var s=null;if(/\.(jpg|jpeg|png|webp)\s+\d/.test(a.value)?s="srcset":/^\s*\S+\.(jpg|jpeg|png|webp)\S*\s*$/.test(a.value)&&(s="src"),s)if("IMG"===e.tagName||"PICTURE"===e.tagName)e.setAttribute(s,a.value);else if("FIGURE"===e.tagName&&!this._getAllNodesWithTag(e,["img","picture"]).length){var c=this._doc.createElement("img");c.setAttribute(s,a.value),e.appendChild(c)}}})},_getTextDensity(e,t){var n=this._getInnerText(e,!0).length;if(0===n)return 0;var o=0,a=this._getAllNodesWithTag(e,t);return this._forEachNode(a,e=>o+=this._getInnerText(e,!0).length),o/n},_cleanConditionally(e,t){this._flagIsActive(this.FLAG_CLEAN_CONDITIONALLY)&&this._removeNodes(this._getAllNodesWithTag(e,[t]),function(e){var n=function(e){return e._readabilityDataTable},o="ul"===t||"ol"===t;if(!o){var a=0,i=this._getAllNodesWithTag(e,["ul","ol"]);this._forEachNode(i,e=>a+=this._getInnerText(e).length),o=a/this._getInnerText(e).length>.9}if("table"===t&&n(e))return!1;if(this._hasAncestorTag(e,"table",-1,n))return!1;if(this._hasAncestorTag(e,"code"))return!1;if([...e.getElementsByTagName("table")].some(e=>e._readabilityDataTable))return!1;var r=this._getClassWeight(e);if(this.log("Cleaning Conditionally",e),r+0<0)return!0;if(this._getCharCount(e,",")<10){for(var s=e.getElementsByTagName("p").length,c=e.getElementsByTagName("img").length,l=e.getElementsByTagName("li").length-100,u=e.getElementsByTagName("input").length,p=this._getTextDensity(e,["h1","h2","h3","h4","h5","h6"]),d=0,m=this._getAllNodesWithTag(e,["object","embed","iframe"]),h=0;h<m.length;h++){for(var g=0;g<m[h].attributes.length;g++)if(this._allowedVideoRegex.test(m[h].attributes[g].value))return!1;if("object"===m[h].tagName&&this._allowedVideoRegex.test(m[h].innerHTML))return!1;d++}var f=this._getInnerText(e);if(this.REGEXPS.adWords.test(f)||this.REGEXPS.loadingWords.test(f))return!0;var x=f.length,b=this._getLinkDensity(e),v=["SPAN","LI","TD"].concat(Array.from(this.DIV_TO_P_ELEMS)),w=this._getTextDensity(e,v),y=this._hasAncestorTag(e,"figure"),k=(()=>{const e=[];return!y&&c>1&&s/c<.5&&e.push(`Bad p to img ratio (img=${c}, p=${s})`),!o&&l>s&&e.push(`Too many li's outside of a list. (li=${l} > p=${s})`),u>Math.floor(s/3)&&e.push(`Too many inputs per p. (input=${u}, p=${s})`),!o&&!y&&p<.9&&x<25&&(0===c||c>2)&&b>0&&e.push(`Suspiciously short. (headingDensity=${p}, img=${c}, linkDensity=${b})`),!o&&r<25&&b>.2+this._linkDensityModifier&&e.push(`Low weight and a little linky. (linkDensity=${b})`),r>=25&&b>.5+this._linkDensityModifier&&e.push(`High weight and mostly links. (linkDensity=${b})`),(1===d&&x<75||d>1)&&e.push(`Suspicious embed. (embedCount=${d}, contentLength=${x})`),0===c&&0===w&&e.push(`No useful content. (img=${c}, textDensity=${w})`),!!e.length&&(this.log("Checks failed",e),!0)})();if(o&&k){for(var S=0;S<e.children.length;S++)if(e.children[S].children.length>1)return k;let t=e.getElementsByTagName("li").length;if(c==t)return!1}return k}return!1})},_cleanMatchedNodes(e,t){for(var n=this._getNextNode(e,!0),o=this._getNextNode(e);o&&o!=n;)o=t.call(this,o,o.className+" "+o.id)?this._removeAndGetNext(o):this._getNextNode(o)},_cleanHeaders(e){let t=this._getAllNodesWithTag(e,["h1","h2"]);this._removeNodes(t,function(e){let t=this._getClassWeight(e)<0;return t&&this.log("Removing header with low class weight:",e),t})},_headerDuplicatesTitle(e){if("H1"!=e.tagName&&"H2"!=e.tagName)return!1;var t=this._getInnerText(e,!1);return this.log("Evaluating similarity of header:",t,this._articleTitle),this._textSimilarity(this._articleTitle,t)>.75},_flagIsActive(e){return(this._flags&e)>0},_removeFlag(e){this._flags=this._flags&~e},_isProbablyVisible:e=>(!e.style||"none"!=e.style.display)&&(!e.style||"hidden"!=e.style.visibility)&&!e.hasAttribute("hidden")&&(!e.hasAttribute("aria-hidden")||"true"!=e.getAttribute("aria-hidden")||e.className&&e.className.includes&&e.className.includes("fallback-image")),parse(){if(this._maxElemsToParse>0){var e=this._doc.getElementsByTagName("*").length;if(e>this._maxElemsToParse)throw new Error("Aborting parsing document; "+e+" elements found")}this._unwrapNoscriptImages(this._doc);var t=this._disableJSONLD?{}:this._getJSONLD(this._doc);this._removeScripts(this._doc),this._prepDocument();var n=this._getArticleMetadata(t);this._metadata=n,this._articleTitle=n.title;var o=this._grabArticle();if(!o)return null;if(this.log("Grabbed: "+o.innerHTML),this._postProcessContent(o),!n.excerpt){var a=o.getElementsByTagName("p");a.length&&(n.excerpt=a[0].textContent.trim())}var i=o.textContent;return{title:this._articleTitle,byline:n.byline||this._articleByline,dir:this._articleDir,lang:this._articleLang,content:this._serializer(o),textContent:i,length:i.length,excerpt:n.excerpt,siteName:n.siteName||this._articleSiteName,publishedTime:n.publishedTime}}},e.exports=t},e=>{var t={unlikelyCandidates:/-ad-|ai2html|banner|breadcrumbs|combx|comment|community|cover-wrap|disqus|extra|footer|gdpr|header|legends|menu|related|remark|replies|rss|shoutbox|sidebar|skyscraper|social|sponsor|supplemental|ad-break|agegate|pagination|pager|popup|yom-remote/i,okMaybeItsACandidate:/and|article|body|column|content|main|shadow/i};function n(e){return(!e.style||"none"!=e.style.display)&&!e.hasAttribute("hidden")&&(!e.hasAttribute("aria-hidden")||"true"!=e.getAttribute("aria-hidden")||e.className&&e.className.includes&&e.className.includes("fallback-image"))}e.exports=function(e,o={}){"function"==typeof o&&(o={visibilityChecker:o});var a={minScore:20,minContentLength:140,visibilityChecker:n};o=Object.assign(a,o);var i=e.querySelectorAll("p, pre, article"),r=e.querySelectorAll("div > br");if(r.length){var s=new Set(i);[].forEach.call(r,function(e){s.add(e.parentNode)}),i=Array.from(s)}var c=0;return[].some.call(i,function(e){if(!o.visibilityChecker(e))return!1;var n=e.className+" "+e.id;if(t.unlikelyCandidates.test(n)&&!t.okMaybeItsACandidate.test(n))return!1;if(e.matches("li p"))return!1;var a=e.textContent.trim().length;return!(a<o.minContentLength)&&(c+=Math.sqrt(a-o.minContentLength))>o.minScore})}},(e,t,n)=>{"use strict";n.d(t,{Duread:()=>x,Shubl:()=>f});var o=n(22),a=n(19),i=n(33),r=n(21),s=n(9),c=n(34),l=n(2),u=n.n(l),p=n(5),d=n(20),m=n(36),h=n(37),g=n(38);class f extends g.Q{constructor(){super(),this.attachmentMode="TM",this.concurrencyLimit=1,this.maxRunLimit=1}async bookParse(){const e=document.location.href,t=document.querySelector(".book-title > span").innerText.trim(),n=document.querySelector("div.username").innerText.trim(),o=document.querySelector(".book-brief"),[i,r]=await(0,c.HV)(o,e=>((0,s.j3)(["简介："],e),e)),l={},d=document.querySelector(".book-img").src;d&&(0,a.if)(d,this.attachmentMode,"cover-").then(e=>{l.cover=e}).catch(e=>u().error(e)),l.tags=Array.from(document.querySelectorAll("div.row > span.tag")).map(e=>e.innerText.trim());const g=[],f=Array.from(document.querySelectorAll("#chapter_list > div.chapter > div.chapter-title")).map(e=>e.innerText.trim()),x=document.querySelectorAll("#chapter_list > div.chapter > div.articles"),b=f.length;let v=0;for(let n=0;n<b;n++){const o=x[n],a=n+1,i=f[n];let r=0;const s=o.querySelectorAll("span.chapter_item");for(const n of Array.from(s)){v++,r++;const o=n.querySelector("a");if(o){const s=o.innerText.trim(),c=o.href,l=()=>2===n.childElementCount,u=()=>l()&&"unlock"===n.querySelector("i")?.className,d=()=>3===document.querySelector("#header > div.container > div.right.pull-right")?.childElementCount,h=new m.I({bookUrl:e,bookname:t,chapterUrl:c,chapterNumber:v,chapterName:s,isVIP:l(),isPaid:u(),sectionName:i,sectionNumber:a,sectionChapterNumber:r,chapterParse:this.chapterParse,charset:this.charset,options:{}});!l()||d()&&u()||(h.status=p.nW.aborted),g.push(h)}}}return new h.E({bookUrl:e,bookname:t,author:n,introduction:i,introductionHTML:r,additionalMetadate:l,chapters:g})}async chapterParse(e,t,n,o,a,i){const r=document.location.origin+"/",[s,c]=[939.2,"18"];return b({chapterUrl:e,chapterName:t,isVIP:n,isPaid:o,charset:a,options:i,rootPath:r,parentWidth:s,setFontSize:c})}}class x extends g.Q{constructor(){super(),this.attachmentMode="TM",this.concurrencyLimit=1,this.maxRunLimit=1}async bookParse(){const e=document.location.href,t=document.querySelector(".book-title > span").innerText.trim(),n=document.querySelector("div.username").innerText.trim(),o=document.querySelector(".book-brief"),[i,r]=await(0,c.HV)(o,e=>((0,s.j3)(["简介："],e),e)),l={},d=document.querySelector(".book-img").src;d&&(0,a.if)(d,this.attachmentMode,"cover-").then(e=>{l.cover=e}).catch(e=>u().error(e)),l.tags=Array.from(document.querySelectorAll("div.row > span.tag")).map(e=>e.innerText.trim());const g=[],f=Array.from(document.querySelectorAll("#chapter_list > div.chapter > div.chapter-title")).map(e=>e.innerText.trim()),x=document.querySelectorAll("#chapter_list > div.chapter > div.articles"),b=f.length;let v=0;for(let n=0;n<b;n++){const o=x[n],a=n+1,i=f[n];let r=0;const s=o.querySelectorAll("span.chapter_item");for(const n of Array.from(s)){v++,r++;const o=n.querySelector("a");if(o){const s=o.innerText.trim(),c=o.href,l=()=>2===n.childElementCount,u=()=>l()&&"unlock"===n.querySelector("i")?.className,d=()=>3===document.querySelector("#header > div.container > div.right.pull-right")?.childElementCount,h=new m.I({bookUrl:e,bookname:t,chapterUrl:c,chapterNumber:v,chapterName:s,isVIP:l(),isPaid:u(),sectionName:i,sectionNumber:a,sectionChapterNumber:r,chapterParse:this.chapterParse,charset:this.charset,options:{}});!l()||d()&&u()||(h.status=p.nW.aborted),g.push(h)}}}return new h.E({bookUrl:e,bookname:t,author:n,introduction:i,introductionHTML:r,additionalMetadate:l,chapters:g})}async chapterParse(e,t,n,o,a,i){const[r,s]=[939.2,"18"];return b({chapterUrl:e,chapterName:t,isVIP:n,isPaid:o,charset:a,options:i,rootPath:"https://www.cddaoyue.cn/",parentWidth:r,setFontSize:s})}}function b({chapterUrl:e,chapterName:t,isVIP:n,isPaid:c,charset:l,options:m,rootPath:h,parentWidth:g,setFontSize:f}){function x(e){let t=e.content;const n=e.keys,a=e.keys.length,i=e.accessKey.split(""),r=i.length,s=[];s.push(n[i[r-1].charCodeAt(0)%a]),s.push(n[i[0].charCodeAt(0)%a]);for(let e=0;e<s.length;e++){t=atob(t);const n=s[e],a=btoa(t.substr(0,16)),i=btoa(t.substr(16)),r=o.format.OpenSSL.parse(i);t=o.AES.decrypt(r,o.enc.Base64.parse(n),{iv:o.enc.Base64.parse(a),format:o.format.OpenSSL}),e<s.length-1&&(t=t.toString(o.enc.Base64),t=atob(t))}return t.toString(o.enc.Utf8)}async function b(){const t=(await(0,r.wA)(e,void 0)).querySelectorAll("#J_BookCnt .chapter.author_say");let n;if(0!==t.length){const e=document.createElement("hr");n=document.createElement("div"),n.appendChild(e);for(const e of Array.from(t))(0,s.rm)("i",!0,e),n.appendChild(e)}return n}const v=e.split("/").slice(-1)[0];return n?async function(n,o){if(("www.cddaoyue.cn"===document.location.host||"cddaoyue.cn"===document.location.host?3===document.querySelector("div.dropdown-menu")?.childElementCount:"www.shubl.com"===document.location.host||"shubl.com"===document.location.host?3===document.querySelector("div.pull-right:nth-child(2)")?.childElementCount:1===document.querySelector(".login-info.ly-fr")?.childElementCount)&&c){const s=await b(),c=await async function(e,t){const a=h+"chapter/ajax_get_image_session_code";u().debug(`[Chapter]请求 ${a} Referer ${t}`);const i=await(0,r._V)(a,{method:"POST",headers:{Accept:"application/json, text/javascript, */*; q=0.01",Referer:t,Origin:document.location.origin,"X-Requested-With":"XMLHttpRequest"},responseType:"json"}).then(e=>e.response).catch(e=>u().error(e));if(1e5!==i.code)throw u().error(i),new Error(`下载 ${t} 失败`);const s=x({content:i.image_code,keys:i.encryt_keys,accessKey:i.access_key});return h+"chapter/book_chapter_image?chapter_id="+e+"&area_width="+n+"&font=undefined&font_size="+o+"&image_code="+s+"&bg_color_name=white&text_color_name=white"}(v,e);u().debug(`[Chapter]请求 ${c} Referer ${e}`);const l=await(0,r._V)(c,{method:"GET",headers:{Referer:e,Accept:"image/avif,image/webp,image/apng,image/svg+xml,image/*,*/*;q=0.8"},responseType:"blob"}).then(e=>e.response).catch(e=>u().error(e)),m=`vipCHapter${v}.png`,g=new d.q(c,m,"TM");l&&(g.Blob=l,g.status=p.nW.finished),(0,a.Ld)(g);const f=[g];let w,y;if(s){const{dom:e,text:t,images:n}=await(0,i.an)(s,"TM");[w,y]=[e,t,n]}const k=document.createElement("img");k.setAttribute("data-src-address",m),k.alt=c;const S=document.createElement("div");S.appendChild(k),w&&S.appendChild(w);let T=`VIP章节，请打开HTML文件查看。\n![${c}](${m})`;return y&&(T=T+"\n\n"+y),{chapterName:t,contentRaw:S,contentText:T,contentHTML:S,contentImages:f,additionalMetadate:null}}return{chapterName:t,contentRaw:null,contentText:null,contentHTML:null,contentImages:null,additionalMetadate:null}}(g,f):async function(){const n=await b(),o=document.createElement("div"),a=await async function(e,t){const n=h+"chapter/ajax_get_session_code",o=h+"chapter/get_book_chapter_detail_info";u().debug(`[Chapter]请求 ${n} Referer ${t}`);const a=(await(0,r._V)(n,{method:"POST",headers:{Accept:"application/json, text/javascript, */*; q=0.01","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8",Referer:t,Origin:document.location.origin,"X-Requested-With":"XMLHttpRequest"},data:`chapter_id=${e}`,responseType:"json"}).then(e=>e.response).catch(e=>u().error(e))).chapter_access_key;u().debug(`[Chapter]请求 ${o} Referer ${t}`);const i=await(0,r._V)(o,{method:"POST",headers:{Accept:"application/json, text/javascript, */*; q=0.01","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8",Referer:t,Origin:document.location.origin,"X-Requested-With":"XMLHttpRequest"},data:`chapter_id=${e}&chapter_access_key=${a}`,responseType:"json"}).then(e=>e.response).catch(e=>u().error(e));if(1e5!==i.code)throw u().error(i),new Error(`下载 ${t} 失败`);return x({content:i.chapter_content,keys:i.encryt_keys,accessKey:a})}(v,e);o.innerHTML=a,(0,s.rm)(".chapter span",!0,o),n&&o.appendChild(n);const{dom:c,text:l,images:p}=await(0,i.an)(o,"TM");return{chapterName:t,contentRaw:o,contentText:l,contentHTML:c,contentImages:p,additionalMetadate:null}}()}},(e,t,n)=>{"use strict";n.d(t,{haitangtxt:()=>h});var o=n(33),a=n(21),i=n(9),r=n(34),s=n(2),c=n.n(s),l=n(36),u=n(37),p=n(38);function d(e){let t=e;for(const e in m)if(Object.prototype.hasOwnProperty.call(m,e)){const n=m[e],o=`<img src="${document.location.origin}/wzbodyimg/${e}">`;t=t.replaceAll(o,n)}return t}const m={};const h=()=>{return e=d,class extends p.Q{constructor(){super(),this.attachmentMode="TM",this.nsfw=!0}async bookParse(){const e=document.querySelector("div.currency_head > h1 > a").href,t=e.split("/").slice(-2,-1)[0];c().debug(`[chapter]请求 ${e}`);const n=await(0,a.wA)(e,"UTF-8"),o=n.querySelector("div.cataloginfo > h3").innerText.trim(),s=n.querySelector(".infotype > p:nth-child(1) > a:nth-child(1)").innerText.trim(),p=n.querySelector(".intro"),[d,m]=await(0,r.HV)(p,e=>((0,i.rm)("span:nth-child(1)",!1,e),e)),h=[],g=(()=>{const e=[],n=(()=>{const e=document.querySelector("div.page:nth-child(6)");if(e){const t=Array.from(e.childNodes),n=t.slice(-1)[0].textContent?.match(/第\d+\/(\d+)页/);if(n)return n[1]}})();if(void 0===n)throw new Error("getMaxPageNumber return null ");const o=parseInt(n);for(let n=1;n<=o;n++){const o=[document.location.origin,document.location.pathname.split("/")[1],`${t}_${n}`].join("/")+"/";e.push(o)}return e})();let f=[];for(const e of g){c().debug(`[chapter]请求 ${e}`);const t=(await(0,a.wA)(e,"UTF-8")).querySelector("ul.chapters");t?.childElementCount&&(f=f.concat(Array.from(t.children)))}const x=f.filter(e=>void 0!==e);let b=0;for(const t of x){b++;const n=t.firstElementChild,a=n.innerText,i=n.href,r=!1,s=!1,c=new l.I({bookUrl:e,bookname:o,chapterUrl:i,chapterNumber:b,chapterName:a,isVIP:r,isPaid:s,sectionName:null,sectionNumber:null,sectionChapterNumber:null,chapterParse:this.chapterParse,charset:this.charset,options:{}});h.push(c)}return new u.E({bookUrl:e,bookname:o,author:s,introduction:d,introductionHTML:m,additionalMetadate:{},chapters:h})}async chapterParse(t,n,i,r,s,l){function u(){function e(e,t){let n=Math.ceil((t+1)%a);return n=Math.ceil(e-n),n}const t=d.getElementsByTagName("meta")[7].getAttribute("content"),n=d.querySelector("#articlecontent");let o,a;const i=d.getElementsByTagName("script")[1].innerText.trim().match(/"(http.+)"/);if(i){o=i[1];const e=new URL(o).searchParams.get("code");e&&(a=parseInt(e))}if(t){const o=atob(t).split(/[A-Z]+%/).map(e=>parseInt(e)),a=[];if(Array.from(d.querySelectorAll("script")).filter(e=>e.src.includes("/17mb/js/article.js")).length){for(let t=0;t<o.length;t++)a[e(o[t],t)]=n.childNodes[t];for(const e of a)1===e.nodeType&&(e.innerText.includes("本章尚未完结,请")||e.innerText.includes("本章已阅读完毕")||m.appendChild(e));return}}for(const e of Array.from(n.childNodes))e.innerText.includes("本章尚未完结,请")||e.innerText.includes("本章已阅读完毕")||m.appendChild(e)}let p=t,d=await(0,a.wA)(t,s);const m=document.createElement("div");let h=!1;do{u();const e=d.querySelector(".novelbutton .p1.p3 > a:nth-child(1)").href;new URL(e).pathname.includes("_")?e!==p?h=!0:(c().error("网站页面出错，URL： "+p),h=!1):h=!1,h&&(p=e,d=await(0,a.wA)(e,s))}while(h);if(m){const{dom:t,images:a}=await(0,o.an)(m,"TM",{keepImageName:!0}),i=document.createElement("div");i.innerHTML=e(m.innerHTML);const{dom:r,text:s}=await(0,o.an)(i,"TM",{keepImageName:!0}),c=document.createElement("style");c.innerHTML=".hide { display: none; }",t.className="hide";const l=document.createElement("div");return l.appendChild(c),l.appendChild(t),l.appendChild(r),{chapterName:n,contentRaw:m,contentText:s,contentHTML:l,contentImages:a,additionalMetadate:null}}return{chapterName:n,contentRaw:null,contentText:null,contentHTML:null,contentImages:null,additionalMetadate:null}}};var e}},(e,t,n)=>{"use strict";n.d(t,{Longmabook:()=>g});var o=n(19),a=n(33),i=n(21),r=n(4),s=n(9),c=n(34),l=n(2),u=n.n(l),p=n(5),d=n(36),m=n(37),h=n(38);class g extends h.Q{constructor(){super(),this.attachmentMode="TM",this.concurrencyLimit=5,this.nsfw=!0}async bookParse(){if(!Boolean(document.querySelector('a[href="/?act=signinlst"]')))throw alert("小说下载器：海棠文化线上文学城需登录后方可下载！请登录帐号。"),new p.K5("海棠文化线上文学城需登录后方可浏览！");const e=this,t=document.location.href,n=document.querySelector("#mypages > div:nth-child(8) > div:nth-child(1) > h4").innerText,a=document.querySelector("#writerinfos a").innerText,l=new URLSearchParams(document.location.search),h=l.get("bookid");if(!h)throw new Error("获取 bookid 出错");const g=l.get("bookwritercode"),f=document.querySelector("#mypages > div:nth-child(8) > div:nth-child(1)")?.cloneNode(!0);let[x,b]=[null,null,null];f&&((0,s.rm)("div",!0,f),(0,s.rm)("textarea",!0,f),(0,s.rm)("font",!0,f),(0,s.rm)("b",!0,f),(0,s.rm)("span",!0,f),(0,s.rm)("h4",!0,f),(0,s.rm)("img",!0,f),(0,s.j3)([/【作品编号：\d+】|【作品編號：\d+】/,"\n)\n"],f),[x,b]=await(0,c.HV)(f,void 0));const v={},w=document.querySelector("#mypages > div:nth-child(8) > div:nth-child(1) > img")?.src.replace("_s.","_b.");w&&(0,o.if)(w,this.attachmentMode,"cover-").then(e=>{v.cover=e}).catch(e=>u().error(e)),v.tags=document.querySelector('#mypages > div:nth-child(8) > div:nth-child(1) > font[color="#800080"]')?.innerText.split("/").map(e=>e.trim())??[];const y=document.location.origin+"/showbooklist.php",k={ebookid:h,pages:"1",showbooklisttype:"1"},S=e=>({headers:{"content-type":"application/x-www-form-urlencoded; charset=UTF-8","x-requested-with":"XMLHttpRequest"},body:new URLSearchParams(e).toString(),method:"POST",mode:"cors",credentials:"include"}),T=e=>e.innerText.trim(),A=e=>{const t=(e=>e.querySelectorAll('span[uk-icon="file-text"] + a'))(e),n=(e=>e.querySelectorAll('span[uk-icon="folder"] + b > font'))(e);return Array.from(t).map(e=>{const t=e.innerText,o=e.href,a=(0,c.lq)(e,n,T),i=(e=>e.parentElement?.innerText.includes("$")??!1)(e);let r=!1;return i&&(r=(e=>e.parentElement?.innerText.includes("已購買")??!1)(e)),{chapterName:t,chapterUrl:o,_sectionName:a,isVip:i,isPaid:r}})},C=[],M=await(0,i.kP)(y,e.charset,S(k));if(M){C.push(...A(M));const t=(e=>{const t=e.querySelectorAll("a[onclick^=showbooklist]"),n=Array.from(t).map(e=>{const t=e.getAttribute("onclick");if(t){const e=/'(\d+)'\)/.exec(t)?.slice(-1)[0];if(e)return parseInt(e,10)}}).filter(e=>void 0!==e);return Array.from(new Set(n)).sort()})(M);if(0!==t.length)for(const n of t){const t=(0,r.OJ)(k);t.pages=n.toString();const o=await(0,i.kP)(y,e.charset,S(t));o&&C.push(...A(o))}}const N=[];let E=0,P=0,q=null,L=0;for(const{chapterName:e,chapterUrl:o,_sectionName:a,isVip:i,isPaid:r}of C){a!==q&&(q=a,P++,L=0),E++,L++;const s=new d.I({bookUrl:t,bookname:n,chapterUrl:o,chapterNumber:E,chapterName:e,isVIP:i,isPaid:r,sectionName:q,sectionNumber:P,sectionChapterNumber:L,chapterParse:this.chapterParse,charset:this.charset,options:{bookId:h,bookwritercode:g}});s.isVIP&&!s.isPaid&&(s.status=p.nW.aborted),N.push(s)}return new m.E({bookUrl:t,bookname:n,author:a,introduction:x,introductionHTML:b,additionalMetadate:v,chapters:N})}async chapterParse(e,t,n,o,r,c){const l=this,p=await(0,i.wA)(e,r);if(p.body.innerHTML.includes("您目前正在海棠清水區，只能觀看清水認證文章。"))throw window.stopFlag||(alert("您目前正在海棠清水區，只能觀看清水認證文章。請使用海棠其他網址進入。"),window.stopController.abort()),new Error("您目前正在海棠清水區，只能觀看清水認證文章。請使用海棠其他網址進入。");const[d,m]=(()=>{const e=Array.from(p.querySelectorAll("script")).filter(e=>e.innerText.includes("vercodechk"))[0].innerText.match(/{\spaperid:\s'(\d+)',\svercodechk:\s'(\w+)'}/);if(3===e?.length){const[t,n]=e.slice(1);return[t,n]}throw new Error("获取 paperid, vercodechk 失败！")})(),h={chapterName:t,contentRaw:null,contentText:null,contentHTML:null,contentImages:null,additionalMetadate:null};if(p.querySelector("#paperbuybtm"))return u().info(`[chapter]付费章节 ${t} 未购买。`),h;const g=document.createElement("div");let f="",x=[];const[b,v,w]=await async function(){const e=document.createElement("div");Array.from(p.querySelectorAll("#mypages > div:nth-child(10) > div:nth-child(2) > div:nth-child(6) > ul > li:nth-child(14) > img")).forEach(t=>e.appendChild(t.cloneNode(!0)));const{dom:t,text:n,images:o}=await(0,a.an)(e,l.attachmentMode);return[t,n,o]}(),[y,k,S]=await async function(){const t=document.location.origin+"/showpapercolor.php";u().debug(`[chapter]正在请求${t}`);const n=await fetch(t,{credentials:"include",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","X-Requested-With":"XMLHttpRequest","Cache-Control":"max-age=0"},referrer:e,body:new URLSearchParams({paperid:d,vercodechk:m}).toString(),method:"POST",mode:"cors"}),o=document.createElement("div");o.innerHTML=await n.text(),(0,s.rm)('img[src="/images/fullcolor.png"]',!0,o);const{dom:i,text:r,images:c}=await(0,a.an)(o,l.attachmentMode);return[i,r,c]}(),[T,A,C]=await async function(){const e=p.querySelector("#colorpanelwritersay");if(e){const{dom:t,text:n,images:o}=await(0,a.an)(e,l.attachmentMode);return[t,n,o]}return[null,null,null]}(),[M,N,E]=await async function(){if(Array.from(p.querySelectorAll('a[href="#gopapergbook"]')).map(e=>e.innerText.trim()).some(e=>"發表心得留言"===e)){const e=p.querySelector("div#eggsarea"+d);let t="<h4> 彩蛋 </h4>";e?""===e.innerText.trim()?t+="<p> 本章含有彩蛋，但并未敲开。</p>":t+=e.innerHTML:t+="<p> 未找到彩蛋</p>";const n=document.createElement("div");n.innerHTML=t,(0,s.rm)('img[src="/images/fullcolor.png"]',!0,n);const{dom:o,text:i,images:r}=await(0,a.an)(n,l.attachmentMode);return[o,i,r]}return[null,null,null]}();if(b&&(g.appendChild(b),f+=v+"\n\n",w&&(x=x.concat(w))),g.appendChild(y),f+=k,S&&(x=x.concat(S)),T){const e=document.createElement("hr");T.className="authorSay",g.appendChild(e),g.appendChild(T),f+="\n\n"+"-".repeat(20)+"\n\n"+A,C&&(x=x.concat(C))}if(M){const e=document.createElement("hr");M.className="egg",g.appendChild(e),g.appendChild(M),f+="\n\n"+"-".repeat(20)+"\n\n"+N,E&&(x=x.concat(E))}return{chapterName:t,contentRaw:g,contentText:f,contentHTML:g,contentImages:x,additionalMetadate:null}}}},(e,t,n)=>{"use strict";n.d(t,{Kanunu8:()=>m});var o=n(19),a=n(33),i=n(9),r=n(74),s=n(34),c=n(2),l=n.n(c),u=n(36),p=n(37),d=n(38);class m extends d.Q{constructor(){super(),this.attachmentMode="TM"}async bookParse(){const e=document.location.href,t=document.title.split(" ")[0],n=Array.from(document.querySelectorAll("a")).filter(e=>(e.href.includes("writer")||e.href.includes("/zj/"))&&e.href.includes(".html")),a=n.map(e=>[e,e.getBoundingClientRect().top]).sort(h)?.[0]?.[0],r=a?.innerText.replace("作品集","").replace("→","").trim()??"",c=Array.from(document.body.querySelectorAll("td, p")).filter(e=>0!==e.innerText.length).map(e=>[e,(0,i.K4)(e)]).sort(h).slice(-1)?.[0][0];let d=null,m=null;c&&((0,i.rm)("a",!0,c),[d,m]=await(0,s.HV)(c));let g=null,f=null,x=null;function b(e){const t=["writer","/zj/","index.html"],n=[".html"];for(const n of t)if(e.href.includes(n))return!1;for(const t of n)if(0==e.href.includes(t))return!1;return!0}if(document.querySelector(".mulu-list ul > li > a"))g=Array.from(document.querySelectorAll(".mulu-list ul > li > a")).filter(b),f=document.querySelectorAll(".mulu-title > h2"),x=e=>e.innerText;else if(document.querySelector("div.book"))g=Array.from(document.querySelectorAll("div.book a")).filter(b),f=document.querySelectorAll("div.book dl > dt, div.book td > strong"),x=e=>e.innerText;else{const e=document.querySelectorAll("table"),t=Array.from(e).map(e=>[e,(0,i.e_)(e)]).filter(e=>4===e[1]).filter(e=>(0,s.sy)(e[0])[0]).map(e=>[e[0],Array.from(e[0].querySelectorAll("a")).filter(b).length]).sort(h);if(0!==t.length){const e=t.slice(-1)[0][0];g=e.querySelectorAll("a"),f=e.querySelectorAll('td[align="center"]'),x=e=>e.innerText}}const v={},w=Array.from(document.querySelectorAll("img")).filter(e=>new URL(e.src).host===document.location.host);if(1===w.length){const e=w[0].src;e&&(0,o.if)(e,this.attachmentMode,"cover-").then(e=>{v.cover=e}).catch(e=>l().error(e))}const y=[];let k=0,S=0,T=0,A="";if(!g)throw Error("[BookParse]获取章节信息失败！");for(const n of Array.from(g)){const o=n.innerText.trim(),a=n.href;if(f&&x){const e=(0,s.lq)(n,f,x);e&&A!==e&&(A=e,S++,T=0),k++,T++}const i=!1,r=!1,c=new u.I({bookUrl:e,bookname:t,chapterUrl:a,chapterNumber:k,chapterName:o,isVIP:i,isPaid:r,sectionName:A,sectionNumber:S,sectionChapterNumber:T,chapterParse:this.chapterParse,charset:this.charset,options:{}});y.push(c)}return new p.E({bookUrl:e,bookname:t,author:r,introduction:d,introductionHTML:m,additionalMetadate:v,chapters:y})}async chapterParse(e,t,n,o,s,c){const l=await(0,r.fetchAndParse)(e,this.charset);if(l){const e=l.content;(0,i.rm)("a",!0,e);const{dom:n,text:o,images:r}=await(0,a.an)(e,"TM");return{chapterName:t,contentRaw:e,contentText:o,contentHTML:n,contentImages:r,additionalMetadate:null}}return{chapterName:t,contentRaw:null,contentText:null,contentHTML:null,contentImages:null,additionalMetadate:null}}}function h(e,t){return e[1]-t[1]}},(e,t,n)=>{"use strict";n.d(t,{Ciyuanji:()=>h});var o=n(22),a=n(19),i=n(33),r=n(21),s=n(34),c=n(2),l=n.n(c),u=n(5),p=n(36),d=n(37),m=n(38);class h extends m.Q{constructor(){super(),this.attachmentMode="TM",this.concurrencyLimit=1}async bookParse(){const e=document.location.href,t=unsafeWindow.__NEXT_DATA__.props.pageProps.book,n=t.bookId,o=t.bookName,i=t.authorName,r=document.createElement("div");r.innerHTML=t.notes.replace("/\n/g","<br/><br/>");const[c,m]=await(0,s.HV)(r),h={},g=t.imgUrl;g&&(0,a.if)(g,this.attachmentMode,"cover-").then(e=>{h.cover=e}).catch(e=>l().error(e)),h.tags=t.tagList.map(e=>e.tagName);const f=unsafeWindow.__NEXT_DATA__.props.pageProps.bookChapter.chapterList,x=[];let b=0,v=null,w=0,y=0;for(const t of f){const a=t.chapterId,i=`${document.location.origin}/chapter/${n}_${a}`,r=t.chapterName,s=t.title;v!==s&&(v=s,w++,y=0),b++,y++;const c="1"===t.isFee,l="1"===t.isBuy,d=new p.I({bookUrl:e,bookname:o,chapterUrl:i,chapterNumber:b,chapterName:r,isVIP:c,isPaid:l,sectionName:v,sectionNumber:w,sectionChapterNumber:y,chapterParse:this.chapterParse,charset:this.charset,options:{}});d.isVIP&&!d.isPaid&&(d.status=u.nW.aborted),x.push(d)}return new d.E({bookUrl:e,bookname:o,author:i,introduction:c,introductionHTML:m,additionalMetadate:h,chapters:x})}async chapterParse(e,t,n,a,s,c){await(0,r.wA)(e,s);const l=document.getElementById("__NEXT_DATA__");if(!l)throw new Error("无法找到'__NEXT_DATA__'，下载失败");const u=JSON.parse(l.innerHTML).props.pageProps.chapterContent.chapter,p=document.createElement("div"),d=function(e){if(e&&"string"==typeof e){e=e.replace(/\n/g,"");const t=o.enc.Utf8.parse("ZUreQN0Epkpxh3pooWOgixjTfPwumCTYWzYTQ7SMgDnqFLQ1s9tqpVhkGf02we89moQwhSQ07DVzc3LWupRgbVvm29aYeY7zyFN");return o.DES.decrypt(e,t,{mode:o.mode.ECB,padding:o.pad.Pkcs7}).toString(o.enc.Utf8)}}(u.chapterContentFormat);if(d){p.innerHTML=d;const{dom:e,text:n,images:o}=await(0,i.an)(p,"TM");return{chapterName:t,contentRaw:p,contentText:n,contentHTML:e,contentImages:o,additionalMetadate:null}}return{chapterName:t,contentRaw:null,contentText:null,contentHTML:null,contentImages:null,additionalMetadate:null}}}},(e,t,n)=>{"use strict";n.d(t,{Shaoniandream:()=>m});var o=n(19),a=n(34),i=n(2),r=n.n(i),s=n(5),c=n(36),l=n(37),u=n(38),p=n(22),d=n(1);class m extends u.Q{constructor(){super(),this.attachmentMode="TM",this.concurrencyLimit=1}async bookParse(){const e=document.location.href,t=e.match(/\/(\d+)$/),n=t?t[1]:null,i=document.querySelector(".bookdetail-name .title").innerText.trim(),u=document.querySelector(".bookdetail-name .penName").innerText.trim(),p=document.querySelector(".bookdetial-jianjie"),[d,m]=await(0,a.HV)(p),h={},g=document.querySelector(".bookdetail-top .cover img").src;g&&(0,o.if)(g,this.attachmentMode,"cover-").then(e=>{h.cover=e}).catch(e=>r().error(e)),h.tags=Array.from(document.querySelectorAll(".bookdetail-top .label-list span")).map(e=>e.innerText.trim());const f=[],x=document.querySelectorAll(".bookdetail-left-list > #S_BookDir > .DataList > div");let b=0;for(let t=0;t<x.length;t++){const o=x[t],a=t+1,r=o.querySelector(".volume_name").innerText.trim();let l=0;const u=o.querySelectorAll(".chapter_list > ul > li");for(const t of Array.from(u)){const o=t.querySelector("a");b++,l++;const u=o.innerText.trim(),p=o.href,d=p.match(/\/(\d+)$/),m=d?d[1]:null,h=()=>t.classList.contains("lock_fill"),g=()=>!0,x=new c.I({bookUrl:e,bookname:i,chapterUrl:p,chapterNumber:b,chapterName:u,isVIP:h(),isPaid:g(),sectionName:r,sectionNumber:a,sectionChapterNumber:l,chapterParse:this.chapterParse,charset:this.charset,options:{bookID:n,chapterID:m}});h()&&(x.status=s.nW.aborted,x.isPaid&&(x.status=s.nW.pending)),f.push(x)}}return new l.E({bookUrl:e,bookname:i,author:u,introduction:d,introductionHTML:m,additionalMetadate:h,chapters:f})}async chapterParse(e,t,n,o,a,i){return await async function(e,t,n){const o={referer:`https://www.shaoniandream.com/readchapter/${t}`,accept:"application/json",origin:"https://www.shaoniandream.com","x-requested-with":"XMLHttpRequest"},a=`https://www.shaoniandream.com/booklibrary/membersinglechaptersign/chapter_id/${t}`,i=`https://www.shaoniandream.com/booklibrary/membersinglechapter/chapter_id/${t}`,s=await new Promise(e=>{(0,d.nV)({url:a+"?randoom="+Math.random(),headers:o,method:"POST",onload:function(t){if(200===t.status){const n=JSON.parse(t.responseText);e(n)}else{r().error(`response status = ${t.status}`);const n=JSON.parse('{"msg":"ND error"}');e(n)}}})});if("ND error"===s.msg)throw new Error("chapterSign resolve error");const c=`chapter_access_key=${s?.data?.chapter_access_key??""}&isMarket=1`,l={referer:`https://www.shaoniandream.com/readchapter/${t}`,accept:"application/json, text/javascript, */*; q=0.01",origin:"https://www.shaoniandream.com","x-requested-with":"XMLHttpRequest",priority:"u = 1, i","content-type":"application/x-www-form-urlencoded; charset=UTF-8","sec-ch-ua":'"Not/A)Brand";v="8", "Chromium";v="126", "Google Chrome";v="126"',"sec-fetch-site":"same-origin"},u=await new Promise(e=>{(0,d.nV)({url:i+"?randomm="+Math.random(),headers:l,method:"POST",data:c,onload:function(t){if(200===t.status){const n=JSON.parse(t.responseText);e(n)}else{r().error(`response status = ${t.status}`);const n=JSON.parse('{"msg":"ND error"}');e(n)}}})});function m(e){return p.enc.Utf8.stringify(p.enc.Base64.parse(e))}if("ND error"===u.msg)throw new Error("chapterSign resolve error");if(1==u.status){const e=m(u.data.encryt_keys[0]),t=m(u.data.encryt_keys[1]),n=u.data.show_content,o=u.data.imgPrefix,a=u.data.chapterpic;let i="";for(let o=0;o<n.length;o++)i+=p.AES.decrypt(n[o].content,p.enc.Utf8.parse(e),{iv:p.enc.Utf8.parse(t),mode:p.mode.CBC,padding:p.pad.Pkcs7}).toString(p.enc.Utf8),i+="\n";let r=i.split("\n").map(e=>e.trim()).join("\n\n");const s=u.data.title,c=document.createElement("div");if(a.length>0)for(let e=0;e<a.length;e++){const t=document.createElement("img");t.src=o+a[e].url,t.innerText=a[e].miaoshu,c.appendChild(t)}const l=p.AES.decrypt(u.data.miaoshu,p.enc.Utf8.parse(e),{iv:p.enc.Utf8.parse(t),mode:p.mode.CBC,padding:p.pad.Pkcs7}).toString(p.enc.Utf8)??"",d=document.createElement("pre");d.innerHTML=i;const h=document.createElement("div");h.innerHTML=i.split("\n").map(e=>e.trim()).map(e=>0===e.length?"<p><br/></p>":`<p>${e}</p>`).join("\n");const g=document.createElement("div");g.className="main";const f=document.createElement("hr"),x=document.createElement("div");return x.innerHTML=l?.split("\n")?.map(e=>0===e.length?"<p><br/></p>":`<p>${e}</p>`)?.join("\n")??"",g.appendChild(c),g.appendChild(f),g.appendChild(h),g.appendChild(f),g.appendChild(x),d.innerHTML=[d.innerHTML,"-".repeat(20),l].join("\n\n"),r=[r,"-".repeat(20),l].join("\n\n"),{chapterName:s,contentRaw:d,contentText:r,contentHTML:g,contentImages:null,additionalMetadate:null}}if(3==u.status)return r().warn(`请登录后阅读 chapterID = ${t}`),{chapterName:n,contentRaw:null,contentText:"",contentHTML:null,contentImages:null,additionalMetadate:null};if(4==u.status)return r().warn(`章节不存在 chapterID = ${t}`),{chapterName:n,contentRaw:null,contentText:"",contentHTML:null,contentImages:null,additionalMetadate:null};throw r().error(`解析失败, status = ${u.status}, msg = ${u.msg}`),new Error(`解析失败, status = ${u.status}, msg = ${u.msg}`)}(i.bookID,i.chapterID,t)}}},(e,t,n)=>{"use strict";n.d(t,{Pixiv:()=>p});var o=n(19),a=n(33),i=n(2),r=n.n(i),s=n(5),c=n(36),l=n(37),u=n(38);class p extends u.Q{constructor(){super(),this.attachmentMode="TM",this.needLogin=!0,this.concurrencyLimit=3}async bookParse(){const e=this,t={lang:document.querySelector("html")?.getAttribute("lang")??"en",version:"0e6ff4f1fa77cd8630159156c6ca02363ac6e1a8"};if(document.location.pathname.startsWith("/novel/series")){const e=/(\d+)\/?$/.exec(document.location.pathname)?.[0];if(!e)throw Error("not found seriesID!");return n(e)}{const a=new URL(document.location.href).searchParams.get("id");if(!a)throw Error("not found novelID");const i=await d(a,t.lang,t.version);if(i.seriesID)return n(i.seriesID);{const n=`https://www.pixiv.net/novel/show.php?id=${a}`,s=i.title,u=i.userName,p=document.createElement("div");if(p.innerHTML=i.description,i.glossary){const e=document.createElement("div");e.innerHTML=i.glossary,p.appendChild(e)}const d=p.innerText,m={};(0,o.if)(i.coverUrl,e.attachmentMode,"cover-").then(e=>{m.cover=e}).catch(e=>r().error(e)),m.lastModified=new Date(i.uploadDate).getTime(),m.tags=i.tags;const h=new c.I({bookUrl:n,bookname:s,chapterUrl:n,chapterNumber:1,chapterName:s,isVIP:!1,isPaid:!1,charset:e.charset,sectionName:null,sectionNumber:null,sectionChapterNumber:null,chapterParse:e.chapterParse,options:{id:a,lang:t.lang,version:t.version,isWriteDescInContent:!1}});return new l.E({bookUrl:n,bookname:s,author:u,introduction:d,introductionHTML:p,additionalMetadate:m,chapters:[h]})}}async function n(n){const a=await async function(e,t,n){const o=new URL(`https://www.pixiv.net/ajax/novel/series/${e}`);o.searchParams.append("lang",t),o.searchParams.append("version",n);const a=await fetch(o,{credentials:"include",headers:{Accept:"application/json"},method:"GET",mode:"cors"}),i=await a.json(),r=i.body.total,s=[];let c=0;for(;c<r;){const o=new URL(`https://www.pixiv.net/ajax/novel/series_content/${e}`);o.searchParams.append("limit",30..toString()),o.searchParams.append("last_order",c.toString()),o.searchParams.append("order_by","asc"),o.searchParams.append("lang",t),o.searchParams.append("version",n);const a=await fetch(o,{credentials:"include",headers:{Accept:"application/json"},method:"GET",mode:"cors"}),i=(await a.json()).body.page.seriesContents.map(e=>{const o=e.id;return{chapterUrl:`https://www.pixiv.net/novel/show.php?id=${o}`,chapterName:e.title,chapterNumber:e.series.contentOrder,options:{id:o,lang:t,version:n,isWriteDescInContent:!0},viewableType:e.series.viewableType}});s.push(...i),c+=30}let l=null;if(i.body.hasGlossary){const o=new URL(`https://www.pixiv.net/ajax/novel/series/${e}/glossary`);o.searchParams.append("lang",t),o.searchParams.append("version",n);const a=await fetch(o,{credentials:"include",headers:{Accept:"application/json"},method:"GET",mode:"cors"});l=function(e){if(e.error)return null;let t="<h4>设定集</h4>";for(let n=0;n<e.body.categories.length;n++){const o=e.body.categories[n];t+=`<h3>${o.name}</h3>`;for(let e=0;e<o.items.length;e++){const n=o.items[e];t+=`<p><strong>${n.name}</strong>:${n.overview}</p>`,n.coverImage&&(t+=`<img src="${n.coverImage}">`),n.detail&&(t+=`<p>${n.detail}</p>`)}}return t}(await a.json())}return{seriesID:e,seriesTotal:r,chapterObjList:s,bookname:i.body.title,author:i.body.userName,introduction:i.body.caption,coverURL:i.body.cover.urls.original,language:i.body.language,tags:i.body.tags,lastModified:i.body.updatedTimestamp,glossary:l}}(n,t.lang,t.version),i=`https://www.pixiv.net/novel/series/${n}`,u=a.bookname,p=a.author,d=a.introduction,m=document.createElement("div");if(m.innerText=d,a.glossary){const e=document.createElement("div");e.innerHTML=a.glossary,m.appendChild(e)}const h={};return(0,o.if)(a.coverURL,e.attachmentMode,"cover-").then(e=>{h.cover=e}).catch(e=>r().error(e)),h.lastModified=a.lastModified,h.tags=a.tags,new l.E({bookUrl:i,bookname:u,author:p,introduction:d,introductionHTML:m,additionalMetadate:h,chapters:a.chapterObjList.map(t=>{const{viewableType:n,...o}=t,a=new c.I({bookUrl:i,bookname:u,isVIP:!1,isPaid:!1,charset:e.charset,sectionName:null,sectionNumber:null,sectionChapterNumber:null,chapterParse:e.chapterParse,...o});return 0!==n&&(a.status=s.nW.aborted),a})})}}async chapterParse(e,t,n,o,i,r){const s=await d(r.id,r.lang,r.version),c=document.createElement("div"),l=document.createElement("div");let u=null;if(r.isWriteDescInContent&&(u=document.createElement("div"),u.innerHTML="<br />作者的话<br />"+"-".repeat(20)+"<br />"+s.description+"<br />"+"-".repeat(20)+"<br /><br />"),l.innerText=s.content,await async function({dom:e,nid:t,textEmbeddedImages:n}){const o=e.innerHTML.matchAll(/\[pixivimage:(\d+)]/g);for(const e of o)e[1]&&await i([e[0],e[1]]);const a=e.innerHTML.matchAll(/\[uploadedimage:(\d+)]/g);for(const e of a)e[1]&&s([e[0],e[1]]);return e;async function i([n,o]){const a=await async function(e){const n=new URL(`https://www.pixiv.net/ajax/novel/${t}/insert_illusts`);n.searchParams.append("id[]",`${e}-1`),n.searchParams.append("lang",r.lang),n.searchParams.append("version",r.version);const o=await fetch(n.href,{credentials:"include",headers:{Accept:"application/json"},method:"GET",mode:"cors"}),a=await o.json();if(a.error)throw new Error(`获取插图失败: pixivimage:${e}`);return a.body[`${e}-1`].illust?.images?.original??null}(o);if(!a)return;const i=document.createElement("img");i.src=a;const s=document.createElement("a");s.href=`https://www.pixiv.net/artworks/${o}`,s.appendChild(i),e.innerHTML=e.innerHTML.replaceAll(n,s.outerHTML)}function s([t,o]){const a=n?.[o].urls.original;if(a){const n=document.createElement("img");n.src=a,e.innerHTML=e.innerHTML.replaceAll(t,n.outerHTML)}}}({dom:l,nid:r.id,textEmbeddedImages:s.textEmbeddedImages}),function(e){const t=e.innerHTML.matchAll(/\[chapter:(.*?)]/g);for(const n of t){const[t,o]=n,a=document.createElement("strong");a.innerText=o.trim(),e.innerHTML=e.innerHTML.replace(t,a.outerHTML)}const n=e.innerHTML.matchAll(/\[newpage]/g);let o=1;for(const t of n){const[n]=t;o++,e.innerHTML=e.innerHTML.replace(n,`<hr/><a id="page${o}" data-keep="id" href="#"></a>`)}const a=e.innerHTML.matchAll(/\[jump:(\d+)]/g);for(const t of a){const[n,o]=t,a=document.createElement("a");a.innerText=`To page ${o.trim()}`,a.href=`#page${o.trim()}`,e.innerHTML=e.innerHTML.replace(n,a.outerHTML)}const i=e.innerHTML.matchAll(/\[\[jumpuri:(.*?) (>|&gt;) (.*?)]]/gm);for(const t of i){const[n,o,,a]=t,i=document.createElement("a");i.innerText=o.trim(),i.href=a.trim(),e.innerHTML=e.innerHTML.replace(n,i.outerHTML)}const r=e.innerHTML.matchAll(/\[\[rb:(.*?) (>|&gt;) (.*?)]]/g);for(const t of r){const[n,o,,a]=t,i=document.createElement("ruby"),r=document.createElement("rb");r.innerText=o.trim(),i.appendChild(r);const s=document.createElement("rp");s.innerText="(",i.appendChild(s);const c=document.createElement("rt");c.innerText=a.trim(),i.appendChild(c);const l=document.createElement("rp");l.innerText=")",i.appendChild(l),e.innerHTML=e.innerHTML.replace(n,i.outerHTML)}}(l),s.coverUrl){const e=document.createElement("img");e.src=s.coverUrl,c.append(e)}if(s.glossary){const e=document.createElement("div");e.innerHTML=s.glossary,c.append(e)}u&&c.append(u),c.append(l);const{dom:p,text:m,images:h}=await(0,a.an)(c,"TM");return{chapterName:t,contentRaw:l,contentText:m,contentHTML:p,contentImages:h,additionalMetadate:{lastModified:new Date(s.uploadDate).getTime(),tags:s.tags}}}}async function d(e,t,n){const o=new URL(`https://www.pixiv.net/ajax/novel/${e}`);o.searchParams.append("lang",t),o.searchParams.append("version",n);const a=await fetch(o,{credentials:"include",headers:{Accept:"application/json"},method:"GET",mode:"cors"}),i=await a.json();return{title:i.body.title,userName:i.body.userName,content:i.body.content,description:i.body.description,uploadDate:i.body.uploadDate,coverUrl:i.body.coverUrl,tags:i.body.tags.tags.map(e=>e.tag),seriesID:i.body.seriesNavData?.seriesId.toString()??null,textEmbeddedImages:i.body.textEmbeddedImages,glossary:null}}},(e,t,n)=>{"use strict";n.d(t,{Myrics:()=>h});var o=n(38),a=n(37),i=n(19),r=n(2),s=n.n(r),c=n(4),l=n(35),u=n(5),p=n(36),d=n(21),m=n(33);class h extends o.Q{constructor(){super(),this.attachmentMode="TM",this.concurrencyLimit=5}async bookParse(){const e=document.location.href.split("/").slice(-1)[0],t=document.querySelector('meta[name="csrf-token"]')?.getAttribute("content");if(!e||!t)throw new Error("初始化失败！找不到 bookId 或 csrf-token");const n=`https://www.myrics.com/authors/api_novel_detailed/${e}`,o=`https://www.myrics.com/novels/api_author_detailed/${e}`,r={Accept:"application/json","Content-Type":"application/json","X-CSRFToken":t},d=await fetch(n,{credentials:"include",headers:r,body:"null",method:"POST",mode:"cors"}),m=await d.json();if(!m.isSuccess)throw new Error("请求书籍详情失败！");const h=m.data,g=await fetch(o,{credentials:"include",headers:r,method:"POST",mode:"cors"}),f=await g.json();if(!f.isSuccess)throw new Error("请求作者详情失败！");const x=f.data,b=document.location.href,v=document.location.href+"/menu",w=h.title,y=x.pen_name,k=h.long_summary,S=document.createElement("div");S.innerText=k;const T={tags:[...h.geners,h.type],ids:e,language:"zh"},A=h.image;A&&(0,i.if)(A,this.attachmentMode,"cover-").then(e=>{T.cover=e}).catch(e=>s().error(e));const C=async t=>{const n=await fetch("https://www.myrics.com/novels/menu",(t=>({credentials:"include",headers:r,referrer:"https://www.myrics.com/novels/6747/menu",body:JSON.stringify({page_limit:12,id:e,sort:"asc",page:t}),method:"POST",mode:"cors"}))(t)),o=await n.json();if(!o.isSuccess)throw new Error(`获取第${t}页目录失败！`);return o.data},M=(0,l.A)(this.concurrencyLimit),N=await(async()=>{const t=0!==Array.from(document.querySelectorAll("a")).filter(e=>"checkin"===e.getAttribute("@click")).length,{total_page:n}=await C(1),o=(0,c.y1)(n,1).map(e=>M(()=>C(e)));return(await Promise.all(o)).map(n=>n.list.map(n=>{const o=n.id,a=`https://www.myrics.com/chapters/${o}`,i=parseInt(n.id),r=`${n.sort}. ${n.title}`,s=0!==n.coin,c=n?.had_paid??!1,l=n.part,d=`卷${l}`,m=n.part,h=n.is_adult,g=new p.I({bookUrl:b,bookname:w,chapterUrl:a,chapterNumber:i,chapterName:r,isVIP:s,isPaid:c,sectionName:d,sectionNumber:l,sectionChapterNumber:m,chapterParse:this.chapterParse,charset:this.charset,options:{bookId:e,chapterId:o,created_at:n.created_at}});return g.isVIP&&!g.isPaid&&(g.status=u.nW.aborted),!t&&h&&(g.status=u.nW.aborted),g})).reduce((e,t)=>(e.push(...t),e),[])})();let E=0;for(const e of N)e.chapterNumber=E,E++;const P=new a.E({bookUrl:b,bookname:w,author:y,introduction:k,introductionHTML:S,additionalMetadate:T,chapters:N});return P.ToCUrl=v,P}async chapterParse(e,t,n,o,a,i){const r=await(0,d.wA)(e,a),s=r.querySelector(".container > h1")?.innerText;s&&(t=s);const c=r.querySelector(".container > .wysiwyg");if(c){const{dom:e,text:n,images:o}=await(0,m.an)(c,"TM");return{chapterName:t,contentRaw:c,contentText:n,contentHTML:e,contentImages:o,additionalMetadate:{lastModified:new Date(i.created_at).getTime()}}}return{chapterName:t,contentRaw:null,contentText:null,contentHTML:null,contentImages:null,additionalMetadate:null}}}},(e,t,n)=>{"use strict";n.d(t,{Hanwujinian:()=>g});var o=n(22),a=n(19),i=n(33),r=n(21),s=n(9),c=n(34),l=n(2),u=n.n(l),p=n(5),d=n(36),m=n(37),h=n(38);class g extends h.Q{constructor(){super(),this.attachmentMode="TM"}async bookParse(){const e=document.location.href,t=document.querySelector("a.titleText_3").href,n=await(0,r.wA)(t,this.charset),o=document.querySelector("span.titleText_1").innerText.trim(),i=document.querySelector("span.authorText_1").innerText.trim(),s=document.querySelector("#introtext"),[l,h]=await(0,c.HV)(s),g=document.querySelector(".wR_JSAS > img").src,f={};g&&(0,a.if)(g,this.attachmentMode,"cover-").then(e=>{f.cover=e}).catch(e=>u().error(e)),f.tags=Array.from(document.querySelectorAll("div.labelBox_1 > span")).map(e=>e?.innerText.trim());const x=[];let b=0,v=0,w=0,y=null;const k=null!==document.querySelector("#userMeun"),S=n.querySelectorAll('div.wR_JS > div.wR_JC[style*="margin: 30px auto;"]'),T=n.querySelectorAll("div.wR_JS > div.wR_JC > div.wR_JSAC");for(const t of Array.from(T)){const n=t.querySelector("a"),a=n.innerText.trim(),i=n.href;if(0!==S.length){const e=(0,c.lq)(n,S,e=>e.innerText.trim());e!==y&&(y=e,v++,w=0)}b++,w++;const r=t.querySelector("img"),s=null!==r,l=!!s&&r.src.includes("lock_2_off.png"),u=new d.I({bookUrl:e,bookname:o,chapterUrl:i,chapterNumber:b,chapterName:a,isVIP:s,isPaid:l,sectionName:y,sectionNumber:v,sectionChapterNumber:w,chapterParse:this.chapterParse,charset:this.charset,options:{bookname:o}});u.isVIP&&(k?!1===u.isPaid&&(u.status=p.nW.aborted):u.status=p.nW.aborted),x.push(u)}const A=new m.E({bookUrl:e,bookname:o,author:i,introduction:l,introductionHTML:h,additionalMetadate:f,chapters:x});return A.ToCUrl=t,A}async chapterParse(e,t,n,a,c,l){const u=await(0,r.wA)(e,c),p=Array.from(u.querySelectorAll("script")).filter(e=>e.innerHTML.includes("var chapterContent"))?.[0],d=(e,t)=>{const n=decodeURI(function(t){const n=e.enc.Latin1.parse("2018122911430000"),o=e.enc.Latin1.parse("048fe2a99140c0e6");return e.AES.decrypt(t,n,{iv:o,padding:e.pad.ZeroPadding}).toString(e.enc.Utf8)}(t)),o=document.createElement("div");return o.innerText=n,o};if(p){const e=p.innerHTML.split("\n").filter(e=>e.includes("var chapterContent"))?.[0],n=new Function("CryptoJS",`${e};return (${d.toString()})(CryptoJS, chapterContent);`)(o);(0,s.Sf)(["更多优惠快去下载寒武纪年小说APP哦"],n),n.innerHTML=n.innerHTML.replaceAll("%3A","："),n.innerHTML=n.innerHTML.replaceAll("++++【","【");const{dom:a,text:r,images:c}=await(0,i.an)(n,"TM");return{chapterName:t,contentRaw:n,contentText:r,contentHTML:a,contentImages:c,additionalMetadate:null}}return{chapterName:t,contentRaw:null,contentText:null,contentHTML:null,contentImages:null,additionalMetadate:null}}}},(e,t,n)=>{"use strict";n.d(t,{Cool18:()=>l});var o=n(33),a=n(9),i=n(21),r=n(37),s=n(36),c=n(38);class l extends c.Q{constructor(){super(),this.attachmentMode="TM",this.nsfw=!0}async bookParse(){const e=document.location.href,t=await(0,i.wA)(e,this.charset),n=t.querySelector("h1.main-title").innerText.trim(),o=/[【《](.+)[】》](.+)?作者[:：]([^\s-]+)/.exec(n);let a=n,c="";o?(a=o[1],c=o[3]):(a=n,c=t.querySelector("span.sender > a").innerText.trim());const l=Array.from(document.querySelectorAll("#content-section > pre a"));let u=Array.from(document.querySelectorAll("div.post-list  ul.post-items > li"));const p=document.createElement("a");p.href=document.location.href,p.innerText=n,l.push(p),u=u.filter(e=>{const t=e.querySelector("a").href,n=new URL(t);return"threadview"===n.searchParams.get("act")&&n.searchParams.has("tid")}).filter(e=>!1===e.innerText.includes("(0 bytes)")),u=u.map(e=>e.querySelector("a"));const d=l.concat(u).filter((e,t,n)=>{const o=n.map(e=>e.href),a=e.href;return o.indexOf(a)===t}).sort((e,t)=>{const n=new URL(e.href).searchParams.get("tid"),o=new URL(t.href).searchParams.get("tid");return parseInt(n)-parseInt(o)}).map(t=>{const n=t.href,o=t.innerText.replace(`【${a}】`,"").replace(`《${a}》`,"").replace(`作者：${c}`,"").trim();return new s.I({bookUrl:e,bookname:a,chapterUrl:n,chapterNumber:-1,chapterName:o,isVIP:!1,isPaid:!1,sectionName:null,sectionNumber:null,sectionChapterNumber:null,chapterParse:this.chapterParse,charset:this.charset,options:{bookname:a,author:c}})});let m=0;for(const e of d)m++,e.chapterNumber=m;return new r.E({bookUrl:e,bookname:a,author:c,introduction:null,introductionHTML:null,additionalMetadate:{},chapters:d})}async chapterParse(e,t,n,r,s,c){const l=await(0,i.wA)(e,s);t=l.querySelector("h1.main-title").innerText.replace(`【${c.bookname}】`,"").replace(`《${c.bookname}》`,"").replace(`作者：${c.author}`,"").trim();const u=l.querySelector("#content-section > pre, #content-section > div");if(u){Array.from(u.querySelectorAll('font[color*="E6E6DD"]')).forEach(e=>e.remove());const e=document.createElement("div"),n=Array.from(u.childNodes);if(n.length>10)(0,a.Fv)(u,e),(0,a.rm)("a",!0,e),(0,o.N0)(e);else{for(const t of n){if(t instanceof Text&&(t.textContent?.length??0)>200){if((0,o.eu)(t)){e.appendChild((0,o.WF)(t));continue}{const n=document.createElement("div");n.innerText=t.textContent?.trim()??"",e.appendChild(n);continue}}e.appendChild(t)}Array.from(e.querySelectorAll("p")).filter(e=>""===e.innerText.trim()&&(0,a.UN)(e)instanceof HTMLElement&&(0,a.wX)(e)instanceof HTMLElement).forEach(e=>e.remove())}Array.from(e.querySelectorAll("center")).forEach(e=>{const t=document.createElement("div");for(;e.firstChild;)t.appendChild(e.firstChild);e.replaceWith(t)});const{dom:i,text:r,images:s}=await(0,o.an)(e,"TM");return{chapterName:t,contentRaw:e,contentText:r,contentHTML:i,contentImages:s,additionalMetadate:null}}return{chapterName:t,contentRaw:null,contentText:null,contentHTML:null,contentImages:null,additionalMetadate:null}}}},(e,t,n)=>{"use strict";n.d(t,{Xrzww:()=>h});var o=n(2),a=n.n(o),i=n(19),r=n(37),s=n(38),c=n(36),l=n(5),u=n(33),p=n(4),d=n(1),m=n(22);class h extends s.Q{constructor(){super(),this.attachmentMode="TM",this.concurrencyLimit=1}async bookParse(){const e=document.location.href,t=e.substring(e.lastIndexOf("/")+1),n="https://pre-api.xrzww.com",o=localStorage.getItem("token")?localStorage.getItem("token"):"",s={Accept:"application/json, text/plain, */*",Authorization:`Bearer ${o}`,Site:1..toString()},u=""!==o,p=new URL(`${n}/api/webNovelDetail`);p.searchParams.set("novel_id",t);const d=await fetch(p.href,{credentials:"include",headers:{"Cache-Control":"max-age=0",...s},method:"GET",mode:"cors"}),m=await d.json();if(200!==m.code)throw new Error("获取书籍信息出错！");const h=m.data.novel_name,g=m.data.novel_author,f=m.data.novel_info,x=document.createElement("div");x.innerText=f;const b={},v=`https://oss.xrzww.com${m.data.novel_cover}`;(0,i.if)(v,this.attachmentMode,"cover-").then(e=>{b.cover=e}).catch(e=>a().error(e)),b.tags=m.data.novel_tags.split(",").map(e=>e.trim()),b.tags.push(m.data.type_name),b.lastModified=m.data.novel_uptime;const w=new URL(`${n}/api/directoryList`);w.searchParams.set("nid",t),w.searchParams.set("orderBy","0");const y=await fetch(w.href,{credentials:"include",headers:s,method:"GET",mode:"cors"}),k=await y.json();if(200!==k.code)throw new Error("获取目录信息失败！");const S=k.data.volume.reduce((e,t)=>(e[t.volume_id]={name:t.volume_name,order:t.volume_order,desc:t.volume_desc},e),{}),T=[];let A=0,C=null,M=0,N=0;for(const t of k.data.data){A++;const o="",a=t.chapter_name,i=A,r=1===t.chapter_ispay,p=1===t.is_subscribe,d=S[t.chapter_vid].name;C!==d&&(C=d,M++,N=0);const m=M;N++;const g=N,f={nid:t.chapter_nid,vid:t.chapter_vid,chapter_id:t.chapter_id,chapter_order:t.chapter_order,apiBase:n,headers:s},x=new c.I({bookUrl:e,bookname:h,chapterUrl:o,chapterNumber:i,chapterName:a,isVIP:r,isPaid:p,sectionName:d,sectionNumber:m,sectionChapterNumber:g,chapterParse:this.chapterParse,charset:this.charset,options:f});u?x.isVIP&&!1===x.isPaid&&(x.status=l.nW.aborted):x.isVIP&&(x.status=l.nW.aborted),T.push(x)}return new r.E({bookUrl:e,bookname:h,author:g,introduction:f,introductionHTML:x,additionalMetadate:b,chapters:T})}async chapterParse(e,t,n,o,i,r){const s=document.createElement("p");let c=0;if(n)if(n&&o){const e=new URL("https://android-api.xrzww.com/api/readWithEncrypt");e.searchParams.set("chapter_id",r.chapter_id.toString()),e.searchParams.set("nid",r.nid.toString()),e.searchParams.set("preload","1");const t=await async function(e){let t="webh517657567560",n="Bearer 453453453e03ee546456546754756756";"object"==typeof unsafeWindow.tokenOptions&&(t=unsafeWindow.tokenOptions?.Xrzww?.deviceIdentify??"webh517657567560",n=unsafeWindow.tokenOptions?.Xrzww?.Authorization??"Bearer 453453453e03ee546456546754756756");const o=Math.round(Date.now()/1e3).toString(),i=m.MD5(t+o+"9495ef469eb3e7ae8ef3").toString();return new Promise(r=>{(0,d.nV)({url:e,headers:{Authorization:n,appVersion:"4.83",deviceType:"android",signature:i,site:"1","content-type":"application/json",headerRequestSource:"xirang",Connection:"Keep-Alive","User-Agent":"okhttp/4.8.0",deviceIdentify:t,timestamp:o},method:"GET",onload:function(e){if(200===e.status){const t=JSON.parse(String(e.responseText));r(t)}else a().error(`response status = ${e.status}`),r(JSON.parse('{"message":"try again!"}'))}})})}(e.href);if(t){const e=t;if(200!==e.code)throw new Error("获取章节内容失败！ "+JSON.stringify(r));let n=e.data.content;try{n=m.DES.decrypt(n,m.enc.Utf8.parse("VT5aj59QCjf2J8F3"),{iv:m.enc.Utf8.parse("259c4e9881b5fe05"),mode:m.mode.CBC,padding:m.pad.Pkcs7}).toString(m.enc.Utf8)}catch(e){throw a().debug(`VIP章节解密失败：${e}`),new Error("VIP章节解密失败！")}s.innerText=n,c=e.data.chapter_uptime}else s.innerText=""}else s.innerText="";else{const e=new URL(`${r.apiBase}/api/readNovelByWeb`);e.searchParams.set("nid",r.nid.toString()),e.searchParams.set("vid",r.vid.toString()),e.searchParams.set("chapter_id",r.chapter_id.toString()),e.searchParams.set("chapter_order",r.chapter_order.toString()),e.searchParams.set("showpic",(!1).toString());const t=await fetch(e.href,{credentials:"include",headers:r.headers,method:"GET",mode:"cors"}),n=await t.json();if(200!==n.code)throw new Error("获取章节内容失败！ "+JSON.stringify(r));s.innerText=n.data.content,c=n.data.chapter_uptime}const{dom:l,text:h,images:g}=await(0,u.an)(s,"TM");return await(0,p.yy)(4200*Math.random()),{chapterName:t,contentRaw:s,contentText:h,contentHTML:l,contentImages:g,additionalMetadate:{lastModified:c}}}}},(e,t,n)=>{"use strict";n.d(t,{Youdubook:()=>d});var o=n(2),a=n.n(o),i=n(19),r=n(37),s=n(38),c=n(36),l=n(5),u=n(33),p=n(4);class d extends s.Q{constructor(){super(),this.attachmentMode="TM",this.concurrencyLimit=1}async bookParse(){const e=document.location.href,t=e.substring(e.lastIndexOf("/")+1),n="https://pre-api.youdubook.com",o=localStorage.getItem("token")?localStorage.getItem("token"):"",s={Accept:"application/json, text/plain, */*",Authorization:`Bearer ${o}`,Site:1..toString()},u=""!==o,p=new URL(`${n}/api/webNovelDetail`);p.searchParams.set("novel_id",t);const d=await fetch(p.href,{credentials:"include",headers:{"Cache-Control":"max-age=0",...s},method:"GET",mode:"cors"}),m=await d.json();if(200!==m.code)throw new Error("获取书籍信息出错！");const h=m.data.novel_name,g=m.data.novel_author,f=m.data.novel_info,x=document.createElement("div");x.innerText=f;const b={},v=`https://oss.youdubook.com${m.data.novel_cover}`;(0,i.if)(v,this.attachmentMode,"cover-").then(e=>{b.cover=e}).catch(e=>a().error(e)),b.tags=m.data.novel_tags.split(",").map(e=>e.trim()),b.tags.push(m.data.type_name),b.lastModified=m.data.novel_uptime;const w=new URL(`${n}/api/directoryList`);w.searchParams.set("nid",t),w.searchParams.set("orderBy","0");const y=await fetch(w.href,{credentials:"include",headers:s,method:"GET",mode:"cors"}),k=await y.json();if(200!==k.code)throw new Error("获取目录信息失败！");const S=k.data.volume.reduce((e,t)=>(e[t.volume_id]={name:t.volume_name,order:t.volume_order,desc:t.volume_desc},e),{}),T=[];let A=0,C=null,M=0,N=0;for(const t of k.data.data){A++;const o="",a=t.chapter_name,i=A,r=1===t.chapter_ispay,p=1===t.is_subscribe,d=S[t.chapter_vid].name;C!==d&&(C=d,M++,N=0);const m=M;N++;const g=N,f={nid:t.chapter_nid,vid:t.chapter_vid,chapter_id:t.chapter_id,chapter_order:t.chapter_order,apiBase:n,headers:s},x=new c.I({bookUrl:e,bookname:h,chapterUrl:o,chapterNumber:i,chapterName:a,isVIP:r,isPaid:p,sectionName:d,sectionNumber:m,sectionChapterNumber:g,chapterParse:this.chapterParse,charset:this.charset,options:f});u?x.isVIP&&!1===x.isPaid&&(x.status=l.nW.aborted):x.isVIP&&(x.status=l.nW.aborted),T.push(x)}return new r.E({bookUrl:e,bookname:h,author:g,introduction:f,introductionHTML:x,additionalMetadate:b,chapters:T})}async chapterParse(e,t,n,o,a,i){const r=new URL(`${i.apiBase}/api/readNovelByWeb`);r.searchParams.set("nid",i.nid.toString()),r.searchParams.set("vid",i.vid.toString()),r.searchParams.set("chapter_id",i.chapter_id.toString()),r.searchParams.set("chapter_order",i.chapter_order.toString()),r.searchParams.set("showpic",(!1).toString());const s=await fetch(r.href,{credentials:"include",headers:i.headers,method:"GET",mode:"cors"}),c=await s.json();if(200!==c.code)throw new Error("获取章节内容失败！ "+JSON.stringify(i));const l=document.createElement("p");l.innerText=c.data.content;const{dom:d,text:m,images:h}=await(0,u.an)(l,"TM");return await(0,p.yy)(4200*Math.random()),{chapterName:t,contentRaw:l,contentText:m,contentHTML:d,contentImages:h,additionalMetadate:{lastModified:c.data.chapter_uptime}}}}},(e,t,n)=>{"use strict";n.d(t,{Readmoo:()=>p});var o=n(35),a=n(37),i=n(38),r=n(20),s=n(5),c=n(21),l=n(36),u=n(4);class p extends i.Q{constructor(){super(),this.saveType={txt:!1,epub:!1,raw:{ext:"epub"}},this.attachmentMode="TM"}async bookParse(){const e="https://reader.readmoo.com",t=`${e}/api/book/`,n={Accept:"*/*",Authorization:"bearer TWBLXfuP-NbtCrjD2PAiFA",Referer:"https://reader.readmoo.com/reader/index.html","X-Requested-With":"XMLHttpRequest"},i={headers:n,responseType:"json"},p={headers:n},d=[{path:"mimetype",data:new Blob(["application/epub+zip"]),nocompress:!0}],m=document.location.pathname.split("/").slice(-1)[0],h=`${t}${m}/nav`,g=(await(0,c._V)(h,i)).response;if("success"!==g.message)throw new Error("获取 nav 失败！");const f=`${e}${g.base}`,x=`${f}META-INF/container.xml`;d.push({path:"META-INF/container.xml",data:x});const b=await(0,c.bx)(x,"UTF-8",p);if(!b)throw new Error("抓取 container.xml 失败！");const v=(new DOMParser).parseFromString(b,"application/xml"),w=v.querySelector("rootfile")?.getAttribute("full-path");if(!w)throw new Error("解析 container.xml 出错！");const y=`${f}${w}`;d.push({path:w,data:y});const k=await(0,c.bx)(y,"UTF-8",p);if(!k)throw new Error("抓取 content.opf 失败！");const S=(new DOMParser).parseFromString(k,"application/xml"),T=`https://readmoo.com/book/${m}`,A=S.getElementsByTagName("dc:title")[0].textContent??"",C=S.getElementsByTagName("dc:creator")[0].textContent??"",M=S.querySelectorAll("manifest > item");if(0===M.length)throw new Error("解析 manifest item 出错！");const N=Array.from(M).map(e=>{const t=e.getAttribute("href"),n=`${w.split("/").slice(0,-1).join("/")}/${t}`;return{path:n,data:`${f}${n}`}});d.push(...N);const E=(0,o.A)(this.concurrencyLimit),P=d.map(e=>E(async()=>{const{path:t,data:n,nocompress:o}=e;if("string"==typeof n){const o=new r.q(n,t,this.attachmentMode,s.ls.keep,"",{init:(0,u.OJ)(p),TMinit:(0,u.OJ)(p)});return await o.init(),e.nocompress&&(o.comments="nocompress"),o}{const o=new r.q("",t,this.attachmentMode);return o.Blob=n,o.status=s.nW.finished,e.nocompress&&(o.comments="nocompress"),o}})),q=await Promise.all(P),L=new a.E({bookUrl:T,bookname:A,author:C,introduction:null,introductionHTML:null,additionalMetadate:{attachments:q},chapters:[new l.I({bookUrl:T,bookname:A,chapterUrl:"",chapterName:null,chapterNumber:0,isVIP:!1,isPaid:null,sectionName:null,sectionNumber:null,sectionChapterNumber:null,chapterParse:this.chapterParse,charset:this.charset,options:{}})]});return L.saveType=this.saveType,L}async chapterParse(e,t,n,o,a,i){return{chapterName:t,contentRaw:null,contentText:null,contentHTML:null,contentImages:null,additionalMetadate:null}}}},(e,t,n)=>{"use strict";n.d(t,{Iqingguo:()=>p});var o=n(38),a=n(22),i=n(37),r=n(33),s=n(36),c=n(19),l=n(2),u=n.n(l);class p extends o.Q{constructor(){super(),this.concurrencyLimit=2,this.attachmentMode="TM"}async bookParse(){const e=new URLSearchParams(document.location.search).get("id");if(!e)throw new Error("无法找到 bookId!");const t=`/v1/books/${e}/cover`,n=`/v1/books/${e}/catalog`,o=(await d(t)).cover,a=await d(n),r=document.location.href,l=o.name,p=o.user.author,m=o.description,h=document.createElement("div");h.innerText=m;const g=o.url,f={lastModified:o.latestModified,tags:[o.genre,o.subGenre],language:"zh",ids:e};g&&(0,c.if)(g,this.attachmentMode,"cover-").then(e=>{f.cover=e}).catch(e=>u().error(e));const x=a.map(t=>{const n="https://www.iqingguo.com/book/reading?"+new URLSearchParams({id:e,cid:t.id}).toString();return new s.I({bookUrl:r,bookname:l,chapterUrl:n,chapterNumber:t.sn,chapterName:t.name,isVIP:!1,isPaid:!1,sectionName:null,sectionNumber:null,sectionChapterNumber:null,chapterParse:this.chapterParse,charset:this.charset,options:{bookId:e,chapterId:t.id}})});return new i.E({bookUrl:r,bookname:l,author:p,introduction:m,introductionHTML:h,additionalMetadate:f,chapters:x})}async chapterParse(e,t,n,o,a,i){const s=`/v1/chapters/${i.chapterId}`,c=await d(s);t=c.name;const l=document.createElement("div");l.innerText=c.content;const{dom:u,text:p,images:m}=await(0,r.an)(l,"TM");return{chapterName:t,contentRaw:l,contentText:p,contentHTML:u,contentImages:m,additionalMetadate:{lastModified:c.updateTime}}}}async function d(e,t){const n=function(e,t){t=t??{},Object.assign(t,{packageName:"com.iqingoo.reader.web",t:Math.ceil((new Date).getTime()/1e3)});const n=Object.keys(t).sort().reduce((e,n)=>(e[n]=t[n],e),{}),o=e+"?"+new URLSearchParams(n).toString();return n.sign=a.MD5(decodeURI(o)).toString(a.enc.Hex),n}(e,t),o="https://iqg-api.qingoo.cn"+e+"?"+new URLSearchParams(n).toString(),i=await fetch(o,{headers:{accept:"application/json, text/plain, */*"},method:"GET",mode:"cors",credentials:"include"}),r=await i.json();if(200!==r.code)throw new Error("请求出错！ "+o);return r.data}},(e,t,n)=>{"use strict";n.d(t,{I99csw:()=>m});var o=n(19),a=n(33),i=n(9),r=n(21),s=n(34),c=n(2),l=n.n(c),u=n(37),p=n(36),d=n(38);class m extends d.Q{constructor(){super(),this.concurrencyLimit=1,this.sleepTime=600,this.maxSleepTime=1e4}async bookParse(){const e=e=>document.querySelector(e),t=location.href,n=e("div#book_info > h2").innerText.trim(),a=e("div#book_info > h4 > a").innerText.trim(),i=e("div#book_info > div.intro"),[r,c]=await(0,s.HV)(i),d={},m=e("div#book_info img").getAttribute("src");(0,o.if)("https:"+m,"naive","cover-").then(e=>{d.cover=e}).catch(e=>l().error(e));const h=[];let g=0;const f=Array.from(document.querySelectorAll("dl#dir > dd > a")),x=Array.from(document.querySelectorAll("dl#dir > dt"));let b=null,v=null,w=null;x.length>0&&(b=0,w=0);for(const e of f){const o=e.getAttribute("href")||"",a=e.innerText.trim();null!==b&&b<x.length&&e.compareDocumentPosition(x[b])&Node.DOCUMENT_POSITION_PRECEDING&&(v=x[b].innerText.trim(),b+=1,w=0),null!==w&&(w+=1),g+=1;const i=new p.I({bookUrl:t,bookname:n,chapterUrl:o,chapterNumber:g,chapterName:a,isVIP:!1,isPaid:!1,sectionName:v,sectionNumber:b,sectionChapterNumber:w,chapterParse:this.chapterParse.bind(this),charset:this.charset,options:{}});h.push(i)}return new u.E({bookUrl:t,bookname:n,author:a,introduction:r,introductionHTML:c,additionalMetadate:d,chapters:h})}async chapterParse(e,t,n,o,s,c){const l=await(0,r.Q2)(e,e=>{e.contentWindow?.scrollTo(0,e.contentWindow?.document?.body?.scrollHeight??0);const t=e.contentWindow?.document??null;if(t){const e=t.querySelector("#cload")?.computedStyleMap()?.get("display")?.toString();return"none"===e}return!1}),u=document.createElement("div");if(l){const e=l.contentWindow?.document.querySelector("#content");e.querySelectorAll("div").forEach(e=>{const t=l.contentWindow?.getComputedStyle(e);if("none"!==t.display){const t=document.createElement("p");t.innerText=e.innerText,u.appendChild(t)}}),(0,i.rm)("abbm",!0,u)}else u.innerHTML="获取章节内容失败";const{dom:p,text:d,images:m}=await(0,a.an)(u,"TM");return l?.remove(),{chapterName:t,contentRaw:u,contentText:d,contentHTML:p,contentImages:m,additionalMetadate:null}}}},(e,t,n)=>{"use strict";n.d(t,{Ttkan:()=>m});var o=n(19),a=n(33),i=n(9),r=n(21),s=n(34),c=n(2),l=n.n(c),u=n(37),p=n(36),d=n(38);class m extends d.Q{constructor(){super()}async bookParse(){const e=e=>document.querySelector(e),t=location.hostname,n="tw"===t.split(".")[0]?"tw":"cn",a=location.href,i=new URL(a).pathname.split("/")[3],r=e(".novel_info h1").innerText,c=e('meta[name="og:novel:author"]').content,d=e(".description"),[m,h]=await(0,s.HV)(d),g={tags:[e(".novel_info > div:nth-child(2) > ul > li:nth-child(3)").childNodes[1].data]},f=e(".novel_info amp-img").getAttribute("src");(0,o.if)(f,this.attachmentMode,"cover-").then(e=>{g.cover=e}).catch(e=>l().error(e));const x=[],b=`https://${t}/api/nq/amp_novel_chapters?language=${n}&novel_id=${i}&__amp_source_origin=https%3A%2F%2Fwww.ttkan.co`,v=await fetch(b,{headers:{Accept:"application/json","AMP-Same-Origin":"true"},method:"GET"}),w=await v.json();for(const{chapter_id:e,chapter_name:n}of w.items){const o=new p.I({bookUrl:a,bookname:r,chapterUrl:`https://${t}/novel/user/page_direct?novel_id=${i}&page=${e}`,chapterNumber:e,chapterName:n,isVIP:!1,isPaid:!1,sectionName:null,sectionNumber:null,sectionChapterNumber:null,chapterParse:this.chapterParse.bind(this),charset:this.charset,options:{}});x.push(o)}return new u.E({bookUrl:a,bookname:r,author:c,introduction:m,introductionHTML:h,additionalMetadate:g,chapters:x})}async chapterParse(e,t,n,o,s,c){const l=(await(0,r.pG)(e,s,{headers:{"Accept-Language":"zh-CN"}})).querySelector(".content");(0,i.rm)("a",!0,l),(0,i.j3)([/[wWщшω]{0,3} ?[¸◆⊕●.•＿¤☢⊙▲✿★▪]? ?(?:[tTтⓣ] ?){2}[kKκКⓚ] ?[aAǎáдāΛⓐ] ?[nNⓝ] ?[¸◆⊕●.•＿¤☢⊙▲✿★▪]? ?[cCС￠℃] ?[oO〇○Ο] ?/gi],l);const{dom:u,text:p,images:d}=await(0,a.an)(l,"TM");return{chapterName:t,contentRaw:l,contentText:p,contentHTML:u,contentImages:d,additionalMetadate:null}}}},(e,t,n)=>{"use strict";n.d(t,{uukanshu:()=>i});var o=n(95),a=n(9);const i=()=>{const e=document.querySelector('span[onclick="javascript:reverse(this);"]'),t=unsafeWindow.reverse;return"顺序排列"===e.innerText&&t(e),(0,o.N)({bookUrl:document.location.href,bookname:document.querySelector("dd.jieshao_content > h1 > a").innerText.replace("最新章节","").trim(),author:document.querySelector("dd.jieshao_content > h2 > a").innerText.trim(),introDom:document.querySelector("dd.jieshao_content > h3"),introDomPatch:e=>((0,a.j3)([/^.+简介：\s+www\.uukanshu\.com\s+/,/\s+https:\/\/www\.uukanshu\.com/,/－+/],e),e),coverUrl:document.querySelector("a.bookImg > img").src,aList:document.querySelectorAll("#chapterList > li > a"),sections:document.querySelectorAll("#chapterList > li.volume"),getSName:e=>e.innerText.trim(),getContent:e=>e.querySelector("#contentbox"),contentPatch:e=>((0,a.rm)(".ad_content",!0,e),(0,a.j3)([/[ＵｕUu]+看书\s*[wｗ]+.[ＵｕUu]+[kｋ][aａ][nｎ][ｓs][hｈ][ＵｕUu].[nｎ][eｅ][tｔ]/g,/[ＵｕUu]+看书\s*[wｗ]+.[ＵｕUu]+[kｋ][aａ][nｎ][ｓs][hｈ][ＵｕUu].[cＣｃ][oＯｏ][mＭｍ]/g,/[UＵ]*看书[（\\(].*?[）\\)]文字首发。/,/请记住本书首发域名：。?/g,/笔趣阁手机版阅读网址：/g,/小说网手机版阅读网址：/g,/https:\/\//g,/http:\/\//g,/UU看书\s+欢迎广大书友光临阅读，最新、最快、最火的连载作品尽在UU看书！UU看书。;?/g],e),e)})}},(e,t,n)=>{"use strict";n.d(t,{N:()=>m});var o=n(19),a=n(33),i=n(21),r=n(34),s=n(2),c=n.n(s),l=n(36),u=n(37),p=n(38),d=n(5);function m({bookUrl:e,bookname:t,author:n,introDom:s,introDomPatch:m,coverUrl:h,additionalMetadatePatch:g,aList:f,getAName:x,getIsVIP:b,sections:v,getSName:w,postHook:y,getContentFromUrl:k,getContent:S,contentPatch:T,concurrencyLimit:A,sleepTime:C,maxSleepTime:M,needLogin:N,nsfw:E,cleanDomOptions:P,overrideConstructor:q,language:L,attachmentMode:_}){return class extends p.Q{constructor(){super(),this.attachmentMode=_||"TM",A&&(this.concurrencyLimit=A),C&&(this.sleepTime=C),M&&(this.maxSleepTime=M),N&&(this.needLogin=N),E&&(this.nsfw=E),q&&q(this)}async bookParse(){let a=null,i=null;s&&m&&([a,i]=await(0,r.HV)(s,m));const p={language:L??"zh"};h&&(0,o.if)(h,this.attachmentMode,"cover-").then(e=>{p.cover=e}).catch(e=>c().error(e)),g&&Object.assign(p,g(p));const k=[];let S=0,T=0,A=0,C=null,M=!1;v&&v instanceof NodeList&&"function"==typeof w&&(M=!0);for(const n of Array.from(f)){let o;o=x?x(n):n.innerText.trim();const a=n.href;if(M&&v&&w){const e=(0,r.lq)(n,v,w);e!==C&&(C=e,T++,A=0)}S++,A++;let i=!1,s=!1;b&&({isVIP:i,isPaid:s}=b(n));let c=new l.I({bookUrl:e,bookname:t,chapterUrl:a,chapterNumber:S,chapterName:o,isVIP:i,isPaid:s,sectionName:C,sectionNumber:M?T:null,sectionChapterNumber:M?A:null,chapterParse:this.chapterParse,charset:this.charset,options:{bookname:t}});i&&!s&&(c.status=d.nW.aborted),"function"==typeof y&&(c=y(c)),c&&k.push(c)}return new u.E({bookUrl:e,bookname:t,author:n,introduction:a,introductionHTML:i,additionalMetadate:p,chapters:k})}async chapterParse(e,t,n,o,r,s){let c;if("function"==typeof k)c=await k(e,t,r);else{if("function"!=typeof S)throw Error("未发现 getContentFromUrl 或 getContent");{const t=await(0,i.wA)(e,r);c=S(t)}}if(c){c=T(c);const{dom:e,text:n,images:o}=await(0,a.an)(c,"TM",P);return{chapterName:t,contentRaw:c,contentText:n,contentHTML:e,contentImages:o,additionalMetadate:null}}return{chapterName:t,contentRaw:null,contentText:null,contentHTML:null,contentImages:null,additionalMetadate:null}}}}},(e,t,n)=>{"use strict";n.d(t,{westnovel:()=>i});var o=n(9),a=n(95);const i=()=>(0,a.N)({bookUrl:document.location.href,bookname:document.querySelector(".btitle > h1 > a").innerText.trim(),author:document.querySelector(".btitle > em:nth-child(2)").innerText.replace("作者：","").trim(),introDom:document.querySelector(".intro-p > p:nth-child(1)"),introDomPatch:e=>e,coverUrl:document.querySelector(".img-img")?.src,aList:document.querySelectorAll(".chapterlist > dd > a"),getContent:e=>e.querySelector("#BookText"),contentPatch:e=>((0,o.rm)("div.ads",!0,e),(0,o.rm)("div.link",!0,e),(0,o.rm)("h4",!0,e),e)})},(e,t,n)=>{"use strict";n.d(t,{soxscc:()=>i});var o=n(95),a=n(9);const i=()=>(0,o.N)({bookUrl:document.location.href,bookname:document.querySelector(".xiaoshuo > h1").innerText.trim(),author:document.querySelector(".xiaoshuo > h6:nth-child(3) > a").innerText.trim(),introDom:document.querySelector("#intro"),introDomPatch:e=>((0,a.rm)("span.tags",!1,e),(0,a.rm)("q",!0,e),e),coverUrl:document.querySelector(".book_cover > img").src,aList:document.querySelectorAll("div.novel_list[id] dd > a"),sections:document.querySelectorAll("div.novel_list[id] dl > dt:nth-child(1) > b:nth-child(1)"),getSName:e=>e.innerText.trim(),getContent:e=>e.querySelector("div.content[id]"),contentPatch:e=>((0,a.Sf)(["最新章节地址：","全文阅读地址：","txt下载地址：","手机阅读：",'为了方便下次阅读，你可以点击下方的"收藏"记录本次',"请向你的朋友（QQ、博客、微信等方式）推荐本书","您可以在百度里搜索"],e),e)})},(e,t,n)=>{"use strict";n.d(t,{c630shu:()=>a});var o=n(9);const a=(0,n(95).N)({bookUrl:document.location.href,bookname:document.querySelector("#info > h1").innerText.trim(),author:document.querySelector("div.options > span.item:nth-child(1) > a").innerText.trim(),introDom:document.querySelector("#intro"),introDomPatch:e=>e,coverUrl:document.querySelector(".img_in > img").src,aList:document.querySelectorAll(".zjlist > dd > a"),getContent:e=>e.querySelector("#content"),contentPatch:e=>((0,o.j3)([/恋上你看书网 WWW.630SHU.NET ，最快更新.+最新章节！/],e),e)})},(e,t,n)=>{"use strict";n.d(t,{trxs:()=>a});var o=n(95);const a=()=>(0,o.N)({bookUrl:document.location.href,bookname:document.querySelector(".infos > h1").innerText.split("(")[0].trim(),author:document.querySelector(".date > span > a, .date > span").innerText.replace("作者：","").trim(),introDom:document.querySelector(".infos > p"),introDomPatch:e=>e,coverUrl:document.querySelector(".pic > img").src,aList:document.querySelectorAll("div.book_list > ul.clearfix > li > a"),getContent:e=>e.querySelector(".read_chapterDetail"),contentPatch:e=>e})},(e,t,n)=>{"use strict";n.d(t,{c256wxc:()=>o});const o=(0,n(95).N)({bookUrl:document.location.href,bookname:document.querySelector(".art_tit").innerText.trim(),author:(document.querySelector("span.bookinfo:nth-child(1) > a")??document.querySelector("span.bookinfo:nth-child(1)")).innerText.replace(/^作者：/,"").trim(),introDom:document.querySelector(".infotype > p"),introDomPatch:e=>e,coverUrl:null,aList:document.querySelectorAll(".catalog > li > a"),getContent:e=>e.querySelector(".book_con"),contentPatch:e=>e})},(e,t,n)=>{"use strict";n.d(t,{fuxiaoshu:()=>o});const o=(0,n(95).N)({bookUrl:document.location.href,bookname:document.querySelector("h1").innerText.trim(),author:document.querySelector("div.af_lst > strong > a")?.innerText.trim(),introDom:void 0,coverUrl:null,aList:Array.from(document.querySelectorAll(".alt_page li > a")).slice(2),getContent:e=>e.querySelector("div.wznrb"),contentPatch:e=>e})},(e,t,n)=>{"use strict";n.d(t,{wanben:()=>s});var o=n(33),a=n(9),i=n(34),r=n(95);const s=()=>(0,r.N)({bookUrl:document.location.href,bookname:document.querySelector(".detailTitle > h1").innerText.trim(),author:document.querySelector(".writer > a").innerText.trim(),introDom:document.querySelector(".detailTopMid > table:nth-child(3) > tbody:nth-child(1) > tr:nth-child(3) > td:nth-child(2)"),introDomPatch:e=>e,coverUrl:document.querySelector(".detailTopLeft > img")?.src,aList:document.querySelectorAll(".chapter li > a"),getContentFromUrl:async(e,t,n)=>{const{contentRaw:r}=await(0,i.u1)({chapterName:t,chapterUrl:e,charset:n,selector:"div.readerCon",contentPatch:(e,t)=>((0,a.rm)("script",!0,e),(0,a.rm)("div[style]",!0,e),(0,a.rm)("a",!0,e),(0,a.Sf)(["【提示】：如果觉得此文不错，请推荐给更多小伙伴吧！分享也是一种享受。","【看书助手】","百万热门书籍终身无广告免费阅读","【完本神站】","一秒记住、永不丢失！"],e),(0,o.is)(e),e),getNextPage:e=>e.querySelector(".readPage > a:nth-child(3)").href,continueCondition:(e,t)=>t.split("/").slice(-1)[0].includes("_"),enableCleanDOM:!1});return r},contentPatch:e=>e})},(e,t,n)=>{"use strict";n.d(t,{masiro:()=>i});var o=n(9),a=n(95);const i=()=>(0,a.N)({bookUrl:document.location.href,bookname:document.querySelector(".novel-title").innerText.trim(),author:document.querySelector(".author > a").innerText.trim(),introDom:document.querySelector(".brief"),introDomPatch:e=>((0,o.j3)(["简介："],e),e),coverUrl:document.querySelector("div.mailbox-attachment-icon > a > img.img").src,additionalMetadatePatch:e=>(e.tags=Array.from(document.querySelectorAll("div.n-detail > div.tags a")).map(e=>e.innerText),e),aList:document.querySelectorAll(".chapter-ul ul.episode-ul > a"),getAName:e=>e.querySelector('span[style^="overflow: hidden;"]').innerText.trim(),getIsVIP:e=>{let t=!1,n=!1;const o=e.querySelector("small");if(o){const e=o.innerText.trim();""!==e&&(t=!0,"已购"===e&&(n=!0))}return{isVIP:t,isPaid:n}},sections:document.querySelectorAll("li.chapter-box > span + b"),getSName:e=>e.innerText.trim(),getContent:e=>e.querySelector("div.box-body.nvl-content"),contentPatch:e=>e,concurrencyLimit:1,sleepTime:100,maxSleepTime:3e3,needLogin:!0})},(e,t,n)=>{"use strict";n.d(t,{kakuyomu:()=>s});var o=n(95);const a=document.querySelectorAll("span"),i=document.querySelectorAll("div"),r=document.querySelectorAll('button[class^="Button_button"]');!function(e){e.forEach(e=>{if(e.textContent?.includes("…続きを読む")){const t=e.id;if(t){const e=document.querySelector(`button[aria-describedby="${t}"]`);e?.click()}}})}(a),function(e){e.forEach(e=>{if(e.textContent?.includes("つづきを表示")){let t=e;for(;t&&"BUTTON"!==t.nodeName;)t=t.parentElement;t?.click()}})}(i),function(e){e.forEach(e=>{const t=e.querySelector('svg[class^="Icons_icon"]'),n=e.querySelector("h3");t&&n&&(Array.from(t.classList).some(e=>e.startsWith("Icons_flip"))||e.click())})}(r);const s=()=>(0,o.N)({bookUrl:document.location.href,bookname:document.querySelector("h1").innerText.trim(),author:document.querySelector("div[class*=partialGiftWidgetActivityName] > a").innerText.trim(),introDom:document.querySelector("div[class*=CollapseTextWithKakuyomuLinks]"),introDomPatch:e=>e,coverUrl:null,additionalMetadatePatch:e=>(e.tags=Array.from(document.querySelectorAll("#workMeta-tags > li > a")).map(e=>e.innerText),e),aList:document.querySelectorAll("a[class*=WorkTocSection_link]"),getAName:e=>e.querySelector('div[class*="Typography"]').innerText.trim(),sections:document.querySelectorAll("h3"),getSName:e=>e.innerText.trim(),getContent:e=>e.querySelector(".widget-episodeBody"),contentPatch:e=>e,language:"ja"})},(e,t,n)=>{"use strict";n.a(e,async(e,o)=>{try{n.d(t,{syosetu:()=>c,syosetuOrg:()=>l});var a=n(9),i=n(95);const e=document.querySelector(".p-eplist"),r=document.querySelector(".c-pager__item--first"),s=document.querySelector(".c-pager__item--last");if(r&&s){const t=window.location.pathname+window.location.search,n=s.getAttribute("href")?s.getAttribute("href"):t,o=r.getAttribute("href")?r.getAttribute("href"):t,a=n?n.match(/(.*\/\?p=)(\d+)/):null,i=o?o.match(/(.*\/\?p=)(\d+)/):null,c=a?a[1]:i?i[1]:"",l=a?parseInt(a[2],10):1,u=t.match(/(.*\/\?p=)(\d+)/),p=u?parseInt(u[2],10):1,d=async(t,n)=>{try{const o=await fetch(`${c}${t}`),a=await o.text(),i=(new DOMParser).parseFromString(a,"text/html").querySelector(".p-eplist");if(i&&e){const t=Array.from(i.children);n?t.forEach(t=>{e.appendChild(t.cloneNode(!0))}):t.reverse().forEach(t=>{e.insertBefore(t.cloneNode(!0),e.firstChild)})}}catch(e){console.error("Error fetching page:",e)}};for(let e=p-1;e>0;e--)await d(e,!1);const m=-1===l?p:l;for(let e=p+1;e<=m;e++)await d(e,!0)}const c=()=>{const e=()=>"novel18.syosetu.com"===document.location.host;return(0,i.N)({bookUrl:document.location.href,bookname:document.querySelector(".p-novel__title").innerText.trim(),author:document.querySelector("div.p-novel__author").innerText,introDom:(()=>{const e=document.querySelector("#novel_ex > .more");return e&&e.click(),document.querySelector("#novel_ex")})(),introDomPatch:e=>e,coverUrl:null,aList:(()=>{const e=document.querySelectorAll("body > div.l-container > main > article > div.p-eplist > div > a");if(0!==e.length)return e;{const e=document.createElement("a");return e.href=document.location.href,e.innerText=document.querySelector(".p-novel__title")?.innerText,[e]}})(),sections:document.querySelectorAll(".p-eplist__chapter-title"),getSName:e=>e.innerText.trim(),getContent:e=>{const t=document.createElement("div"),n=e.querySelector(".p-novel__text--preface"),o=e.querySelector(".p-novel__text:not(.p-novel__text--preface):not(.p-novel__text--afterword)"),a=e.querySelector(".p-novel__text--afterword");if(n){t.appendChild(n);const o=e.createElement("hr");t.appendChild(o)}if(o&&t.appendChild(o),a){const n=e.createElement("hr");t.appendChild(n),t.appendChild(a)}return t},contentPatch:e=>e,nsfw:e(),needLogin:e(),language:"ja"})},l=()=>{const e=(()=>{const e=document.querySelectorAll('tr[class^="bgcolor"] > td > a');if(0!==e.length)return e;{const e=document.createElement("a");return e.href=document.location.href,e.innerText=document.querySelector("div.ss:nth-child(1) > p:nth-child(1) > span:nth-child(1) > a:nth-child(1)")?.innerText,[e]}})();return(0,i.N)({bookUrl:document.location.href,bookname:document.querySelector('div.ss > span[itemprop="name"], div.ss:nth-child(1) > p:nth-child(1) > span:nth-child(1) > a:nth-child(1)').innerText.trim(),author:document.querySelector('div.ss span[itemprop="author"] > a, div.ss:nth-child(1) > p:nth-child(1) > a:nth-child(2)')?.innerText.trim(),introDom:(()=>{if(1!==e.length||e[0].href!==document.location.href)return document.querySelector("div.ss:nth-child(2)")})(),introDomPatch:e=>e,coverUrl:null,additionalMetadatePatch:e=>(e.tags=Array.from(document.querySelectorAll('span[itemprop="keywords"] > a, a.alert_color')).map(e=>e.innerText),e),aList:e,sections:document.querySelectorAll('div.ss > table > tbody > tr > td[colspan="2"] > strong'),getSName:e=>e.innerText.trim(),getContent:t=>1===e.length&&e[0].href===document.location.href?t.querySelector("div#maind > div.ss:nth-child(2)"):t.querySelector("div#maind > div.ss:nth-child(1)"),contentPatch:e=>((0,a.rm)("p:nth-child(1)",!1,e),(0,a.rm)("div.novelnavi",!0,e),(0,a.rm)('div[style*="text-align:right;"]',!0,e),(0,a.rm)("div#maegaki_open",!0,e),(0,a.rm)("div#atogaki_open",!0,e),e.querySelectorAll('a[name="img"]').forEach(e=>{const t=document.createElement("img");t.src=e.href,t.alt=e.innerText,e.replaceWith(t)}),e),language:"ja"})};o()}catch(e){o(e)}},1)},(e,t,n)=>{"use strict";n.d(t,{houhuayuan:()=>r});var o=n(21),a=n(9),i=n(95);const r=()=>{const e=document.querySelector(".seriesbox");let t,n,r=document.querySelector("h3.author")?.innerText.replace(/♥|作者: /g,"").trim();""===r&&(r="佚名");const s=[];if(e){const o=e.querySelectorAll("ul.serieslist-ul > li");for(const e of Array.from(o))if("serieslist-li"===e.className){const t=e.querySelector("a");t&&s.push(t)}else if("serieslist-li-current"===e.className){const e=document.createElement("a");e.innerText=document.querySelector(".entry-title").innerText.trim(),e.href=document.location.href,s.push(e)}const a=s[0];n=a.innerText.replace(/第.+章$|\s序$/,"").trim(),t=a.href}else{t=document.location.href,n=document.querySelector(".entry-title").innerText.trim();const e=document.createElement("a");e.innerText=n,e.href=t,s.push(e)}return(0,i.N)({bookUrl:t,bookname:n,author:r,aList:s,getContentFromUrl:async(e,t,n)=>{const i=await(0,o.wA)(e,n),r=i.querySelectorAll(".page-links > a.post-page-numbers");if(r){const e=document.createElement("div"),t=i.querySelector("header + div.entry-content");t&&(0,a.Fv)(t,e);const s=Array.from(r).map(e=>e.href);for(const t of s){const i=(await(0,o.wA)(t,n)).querySelector("header + div.entry-content");i&&(0,a.Fv)(i,e)}return e}return i.querySelector("header + div.entry-content")},contentPatch:e=>((0,a.rm)('div[id^="stage-"]',!0,e),(0,a.rm)('div[id^="zhaoz-"]',!0,e),(0,a.rm)("div.seriesbox",!0,e),(0,a.rm)("fieldset",!0,e),(0,a.rm)("div.wpulike",!0,e),(0,a.rm)(".simplefavorite-button",!0,e),(0,a.rm)(".page-links",!0,e),(0,a.Sf)([" – 蔷薇后花园"," – 黑沼泽俱乐部"],e),Array.from(e.querySelectorAll("img")).forEach(e=>e.src=e.getAttribute("data-src")??""),e),nsfw:!0})}},(e,t,n)=>{"use strict";n.d(t,{tianyabooks:()=>i});var o=n(9),a=n(95);const i=()=>(0,a.N)({bookUrl:document.location.href,bookname:document.querySelector(".book > h1")?.innerText.replace(/[《》]/g,"").trim(),author:document.querySelector(".book > h2 > a").innerText.trim(),introDom:document.querySelector(".description"),introDomPatch:e=>((0,o.rm)("h3",!1,e),e),coverUrl:null,aList:document.querySelectorAll(".book > dl > dd > a"),sections:document.querySelectorAll(".book > dl > dt"),getSName:e=>e.innerText.trim(),getContent:e=>e.querySelector("#main"),contentPatch:e=>((0,o.rm)("div.crumb",!1,e),(0,o.rm)("h1",!1,e),(0,o.rm)('p[align="center"]',!1,e),(0,o.rm)("table",!0,e),e)})},(e,t,n)=>{"use strict";n.d(t,{aixdzs:()=>a});var o=n(95);const a=()=>(0,o.N)({bookUrl:document.location.href,bookname:document.querySelector(".d_info > h1").innerText.trim(),author:document.querySelector(".d_ac > ul:nth-child(1) > li:nth-child(1) > a:nth-child(2)").innerText.trim(),introDom:document.querySelector(".d_co"),introDomPatch:e=>e,coverUrl:document.querySelector(".d_af > img").src,aList:document.querySelectorAll("#i-chapter li.chapter > a"),sections:document.querySelectorAll("#i-chapter li.volume"),getSName:e=>e.innerText.trim(),getContent:e=>e.querySelector(".content"),contentPatch:e=>e})},(e,t,n)=>{"use strict";n.d(t,{fantasybooks:()=>a});var o=n(95);const a=()=>(0,o.N)({bookUrl:document.location.href,bookname:document.querySelector(".works-intro-title > strong").innerText.trim(),author:document.querySelector(".works-intro-digi > span:nth-child(1) > em:nth-child(1)").innerText.trim(),introDom:document.querySelector(".works-intro-short"),introDomPatch:e=>e,coverUrl:document.querySelector(".works-cover > img").src,aList:document.querySelectorAll(".works-chapter-list .works-chapter-item > a"),sections:document.querySelectorAll(".vloume"),getSName:e=>e.innerText.trim(),getContent:e=>e.querySelector("#content_cust"),contentPatch:e=>(Array.from(e.children).filter(e=>"SPAN"===e.nodeName&&e.childNodes.length>15).map(e=>{const t=document.createElement("div");t.innerHTML=e.innerHTML,Array.from(t.querySelectorAll("p")).filter(e=>1===e.childElementCount&&"BR"===e.children[0].nodeName).forEach(e=>e.remove()),e.replaceWith(t)}),e),concurrencyLimit:3,nsfw:!0})},(e,t,n)=>{"use strict";n.d(t,{dizishu:()=>s});var o=n(21),a=n(34),i=n(95),r=n(9);const s=()=>(0,i.N)({bookUrl:document.location.href,bookname:document.querySelector(".book-text > h1").innerText.trim(),author:document.querySelector(".book-text > span").innerText.replace("著","").trim(),introDom:document.querySelector(".intro"),introDomPatch:e=>e,coverUrl:document.querySelector("#fengmian img")?.src,aList:document.querySelectorAll("#list > .book-chapter-list .cf li > a"),sections:document.querySelectorAll("#list > .book-chapter-list > h3"),getSName:e=>e.innerText.trim(),getContentFromUrl:async(e,t,n)=>{const a=await(0,o.wA)(e,n);if(e.includes("dizishu")){const e=Array.from(a.querySelectorAll("script")).filter(e=>e.innerHTML.includes("chapterid="))?.[0]?.innerHTML.split("\n").filter(e=>!(e.includes("cpstr=")||e.includes("get_content()")||e.includes("xid="))).join("\n"),t=Array.from(a.querySelectorAll("script")).filter(e=>e.innerHTML.includes("ssid"))?.[0]?.innerHTML.split("\n").filter(e=>e.includes("var ssid")||e.includes("var hou")).join("\n"),i=new Function(`${t};${e};\n        const xid=Math.floor(bookid/1000);\n        const url = \`${document.location.origin}/files/article/html\${ssid}/\${xid}/\${bookid}/\${chapterid}\${hou}\`;\n        return new Request(url, {\n            headers: {\n            accept: "text/plain, */*; q=0.01",\n            "x-requested-with": "XMLHttpRequest",\n            },\n            referrer: "${document.location.origin}",\n            method: "GET",\n            mode: "cors",\n            credentials: "include",\n        });`)(),r=await(0,o.q4)(i,n),s=new Function(`${r};return cctxt;`)();if(s){const e=document.createElement("div");return e.innerHTML=s,e}return null}{const e=a.querySelector("div#txt");return e?((0,r.rm)("a",!0,e),e):null}},contentPatch:e=>e,overrideConstructor:e=>{const t=e.bookParse;return e.bookParse=async()=>{const n=await Reflect.apply(t,e,[]),o=n.chapters;return n.chapters=(0,a.hR)(o),n},e}})},(e,t,n)=>{"use strict";n.d(t,{akatsuki:()=>i});var o=n(33),a=n(95);const i=()=>(0,a.N)({bookUrl:document.location.origin+document.location.pathname,bookname:document.querySelector("#LookNovel").innerText.trim(),author:document.querySelector(".box.story > h3.font-bb:nth-last-of-type(1) > a").innerText.trim(),introDom:document.querySelector(".box.story.body-normal > .body-normal > div"),introDomPatch:e=>e,coverUrl:document.querySelector("div.font-bb > center > img")?.src??null,aList:document.querySelectorAll("table.list td > a"),sections:document.querySelectorAll("table.list td[colspan] > b"),getSName:e=>e.innerText.trim(),getContent:e=>{e.querySelectorAll("center > img").forEach(e=>{const t=e.parentElement;t?.replaceWith(e)});const t=document.createElement("div"),n=Array.from(e.querySelectorAll(".body-novel, .body-novel + hr"));if(n.length>1){const e=n[0].previousElementSibling;"div"===e?.nodeName.toLowerCase()&&n.unshift(e)}for(const e of n)e instanceof HTMLDivElement&&"body-novel"===e.className?t.appendChild((0,o.U9)(e,!0)):t.appendChild(e);return t},contentPatch:e=>e,concurrencyLimit:2,language:"ja"})},(e,t,n)=>{"use strict";n.d(t,{alphapolis:()=>i});var o=n(9),a=n(95);const i=()=>(0,a.N)({bookUrl:document.location.href,bookname:document.querySelector("h1.title").innerText.trim(),author:document.querySelector("div.author > span:nth-child(1) > a:nth-child(1)").innerText.trim(),introDom:document.querySelector(".abstract"),introDomPatch:e=>e,coverUrl:document.querySelector("div.cover > a > img")?.src??null,additionalMetadatePatch:e=>(e.tags=Array.from(document.querySelectorAll(".content-tags > .tag > a")).map(e=>e.innerText.trim()),e),aList:document.querySelectorAll(".episodes > .episode > a"),getAName:e=>e.querySelector(".title")?.innerText.trim(),sections:document.querySelectorAll(".episodes > h3"),getSName:e=>e.innerText.trim(),getContent:e=>e.querySelector("#novelBody"),contentPatch:e=>((0,o.Md)(e),e),language:"ja"})},(e,t,n)=>{"use strict";n.d(t,{hongxiuzhao:()=>r});var o=n(95),a=n(9);const i={"":"嘴","":"下","":"头","":"体","":"党","":"入","":"粗","":"推","":"户","":"逗","":"喘","":"迷","":"钻","":"吮","":"的","":"蒂","":"道","":"干","":"耻","":"腿","":"硬","":"乳","":"精","":"罩","":"肥","":"脱","":"漏","":"共","":"裸","":"流","":"腹","":"胀","":"臀","":"色","":"骚","":"洞","":"咬","":"根","":"尻","":"翘","":"爱","":"茎","":"沟","":"翻","":"捅","":"尿","":"掏","":"淫","":"情","":"潮","":"阴","":"肉","":"裤","":"插","":"操","":"捏","":"习","":"身","":"叉","":"口","":"痒","":"袜","":"握","":"软","":"液","":"交","":"拔","":"丰","":"柔","":"腰","":"吹","":"爆","":"诱","":"龟","":"脚","":"坚","":"舔","":"顶","":"妇","":"唇","":"屄","":"媚","":"露","":"穴","":"摸","":"射","":"呻","":"吻","":"毛","":"女","":"撩","":"欲","":"含","":"温","":"奸","":"水","":"弄","":"鸡","":"光","":"白","":"啊","":"勃","":"舐","":"嫩","":"苞","":"肤","":"纤","":"屌","":"跃","":"胸","":"尼","":"肏","":"抚","":"浪","":"蜜","":"满","":"扒","":"搓","":"抱","":"荡","":"股","":"揉","":"做","":"催","":"裙","":"挺","":"处","":"奶","":"产","":"药","":"性","":"援","":"房","":"阳","":"滑","":"吸","":"柞"},r=()=>(0,o.N)({bookUrl:document.location.href,bookname:document.querySelector(".m-bookdetail div.f-fl > h1")?.innerText.trim()??"",author:document.querySelector(".author > a:nth-child(1)")?.innerText.trim()??"",introDom:document.querySelector(".summery")??void 0,introDomPatch:e=>((0,a.rm)("strong",!1,e),(0,a.rm)("em",!1,e),e),coverUrl:document.querySelector(".cover > img")?.src,additionalMetadatePatch:e=>(e.tags=Array.from(document.querySelectorAll(".tags > a")).map(e=>e.innerText.trim()),e),aList:document.querySelectorAll(".m-chapters li > a"),getContent:e=>e.querySelector(".article-content"),contentPatch:e=>{(0,a.rm)("mark",!0,e),(0,a.rm)("h1",!0,e),(0,a.rm)("ins",!0,e),(0,a.rm)("script",!0,e),(0,a.rm)("p[style]",!0,e),(0,a.rm)('a[href="https://hongxiuzh.com"]',!0,e);for(const t in i)e.innerHTML=e.innerHTML.replaceAll(t,i[t]);return e}})},(e,t,n)=>{"use strict";n.d(t,{xbyuan:()=>c});var o=n(33),a=n(9),i=n(34),r=n(95);const s=e=>document.querySelector(e),c=()=>(0,r.N)({bookUrl:location.href,bookname:s("#info h1").innerText.trim(),author:s("#info .small > span").innerText.trim(),introDom:s("#intro > p"),introDomPatch:e=>e,coverUrl:s("#fmimg img").src,aList:document.querySelectorAll("#list dl")[1].querySelectorAll("a"),async getContentFromUrl(e,t,n){const{contentRaw:r}=await(0,i.u1)({chapterName:t,chapterUrl:e,charset:n,selector:"#nr_content > p",contentPatch:(e,t)=>((0,a.rm)("a",!0,e),(0,a.Sf)(["精华书阁","最新章节！","最快更新，为了您下次还能查看到本书的最快更新，请务必保存好书签！","https://www.xbyuan.com"],e),(0,a.j3)(["(本章未完，请点击下一页继续阅读)"],e),(0,o.is)(e),e),getNextPage:e=>e.querySelector("#nexturl").href,continueCondition:(e,t)=>t.split("/").slice(-1)[0].includes("_")});return r},contentPatch:e=>(e.innerHTML=e.innerHTML.replaceAll("「","“").replaceAll("」","”"),e)})},(e,t,n)=>{"use strict";n.d(t,{qzxsw:()=>i});var o=n(9),a=n(95);const i=()=>(0,a.N)({bookUrl:document.location.href,bookname:document.querySelector("div.introduce > h1").innerText.trim(),author:document.querySelector("div.introduce > p.bq > span:nth-child(2) > a").innerText.trim(),introDom:document.querySelector("div.introduce > p.jj"),introDomPatch:e=>e,coverUrl:document.querySelector("div.pic > img").src,aList:document.querySelectorAll("div.ml_list > ul > li > a"),getContent:e=>e.querySelector(".articlecontent"),contentPatch:e=>((0,o.j3)(["一秒记住m.quanzhifashｉ。com","ｍ．ｑuanzhifashｉ．com","ｈttp://m.quanzhifashi.com首发"],e),(0,o.rm)("br",!0,e),e)})},(e,t,n)=>{"use strict";n.d(t,{boqugew:()=>i});var o=n(9),a=n(95);const i=()=>(0,a.N)({bookUrl:document.location.href,bookname:document.querySelector("h1.bookTitle").innerText.trim(),author:document.querySelector("p.booktag > a:first-child").innerText.replace(/作(\s+)?者[：:]/,"").trim(),introDom:document.querySelector("p#bookIntro"),introDomPatch:e=>e,coverUrl:document.querySelector("img.img-thumbnail").src,aList:document.querySelectorAll("div#list-chapterAll > dl > dd > a"),getContent:e=>e.querySelector("div#htmlContent"),contentPatch:e=>((0,o.j3)(["记住网址m.ｂｏｑｕgew．ｃｏｍ","一秒记住ｈｔｔｐ://ｍ．boqugeｗ．ｃｏｍ","首发网址ｈｔｔp://m.ｂｏｑｕｇｅｗ.com"],e),(0,o.rm)("br",!0,e),e)})},(e,t,n)=>{"use strict";n.d(t,{qbtrcc:()=>a});var o=n(95);const a=()=>(0,o.N)({bookUrl:document.location.href,bookname:document.querySelector("div.infos > h1").innerText.trim(),author:document.querySelector("div.infos > div.date > span").innerText.replace("作者：","").trim(),introDom:document.querySelector("div.infos > p"),introDomPatch:e=>e,coverUrl:"https://www.qbtr.cc/skin/default/images/bbb2.png",aList:document.querySelectorAll("ul.clearfix > li > a"),getContent:e=>e.querySelector("div.read_chapterDetail"),contentPatch:e=>e})},(e,t,n)=>{"use strict";n.d(t,{guidaye:()=>r});var o=n(95),a=n(2),i=n.n(a);const r=async()=>(0,o.N)({bookUrl:document.location.href,bookname:document.querySelector("div.book-describe > h1").innerText.trim(),author:document.querySelector("div.book-describe > p").innerText.trim().replace(/作者：|作品集/g,""),introDom:document.querySelector("div.describe-html"),introDomPatch:e=>e,coverUrl:document.querySelector("div.book-img > img").src,aList:await(async()=>{const e=+document.querySelector("div.pager > span:nth-child(1)").innerText.replace(/页次：.+\//g,"").trim(),t=document.querySelector("div#bookiddata").dataset.sid||"",n="https://b.guidaye.com/e/extend/bookpage/pages.php?id="+t,o=document.createElement("div");i().info("[guidaye]作品编号: "+t+", 列表页数: "+e);for(let t=0;t<e;t++){i().info("获取列表："+t);const e=await fetch(n,{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},body:"pageNum="+t});e.ok||i().error("获取列表错误："+e.status),(await e.json()).list.forEach(e=>{const t=document.createElement("a");t.href=e.pic,t.innerText=e.title,o.appendChild(t)})}return i().info("[guidaye]列表生成完毕"),o.querySelectorAll("a")})(),getContent:e=>e.querySelector("div#nr1"),contentPatch:e=>e})},(e,t,n)=>{"use strict";n.d(t,{banxia:()=>i});var o=n(95),a=n(9);const i=()=>(0,o.N)({bookUrl:document.location.href,bookname:document.querySelector("div.book-describe > h1").innerText.trim(),author:document.querySelector("div.book-describe > p:first-of-type > a").innerText.trim(),introDom:document.querySelector("div.book-describe > div.describe-html > p:first-of-type"),introDomPatch:e=>e,coverUrl:document.querySelector("div.book-img > img").src,aList:document.querySelectorAll("div.book-list > ul > li > a"),getContent:e=>e.querySelector("#nr1"),contentPatch:e=>((0,a.rm)("script",!0,e),(0,a.rm)("span",!0,e),e),language:"zh"})},(e,t,n)=>{"use strict";n.d(t,{zgzl:()=>r});var o=n(95),a=n(33),i=n(34);const r=()=>(0,o.N)({bookUrl:document.location.href,bookname:document.querySelector("#info > h1")?.innerText.trim(),author:(()=>{const e=document.querySelector("#info > p:first-of-type");return e?e.innerText.replace(/^作\s*者\s*[：:]\s*/u,"").trim():"未知"})(),introDom:document.querySelector("#intro > p"),introDomPatch:e=>e,coverUrl:document.querySelector("#fmimg > img").src||null,aList:(()=>{if(document.querySelectorAll("#list > dl > dt > b").length>0){const e=document.querySelector("#list > dl > dt:nth-of-type(2)");if(e){const t=[];let n=e.nextElementSibling;for(;n&&"dd"===n.tagName.toLowerCase();){{const e=n.querySelector("a");e&&t.push(e)}n=n.nextElementSibling}return t}return console.error("未找到正文区域"),[]}return document.querySelectorAll("#list > dl > dd > a")})(),getContentFromUrl:async(e,t,n)=>{const{contentRaw:o}=await(0,i.u1)({chapterName:t,chapterUrl:e,charset:n,selector:"#content",contentPatch:e=>{const t=(0,a.U9)(e);if(t.children.length>1){const e=t.lastElementChild.innerText;/内容未完.*|本章阅读完毕.*/.test(e)&&t.removeChild(t.lastElementChild)}return t},getNextPage:e=>{const t=e.querySelector("div.bottem1 > a:last-of-type"),n=e.baseURI.split("/"),o=n[n.length-1].split(".")[0].split("_")[0];return t?.href.includes(o)?t.href:""},continueCondition:(e,t)=>""!==t&&!t.includes("info_"),enableCleanDOM:!1});return o},contentPatch:e=>e,language:"zh",nsfw:!0})},(e,t,n)=>{"use strict";n.d(t,{zhenhunxiaoshuo:()=>a});var o=n(95);const a=()=>(0,o.N)({bookUrl:document.location.href,bookname:document.querySelector("h1")?.innerText.trim(),author:document.querySelector("div.focusbox-text > p")?.innerText.split("\n")[0]?.split("作者：")[1]||"",introDom:(()=>{const e=document.createElement("p"),t=document.querySelector("div.focusbox-text > p");if(t){const n=t.innerText.split("\n")[1]||"";e.textContent=n}return e})(),introDomPatch:e=>e,coverUrl:null,aList:document.querySelectorAll("article > a"),getContent:e=>e.querySelector("article.article-content"),contentPatch:e=>e,language:"zh"})},(e,t,n)=>{"use strict";n.d(t,{i52shuku:()=>i});var o=n(95),a=n(9);const i=()=>(0,o.N)({bookUrl:document.location.href,bookname:document.querySelector("h1.article-title")?.innerText.trim(),author:"",introDom:document.querySelector("article.article-content > p:nth-of-type(2)"),introDomPatch:e=>e,coverUrl:null,aList:document.querySelectorAll("ul.list > li.mulu > a"),getContent:e=>e.querySelector("#nr1"),contentPatch:e=>{const t=e.querySelector("div");if(t){let e=t.nextElementSibling;for(;e;){const t=e;e=e.nextElementSibling,t.remove()}}return(0,a.rm)("div",!0,e),e.querySelectorAll("a").forEach(e=>{e.replaceWith(document.createTextNode(e.textContent||""))}),e},concurrencyLimit:1,sleepTime:50,language:"zh"})},(e,t,n)=>{"use strict";n.d(t,{bixiange:()=>a});var o=n(95);const a=()=>(0,o.N)({bookUrl:document.location.href,bookname:document.querySelector("h1")?.innerText.trim(),author:document.querySelector("div.descTip > p:nth-of-type(2) > span")?.innerText.trim().replace("作者：",""),introDom:document.querySelector("div.descInfo > p"),introDomPatch:e=>e,coverUrl:document.querySelector("div.cover > img")?.src||null,aList:document.querySelectorAll("div.catalog > ul > li > a"),getContent:e=>e.querySelector("#mycontent"),contentPatch:e=>e,language:"zh"})},(e,t,n)=>{"use strict";n.d(t,{yiqushuzhai:()=>a});var o=n(95);const a=()=>(0,o.N)({bookUrl:document.location.href,bookname:document.querySelector("h1")?.innerText.trim(),author:document.querySelector("#info > p:nth-of-type(3) > a")?.innerText.trim()||"",introDom:document.querySelector("#intro > p"),introDomPatch:e=>e,coverUrl:document.querySelector("#fmimg > img")?.getAttribute("src")||null,aList:document.querySelectorAll("dl > dd > a"),getContent:e=>e.querySelector("#content"),contentPatch:e=>e,language:"zh"})},(e,t,n)=>{"use strict";n.d(t,{dubuxiaoshuo:()=>r});var o=n(95),a=n(34),i=n(9);const r=()=>(0,o.N)({attachmentMode:"naive",bookUrl:document.location.href,bookname:document.querySelector("h1").innerText.trim(),author:document.querySelector("div.media-body > div.row > div > a")?.innerText.trim(),introDom:document.querySelector("div.book-detail"),introDomPatch:e=>e,coverUrl:window.location.origin+document.querySelector("img.book-img-middel").getAttribute("src")||null,aList:Array.from(document.querySelectorAll("#all-chapter > div.panel > div.panel-body > div.row > div.item > a")),getContentFromUrl:async(e,t,n)=>{const{contentRaw:o}=await(0,a.u1)({chapterName:t,chapterUrl:e,charset:n,selector:"#cont-body",contentPatch:(e,t)=>((0,i.rm)("script",!0,e),(0,i.rm)("div",!0,e),e),getNextPage:e=>{const t=e.querySelector("#content > div.row > div.text-center > a:last-of-type");return t&&t.innerText.includes("下一页")?t.href:""},continueCondition:(e,t)=>""!==t&&t.includes(".html"),enableCleanDOM:!1});return o},contentPatch:e=>e})},(e,t,n)=>{"use strict";n.d(t,{wanxiangshucheng:()=>r});var o=n(95),a=n(34),i=n(9);const r=()=>(0,o.N)({attachmentMode:"naive",bookUrl:document.location.href,bookname:document.querySelector("h1").innerText.trim(),author:document.querySelector("div.media-body > div.row > div > a")?.innerText.trim(),introDom:document.querySelector("div.book-detail"),introDomPatch:e=>e,coverUrl:window.location.origin+document.querySelector("img.book-img-middel").getAttribute("src")||null,aList:Array.from(document.querySelectorAll("#all-chapter > div.panel > div.panel-body > div.row > div.item > a")),getContentFromUrl:async(e,t,n)=>{const{contentRaw:o}=await(0,a.u1)({chapterName:t,chapterUrl:e,charset:n,selector:"#cont-body",contentPatch:(e,t)=>((0,i.rm)("script",!0,e),(0,i.rm)("div",!0,e),e),getNextPage:e=>{const t=e.querySelector("#content > div.row > div.text-center > a:last-of-type");return t&&t.innerText.includes("下一页")?t.href:""},continueCondition:(e,t)=>""!==t&&t.includes(".html"),enableCleanDOM:!1});return o},contentPatch:e=>e})},(e,t,n)=>{"use strict";n.d(t,{biquge345:()=>i});var o=n(9),a=n(95);const i=()=>(0,a.N)({bookUrl:document.location.href,bookname:document.querySelector("h1")?.innerText.trim(),author:document.querySelector("div.xinxi > span.x1 > a")?.innerText||"",introDom:document.querySelector("div.xinxi > div.x3"),introDomPatch:e=>e,coverUrl:document.querySelector("div.zhutu > img")?.src||void 0,aList:document.querySelectorAll("div.border > ul.info > li > a"),getContent:e=>e.querySelector("#txt"),contentPatch:e=>((0,o.rm)("p",!0,e),e),language:"zh"})},(e,t,n)=>{"use strict";n.d(t,{biqugecc:()=>i});var o=n(9),a=n(95);const i=()=>(0,a.N)({bookUrl:document.location.href,bookname:document.querySelector("h1")?.innerText.trim(),author:document.querySelector("#info > p")?.innerText.split("作    者：")[1]||"",introDom:document.querySelector("#intro > p"),introDomPatch:e=>e,coverUrl:document.querySelector("#fmimg > img")?.src||void 0,aList:document.querySelectorAll("#list > dl > dd > a"),getContent:e=>e.querySelector("#content"),contentPatch:e=>((0,o.j3)(["zw443sx"],e),e),language:"zh"})},(e,t,n)=>{"use strict";n.d(t,{mjyhb:()=>r});var o=n(9),a=n(34),i=n(95);const r=()=>(0,i.N)({bookUrl:document.location.href,bookname:document.querySelector("h1")?.innerText.trim(),author:document.querySelector("div.tab > p.p1")?.innerText.trim()||"",introDom:(()=>{const e=document.createElement("div");e.className="intro";const t=document.querySelector('meta[property="og:description"]')?.getAttribute("content");return t&&(e.textContent=t),e})(),introDomPatch:e=>e,coverUrl:document.querySelector("div.tu > img")?.src||void 0,aList:document.querySelectorAll("div.info_chapters > ul.p2:last-of-type > li > a"),getContentFromUrl:async(e,t,n)=>{const{contentRaw:i}=await(0,a.u1)({chapterName:t,chapterUrl:e,charset:n,selector:"#novelcontent",contentPatch:(e,t)=>((0,o.rm)("p",!0,e),(0,o.Sf)(["内容未完，下一页继续阅读",/三五中文/],e),e),getNextPage:e=>{const t=e.querySelector("div.page_chapter > ul > li:last-of-type > a");return t&&t.innerText.includes("下一页")?t.href:""},continueCondition:(e,t)=>""!==t&&/_\d.html/.test(t),enableCleanDOM:!1});return i},contentPatch:e=>e,language:"zh",nsfw:!0})},(e,t,n)=>{"use strict";n.d(t,{flydreams:()=>r});var o=n(9),a=n(34),i=n(95);const r=()=>(0,i.N)({bookUrl:document.location.href,bookname:document.querySelector("h1")?.innerText.trim(),author:document.querySelector("div.tab > p.p1")?.innerText.trim()||"",introDom:(()=>{const e=document.createElement("div");e.className="intro";const t=document.querySelector('meta[property="og:description"]')?.getAttribute("content");return t&&(e.textContent=t),e})(),introDomPatch:e=>e,coverUrl:document.querySelector("div.tu > img")?.src||void 0,aList:document.querySelectorAll("div.info_chapters > ul.p2:last-of-type > li > a"),getContentFromUrl:async(e,t,n)=>{const{contentRaw:i}=await(0,a.u1)({chapterName:t,chapterUrl:e,charset:n,selector:"#novelcontent",contentPatch:(e,t)=>((0,o.rm)("p",!0,e),(0,o.Sf)(["内容未完，下一页继续阅读",/fly-dreams/],e),e),getNextPage:e=>{const t=e.querySelector("div.page_chapter > ul > li:last-of-type > a");return t&&t.innerText.includes("下一页")?t.href:""},continueCondition:(e,t)=>""!==t&&/_\d.html/.test(t),enableCleanDOM:!1});return i},contentPatch:e=>e,language:"zh",nsfw:!0})},(e,t,n)=>{"use strict";n.d(t,{dishuge:()=>c});var o=n(33),a=n(9),i=n(34),r=n(95);const s=e=>document.querySelector(e),c=()=>(0,r.N)({bookUrl:location.href,bookname:s("#info h1").innerText.trim(),author:s("#info > p").innerText.trim().replace(/^作\s*者\s*[：:]\s*/u,""),introDom:s("#intro"),introDomPatch:e=>e,coverUrl:s("#fmimg img").src,aList:document.querySelectorAll("#list > dl > dt:last-of-type ~ a"),async getContentFromUrl(e,t,n){const{contentRaw:r}=await(0,i.u1)({chapterName:t,chapterUrl:e,charset:n,selector:"#booktxt",contentPatch:(e,t)=>((0,a.Sf)([/本章阅读完毕/],e),(0,o.is)(e),e),getNextPage(e){const t=e.querySelector("div.bottem1 > a[rel=next]");return t&&t.innerText.includes("下一页")?t.href:""},continueCondition:(e,t)=>""!==t&&/_\d.html/.test(t)});return r},contentPatch:e=>e})},(e,t,n)=>{"use strict";n.d(t,{c69shuba:()=>c});var o=n(33),a=n(9),i=n(34),r=n(95);const s=e=>document.querySelector(e),c=()=>(0,r.N)({bookUrl:location.href,bookname:s("#info h1").innerText.trim(),author:s("#info > p").innerText.trim().replace(/^作\s*者\s*[：:]\s*/u,""),introDom:s("#intro"),introDomPatch:e=>e,coverUrl:s("#fmimg img").src,aList:document.querySelectorAll("#list > dl > dt:last-of-type ~ a"),async getContentFromUrl(e,t,n){const{contentRaw:r}=await(0,i.u1)({chapterName:t,chapterUrl:e,charset:n,selector:"#booktxt",contentPatch:(e,t)=>((0,a.Sf)([/本章阅读完毕/],e),(0,o.is)(e),e),getNextPage(e){const t=e.querySelector("div.bottem1 > a[rel=next]");return t&&t.innerText.includes("下一页")?t.href:""},continueCondition:(e,t)=>""!==t&&/_\d.html/.test(t)});return r},contentPatch:e=>e})},(e,t,n)=>{"use strict";n.d(t,{shauthor:()=>r});var o=n(9),a=n(34),i=n(95);const r=()=>(0,i.N)({bookUrl:document.location.href,bookname:document.querySelector("h1")?.innerText.trim(),author:document.querySelector("div.tab > p.p1")?.innerText.trim()||"",introDom:(()=>{const e=document.createElement("div");e.className="intro";const t=document.querySelector('meta[property="og:description"]')?.getAttribute("content");return t&&(e.textContent=t),e})(),introDomPatch:e=>e,coverUrl:document.querySelector("div.tu > img")?.src||void 0,aList:document.querySelectorAll("div.info_chapters > ul.p2:last-of-type > li > a"),getContentFromUrl:async(e,t,n)=>{const{contentRaw:i}=await(0,a.u1)({chapterName:t,chapterUrl:e,charset:n,selector:"#novelcontent",contentPatch:(e,t)=>((0,o.rm)("p",!0,e),(0,o.Sf)(["内容未完，下一页继续阅读",/shauthor/],e),e),getNextPage:e=>{const t=e.querySelector("div.page_chapter > ul > li:last-of-type > a");return t&&t.innerText.includes("下一页")?t.href:""},continueCondition:(e,t)=>""!==t&&/_\d.html/.test(t),enableCleanDOM:!1});return i},contentPatch:e=>e,language:"zh",nsfw:!0})},(e,t,n)=>{"use strict";n.d(t,{chenkuan:()=>r});var o=n(9),a=n(34),i=n(95);const r=()=>(0,i.N)({bookUrl:document.location.href,bookname:document.querySelector("h1")?.innerText.trim(),author:document.querySelector("div.tab > p.p1")?.innerText.trim()||"",introDom:(()=>{const e=document.createElement("div");e.className="intro";const t=document.querySelector('meta[property="og:description"]')?.getAttribute("content");return t&&(e.textContent=t),e})(),introDomPatch:e=>e,coverUrl:document.querySelector("div.tu > img")?.src||void 0,aList:document.querySelectorAll("div.info_chapters > ul.p2:last-of-type > li > a"),getContentFromUrl:async(e,t,n)=>{const{contentRaw:i}=await(0,a.u1)({chapterName:t,chapterUrl:e,charset:n,selector:"#novelcontent",contentPatch:(e,t)=>((0,o.rm)("p",!0,e),(0,o.Sf)(["内容未完，下一页继续阅读",/chenkuan/],e),e),getNextPage:e=>{const t=e.querySelector("div.page_chapter > ul > li:last-of-type > a");return t&&t.innerText.includes("下一页")?t.href:""},continueCondition:(e,t)=>""!==t&&/_\d.html/.test(t),enableCleanDOM:!1});return i},contentPatch:e=>e,language:"zh",nsfw:!0})},(e,t,n)=>{"use strict";n.d(t,{baihexs:()=>r});var o=n(21),a=n(9),i=n(136);const r=()=>{const e=document.location.href,t=/(\d+)\/?$/.exec(document.location.href)?.[1];if(!t)throw Error("获取书籍信息出错！");return(0,i.N)({bookUrl:e,bookname:document.querySelector(".block_txt2 > h2 > a").innerText.trim(),author:document.querySelector(".block_txt2 > p:nth-child(4)").innerText.replace("作者：","").trim(),introDom:document.querySelector(".intro_info"),introDomPatch:e=>e,coverUrl:document.querySelector(".block_img2 > img")?.src,getIndexUrls:async()=>{const e=`${document.location.origin}/wapbook-${t}`,n=(await(0,o.wA)(e+"/",document.characterSet)).querySelector("div.page > a:nth-last-child(1)"),a=/(\d+)\/?$/.exec(n.href)?.[1];if(!a)throw Error("获取章节列表时出错！");const i=[];for(let t=1;t<=parseInt(a,10);t++){const n=e+`_${t}/`;i.push(n)}return i},getAList:e=>e.querySelectorAll(".chapter > li > a"),getContent:e=>e.querySelector("#nr1"),contentPatch:e=>((0,a.Sf)(["请您牢记：百合小说网"],e),e),concurrencyLimit:3})}},(e,t,n)=>{"use strict";n.d(t,{N:()=>h});var o=n(19),a=n(33),i=n(21),r=n(4),s=n(34),c=n(2),l=n.n(c),u=n(36),p=n(37),d=n(38),m=n(5);function h({bookUrl:e,bookname:t,author:n,introDom:c,introDomPatch:h,coverUrl:g,getIndexUrls:f,getIndexPages:x,getAList:b,getAName:v,getIsVIP:w,getSections:y,getSName:k,postHook:S,getContentFromUrl:T,getContent:A,contentPatch:C,concurrencyLimit:M,sleepTime:N,maxSleepTime:E,needLogin:P,nsfw:q,cleanDomOptions:L,overrideConstructor:_,language:I}){return class extends d.Q{constructor(){super(),this.attachmentMode="TM",M&&(this.concurrencyLimit=M),N&&(this.sleepTime=N),E&&(this.maxSleepTime=E),P&&(this.needLogin=P),q&&(this.nsfw=q),_&&_(this)}async bookParse(){let[a,d]=[null,null];c&&h&&([a,d]=await(0,s.HV)(c,h));const T={language:I??"zh"};g&&(0,o.if)(g,this.attachmentMode,"cover-").then(e=>{T.cover=e}).catch(e=>l().error(e));let A=[];if("function"==typeof x)A=await x();else{if("function"!=typeof f)throw Error("未发现 getIndexUrls 或 getIndexPages");{const e=await f();if(e.length>0){const t=[];await(0,r.rr)(e,this.concurrencyLimit,async e=>{l().info(`[BookParse]抓取目录页：${e}`);const n=await(0,i.kP)(e,this.charset);return t.push([n,e]),n}),A=t.sort((t,n)=>{const o=t[1],a=n[1];return e.indexOf(o)-e.indexOf(a)}).map(e=>e[0])}}}const C=[];let M=0,N=0,E=0,P=null;for(const n of A){if(!n)continue;let o,a;"function"==typeof y&&(o=y(n),a=!0);const i=b(n);for(const n of Array.from(i)){let i;i=v?v(n):n.innerText.trim();const r=n.href;if(a&&o&&k){const e=(0,s.lq)(n,o,k);null!==e&&e!==P&&(P=e,N++,E=0)}M++,E++;let c=!1,l=!1;w&&({isVIP:c,isPaid:l}=w(n));let p=new u.I({bookUrl:e,bookname:t,chapterUrl:r,chapterNumber:M,chapterName:i,isVIP:c,isPaid:l,sectionName:P,sectionNumber:a?N:null,sectionChapterNumber:a?E:null,chapterParse:this.chapterParse,charset:this.charset,options:{bookname:t}});c&&!l&&(p.status=m.nW.aborted),"function"==typeof S&&(p=S(p)),p&&C.push(p)}}return new p.E({bookUrl:e,bookname:t,author:n,introduction:a,introductionHTML:d,additionalMetadate:T,chapters:C})}async chapterParse(e,t,n,o,r,s){let c;if("function"==typeof T)c=await T(e,t,r);else{if("function"!=typeof A)throw Error("未发现 getContentFromUrl 或 getContent");{const t=await(0,i.wA)(e,r);c=A(t)}}if(c){c=C(c);const{dom:e,text:n,images:o}=await(0,a.an)(c,"TM",L);return{chapterName:t,contentRaw:c,contentText:n,contentHTML:e,contentImages:o,additionalMetadate:null}}return{chapterName:t,contentRaw:null,contentText:null,contentHTML:null,contentImages:null,additionalMetadate:null}}}}},(e,t,n)=>{"use strict";n.d(t,{novelup:()=>r});var o=n(9),a=n(21),i=n(136);const r=()=>{const e=document.location.origin+document.location.pathname;return(0,i.N)({bookUrl:e,bookname:document.querySelector("#section_episode_info_table > div:nth-child(2) > table:nth-child(1) > tbody:nth-child(1) > tr:nth-child(1) > td:nth-child(2)").innerText.trim(),author:document.querySelector("#section_episode_info_table > div:nth-child(2) > table:nth-child(1) > tbody:nth-child(1) > tr:nth-child(2) > td:nth-child(2) > a:nth-child(1)").innerText.trim(),introDom:document.querySelector(".novel_synopsis"),introDomPatch:e=>(Array.from(e.querySelectorAll("p")).forEach(e=>{const t=document.createElement("div");t.innerHTML=e.innerHTML.split("\n").join("<br>"),(0,o.Md)(t),e.replaceWith(t)}),e),coverUrl:document.querySelector(".novel_cover img")?.src??null,getIndexPages:async()=>{const t=[];let n=e;do{const e=await(0,a.wA)(n);t.push(e),n=e.querySelector("div.move_set:nth-child(4) > div:nth-child(3) > a")?.href??null}while(n);return t},getAList:e=>e.querySelectorAll(".episode_list li > .episode_link > a"),getSections:e=>e.querySelectorAll(".episode_list li.chapter"),getSName:e=>e.querySelector("cite")?.innerText.trim()??"",getContent:e=>e.querySelector(".content"),contentPatch:e=>(Array.from(e.querySelectorAll("p")).forEach(e=>{const t=document.createElement("div");t.innerHTML=e.innerHTML.split("\n").join("<br>"),(0,o.Md)(t),e.replaceWith(t)}),e),language:"ja"})}},(e,t,n)=>{"use strict";n.d(t,{ptwxz:()=>a});var o=n(95);const a=()=>(0,o.N)({bookUrl:document.location.href,bookname:document.querySelector("h1")?.innerText.trim().replace("最新章节","")??"",author:document.querySelector(".list")?.textContent?.split("  ")[0]?.replace("作者：","")?.trim()??"",introDom:document.querySelector("#intro")??void 0,introDomPatch:e=>e,coverUrl:document.location.href.replace(/(https:\/\/www\.piaotia\.com)\/html\/(\d+)\/(\d+)(\/index.html)?\/?$/,"$1/files/article/image/$2/$3/$3s.jpg"),getAName:e=>e.innerText.trim(),aList:document.querySelectorAll("ul > li > a"),getContent:e=>(new Promise(e=>setTimeout(e,1e3)),e.body),concurrencyLimit:1,sleepTime:400,maxSleepTime:400,contentPatch:e=>{const t=e.querySelector("h1")?.textContent?.trim()??"",n=e.querySelector("table"),o=e.querySelector("div.bottomlink");if(!n||!o)throw new Error("The required elements are not found in the DOM.");let a="",i=n.nextSibling;for(;i&&i!==o;){if(i.nodeType===Node.TEXT_NODE||i.nodeType===Node.ELEMENT_NODE&&"table"!==i.nodeName.toLowerCase()&&"div"!==i.nodeName.toLowerCase()){let e=i.textContent||"";i.nodeType===Node.ELEMENT_NODE&&"br"===i.nodeName.toLowerCase()&&(e="\n"),e.split("\n").forEach(e=>{const n=e.trim();n&&t!==n&&(a+=`<p>${n}</p>`)})}i=i.nextSibling}const r=document.createElement("div");return r.innerHTML=a,r}})},(e,t,n)=>{"use strict";n.d(t,{wanben:()=>c});var o=n(33),a=n(21),i=n(9),r=n(34),s=n(136);const c=()=>(0,s.N)({bookUrl:document.location.href,bookname:document.querySelector("div.bookPhr > h2").innerText.trim(),author:document.querySelector("div.bookPhrMid > p:nth-child(1)").innerText.replace("作者：","").trim(),introDom:(()=>{const e=document.querySelector(".bookInfo > a");return e&&(e.click(),e.remove()),document.querySelector(".bookInfo")})(),introDomPatch:e=>e,coverUrl:document.querySelector("div.bookImg > img")?.src,getIndexUrls:async()=>{const e=document.querySelector("#contentbox > div.detailDiv > div.category > a").href,t=(await(0,a.wA)(e,document.characterSet)).querySelectorAll("div.pageBg div.pagenum a");return Array.from(t).map(e=>e.href)},getAList:e=>e.querySelectorAll("div.chapterDiv > div.chapterList > ul > a"),getContentFromUrl:async(e,t,n)=>{const{contentRaw:a}=await(0,r.u1)({chapterName:t,chapterUrl:e,charset:n,selector:"div.raderCon",contentPatch:(e,t)=>((0,i.rm)("script",!0,e),(0,i.rm)("[style]",!0,e),(0,i.Sf)(["【提示】：如果觉得此文不错，请推荐给更多小伙伴吧！分享也是一种享受。","【看书助手】","【完本神站】","百万热门书籍终身无广告免费阅读"],e),(0,o.is)(e),e),getNextPage:e=>e.querySelector("div.page > a:nth-child(3)").href,continueCondition:(e,t)=>t.split("/").slice(-1)[0].includes("_"),enableCleanDOM:!1});return a},contentPatch:e=>e})},(e,t,n)=>{"use strict";n.d(t,{biqugetw:()=>i});var o=n(136),a=n(34);const i=()=>(0,o.N)({bookUrl:document.location.href,bookname:document.querySelector("h1")?.innerText.trim(),author:document.querySelector("h2 > span > a")?.innerText.trim()||"未知",introDom:document.querySelector("div.intro > p"),introDomPatch:e=>e,coverUrl:document.querySelector("div.cover > img")?.src||null,getIndexUrls:async()=>{const e=document.querySelector("a.chapterlist");return e?[e.href]:[]},getAList:e=>e.querySelectorAll("div.booklist ul > li > a"),getContentFromUrl:async(e,t,n)=>{const{contentRaw:o}=await(0,a.u1)({chapterName:t,chapterUrl:e,charset:n,selector:"#chaptercontent",contentPatch:e=>e,getNextPage:e=>{const t=e.querySelector("div.read-page > a:last-of-type"),n=t?.textContent?.trim();return"下一页"===n?t.href:""},continueCondition:(e,t)=>""!==t&&t!==e.querySelector('div.read-page > a[rel="index"]')?.href&&t.includes("_"),enableCleanDOM:!1});return o},contentPatch:e=>e,language:"zh"})},(e,t,n)=>{"use strict";n.d(t,{xszj:()=>r});var o=n(136),a=n(34),i=n(9);const r=()=>(0,o.N)({bookUrl:document.location.href,bookname:document.querySelector("h1")?.innerText.trim(),author:document.querySelector("#info > p > a")?.innerText.trim()||"未知",introDom:document.querySelector("#intro"),introDomPatch:e=>e,coverUrl:document.querySelector("#fmimg > img")?.src||null,getIndexUrls:async()=>{const e=document.querySelector("a.chapterlist");return e?[e.href]:[]},getAList:e=>e.querySelectorAll('#content_1 > a[rel="chapter"]'),getContentFromUrl:async(e,t,n)=>{const{contentRaw:o}=await(0,a.u1)({chapterName:t,chapterUrl:e,charset:n,selector:"#booktxt",contentPatch:e=>((0,i.rm)("div",!0,e),(0,i.rm)("script",!0,e),(0,i.rm)("ins",!0,e),e),getNextPage:e=>{const t=e.querySelector("div.bottem1 > a:last-of-type"),n=t?.textContent?.trim();return"下一頁"===n||"下一页"===n?t.href:""},continueCondition:(e,t)=>""!==t&&!t.includes("javascript"),enableCleanDOM:!1});return o},contentPatch:e=>e,language:"zh"})},(e,t,n)=>{"use strict";n.d(t,{haitangshuwu:()=>i});var o=n(136),a=n(21);const i=()=>(0,o.N)({bookUrl:document.location.href,bookname:document.querySelector("h2")?.innerText.trim(),author:document.querySelector("div.block_txt2 > p:nth-of-type(3) > a")?.innerText.trim()||"未知",introDom:document.querySelector("div.intro_info"),introDomPatch:e=>e,coverUrl:document.querySelector("div.block_img2 > img")?.src||null,getIndexUrls:async()=>{try{const e=document.querySelector("a.chapterlist");let t=e?.href;if(!t){const e=Array.from(document.querySelectorAll("a")).find(e=>e.textContent?.includes("目录")||e.textContent?.includes("章节")||e.textContent?.includes("小说目录"));t=e?.href}if(!t)return[];const n=await(0,a.wA)(t,document.characterSet),o=Array.from(n.querySelectorAll("div.page a")).find(e=>"尾页"===e.textContent?.trim());if(!o)return[t];const i=o.href.match(/_(\d+)\/$/);if(!i)return[t];const r=parseInt(i[1],10);if(isNaN(r)||r<1)return[t];const s=t.match(/^(.+)_1\/$/);if(!s)return[t];const c=s[1],l=[];for(let e=1;e<=r;e++)l.push(`${c}_${e}/`);return l}catch(e){console.warn("Failed to fetch pagination for haitangshuwu:",e);const t=document.querySelector("a.chapterlist");if(t)return[t.href];const n=Array.from(document.querySelectorAll("a")).find(e=>e.textContent?.includes("目录")||e.textContent?.includes("章节")||e.textContent?.includes("小说目录"));return n?[n.href]:[]}},getAList:e=>e.querySelectorAll("ul.chapter > li > a:has(span)"),getContent:e=>e.querySelector("#nr1"),contentPatch:e=>e,language:"zh"})},(e,t,n)=>{"use strict";n.d(t,{alicesw:()=>a});var o=n(136);const a=()=>(0,o.N)({bookUrl:document.location.href,bookname:document.querySelector("h1")?.innerText.trim(),author:document.querySelector("div.box_info p:first-of-type > a:first-of-type")?.innerText.trim()||"",introDom:document.querySelector("div.intro"),introDomPatch:e=>e,coverUrl:document.querySelector("div.pic > img.fengmian2").src||null,getIndexUrls:()=>{const e=document.querySelector("div.book_newchap > div.tit > span > em > a");return e?[e.href]:[]},getAList:e=>e.querySelectorAll("ul.mulu_list > li > a"),getContent:e=>e.querySelector("div.read-content"),contentPatch:e=>e,language:"zh",nsfw:!0})},(e,t,n)=>{"use strict";n.d(t,{ruochu:()=>a});var o=n(32);const a=()=>{const e=document.location.href,t=e.match(/book\/(\d+)/)?.[1],n=`https://www.ruochu.com/chapter/${t}/`;return(0,o.N)({bookUrl:e,anotherPageUrl:n,getBookname:e=>document.querySelector("div.hd h1 > span").innerText.trim(),getAuthor:e=>document.querySelector("div.pattern-cover-author a.name").innerText.trim(),getIntroDom:e=>document.querySelector("div.summary pre"),introDomPatch:e=>e,getCoverUrl:e=>document.querySelector("div.pic img")?.src,getAList:e=>e.querySelectorAll("div.bd li > a"),getSections:e=>e.querySelectorAll("div.hd > h2"),getSName:e=>e.innerText.trim(),getContent:e=>e.querySelector("div.page-content"),contentPatch:e=>{const t=document.createElement("div");return t.innerHTML=e.innerHTML.replace(/\n/g,"<br/><br/>"),t}})}},(e,t,n)=>{"use strict";n.d(t,{xiaoshuodaquan:()=>i});var o=n(9),a=n(32);const i=()=>(0,a.N)({bookUrl:document.location.href,anotherPageUrl:document.querySelector(".viewalllinks").href,getBookname:e=>document.querySelector(".r420 > h1").innerText.trim(),getAuthor:e=>document.querySelector(".author a").innerText.trim(),getIntroDom:e=>e.querySelector(".bookintro"),introDomPatch:e=>e,getCoverUrl:e=>document.querySelector(".con_limg > img")?.src,getAList:e=>e.querySelectorAll("div.clearfix li > a"),getSections:e=>e.querySelectorAll("div.dirtitone > h2"),getSName:e=>e.innerText.trim(),postHook:e=>(e.sectionName=e.sectionName?.replace(e.bookname,"").trim()??null,e),getContent:e=>e.querySelector("#content"),contentPatch:e=>{(0,o.rm)("div",!0,e),(0,o.rm)("script",!0,e);const t=document.createElement("div");return t.innerHTML=e.innerHTML.replace(/\n/g,"<br/><br/>"),t}})},(e,t,n)=>{"use strict";n.d(t,{wenku8:()=>i});var o=n(32),a=n(9);const i=()=>{const e=document.location.pathname.split("/").slice(-2,-1)[0],t=[document.location.origin,"book",`${e}.htm`].join("/"),n=document.location.href;return(0,o.N)({bookUrl:t,ToCUrl:n,anotherPageUrl:t,getBookname:()=>document.querySelector("#title").innerText.trim(),getAuthor:e=>e.querySelector("#content > div:nth-child(1) > table:nth-child(1) > tbody:nth-child(1) > tr:nth-child(2) > td:nth-child(2)").innerText.replace("小说作者：","").trim(),getIntroDom:e=>e.querySelector('#content > div:nth-child(1) > table:nth-child(4) > tbody:nth-child(1) > tr:nth-child(1) > td:nth-child(2) > span[style="font-size:14px;"]:nth-last-of-type(1)'),introDomPatch:e=>e,getCoverUrl:e=>e.querySelector("#content > div:nth-child(1) > table:nth-child(4) > tbody:nth-child(1) > tr:nth-child(1) > td:nth-child(1) > img:nth-child(1)").src,getAList:()=>document.querySelectorAll("tbody td.ccss > a"),getSections:()=>document.querySelectorAll("tbody td.vcss"),getSName:e=>e.innerText.trim(),getContent:e=>e.querySelector("#content"),contentPatch:e=>((0,a.rm)("#contentdp",!0,e),e),concurrencyLimit:1,sleepTime:300,maxSleepTime:1500})}},(e,t,n)=>{"use strict";n.d(t,{linovelib:()=>p,wlinovelib:()=>d});var o=n(32),a=n(5),i=n(34),r=n(9);const s={"":"的","":"一","":"是","":"了","":"我","":"个","":"人","":"仕","":"他","":"有","":"这","":"个","":"上","":"们","":"来","":"到","":"时","":"大","":"地","":"为","":"子","":"中","":"你","":"说","":"生","":"国","":"年","":"看","":"就","":"那","":"和","":"要","":"她","":"出","":"也","":"得","":"里","":"后","":"自","":"以","":"会","":"家","":"可","":"下","":"而","":"过","":"天","":"去","":"能","":"对","":"小","":"多","":"然","":"于","":"心","":"学","":"么","":"之","":"都","":"好","":"看","":"起","":"发","":"当","":"没","":"成","":"只","":"如","":"事","":"把","":"还","":"用","":"第","":"样","":"道","":"想","":"作","":"种","":"开","":"美","":"乳","":"阴","":"液","":"茎","":"欲","":"呻","":"肉","":"交","":"性","":"胸","":"私","":"穴","":"淫","":"臂","":"舔","":"射","":"脱","":"裸","":"骚","":"唇"};var c=n(2),l=n.n(c),u=n(4);const p=()=>{const e=document.location.href,t=e.replace(/\/catalog$/,".html");return(0,o.N)({bookUrl:t,anotherPageUrl:t,ToCUrl:e,getBookname:()=>document.querySelector(".book-meta > h1").innerText.trim(),getAuthor:()=>document.querySelector(".book-meta > p:nth-child(2) > span:nth-child(1) > a:nth-child(1)").innerText.trim(),getIntroDom:e=>e.querySelector(".book-dec > p:nth-child(1)"),introDomPatch:e=>e,getCoverUrl:e=>e.querySelector(".book-img > img").src,additionalMetadatePatch:(e,t)=>(e.tags=Array.from(t.querySelectorAll(".book-label a")).map(e=>e.innerText.trim()),e),getAList:()=>document.querySelectorAll(".chapter-list li.col-4 > a"),getSections:()=>document.querySelectorAll("#volume-list > div.volume"),getSName:e=>e.querySelector(".volume-info >h2")?.innerText.trim(),postHook:e=>(e.chapterUrl.startsWith("javascript")&&(e.status=a.nW.aborted),e),overrideConstructor:e=>{const t=e.bookParse;return e.bookParse=async()=>{const n=await Reflect.apply(t,e,[]);return await(0,i.$l)(n,e=>e.chapterUrl.startsWith("javascript"),e=>e.querySelector(".mlfy_page > a:nth-child(1)")?.href,1,2e3),n},e},getContentFromUrl:async(e,t,n)=>{const{contentRaw:o}=await(0,i.u1)({chapterName:t,chapterUrl:e,charset:n,selector:"#TextContent",domPatch:m,contentPatch:e=>((0,r.rm)(".tp",!0,e),(0,r.rm)(".bd",!0,e),e.querySelectorAll("img.lazyload").forEach(e=>(e.src=e.dataset.src||e.src,e)),e),getNextPage:e=>e.querySelector(".mlfy_page > a:nth-child(5)").href,continueCondition:(e,t)=>new URL(t).pathname.includes("_"),enableCleanDOM:!1});return o},contentPatch:e=>{for(const t in s)e.innerHTML=e.innerHTML.replaceAll(t,s[t]);return e},maxRunLimit:1,concurrencyLimit:1,sleepTime:1200,maxSleepTime:6e3})},d=()=>{const e=document.location.href,t=e.replace(/\.html/,"/catalog");function n(e){const t=Array.from(e.querySelectorAll("script")).filter(e=>e.innerHTML.includes("ReadParams"))?.[0];return t?(0,r.d6)(`${t.innerHTML}; return ReadParams;`):null}return(0,o.N)({bookUrl:e,anotherPageUrl:t,ToCUrl:t,getBookname:()=>document.querySelector("h1.book-title")?.innerText.trim()??"",getAuthor:()=>document.querySelector(".book-rand-a > span")?.innerText.trim()??"",getIntroDom:()=>document.querySelector("#bookSummary > content:nth-child(1)"),introDomPatch:e=>e,getCoverUrl:()=>document.querySelector(".book-cover")?.src??null,additionalMetadatePatch:e=>(e.tags=Array.from(document.querySelectorAll(".tag-small")).map(e=>e.innerText.trim()),e),getAList:e=>e.querySelectorAll(".chapter-li-a "),getSections:e=>e.querySelectorAll("li.chapter-bar.chapter-li"),getSName:e=>e.innerText.trim(),postHook:e=>(e.chapterUrl.startsWith("javascript")&&(e.status=a.nW.aborted),e),overrideConstructor:e=>{const t=e.bookParse;return e.bookParse=async()=>{const o=await Reflect.apply(t,e,[]);return await(0,i.$l)(o,e=>e.chapterUrl.startsWith("javascript"),e=>{const t=n(e);return t?document.location.origin+t.url_previous:void 0},1,2e3),o},e},getContentFromUrl:async(e,t,o)=>{const{contentRaw:a}=await(0,i.u1)({chapterName:t,chapterUrl:e,charset:o,selector:"#acontent",domPatch:m,contentPatch:e=>((0,r.rm)(".cgo",!0,e),(0,r.rm)("script",!0,e),e),getNextPage:e=>{const t=n(e);return t?document.location.origin+t.url_next:""},continueCondition:(e,t)=>""!==t&&new URL(t).pathname.includes("_"),enableCleanDOM:!1});return a},contentPatch:e=>e,maxRunLimit:1,concurrencyLimit:1,sleepTime:1200,maxSleepTime:6e3})};async function m(e){let t=!1;if(e.querySelectorAll("script").forEach(e=>{e.innerHTML.includes("font|read||sheet|family|url|public|woff2")&&(t=!0)}),!t)return e;const n=e.querySelector("#TextContent p:nth-last-of-type(2)");return n&&(n.innerHTML=await async function(e){const t="read.woff2",n="https://www.linovelib.com/public/font/read.woff2";let o="";const a=await async function(e,t){const n=await async function(e){const t=`https://fastly.jsdelivr.net/gh/404-novel-project/Universal_font_tables@main/${e}.json`;l().info(`[linovelib-font]开始请求远程字体对照表 ${e}`);let n=10;for(;n>0;){let o=-1;try{l().debug(`[linovelib-font]开始请求远程字体对照表 ${t}, 重试次数 ${10-n+1}`);const a=await new Promise((n,a)=>{GM_xmlhttpRequest({method:"GET",url:t,onload:t=>{o=t.status,t.status>=200&&t.status<300?(l().info(`[linovelib-font]远程字体对照表 ${e} 下载成功`),n(JSON.parse(t.responseText))):a(new Error(`HTTP status ${t.status}`))},onerror:e=>{a(e)}})});if(a)return a}catch(t){if(l().error(t),n--,404===o||n<0)return void l().info(`[linovelib-font]远程字体对照表 ${e} 下载失败`);await(0,u.yy)(2e3);continue}}}(e);return n?l().debug(`[linovelib-font]字体对照表 ${e}已找到,如果你认为字体对应有错误,请前往https://github.com/404-novel-project/Universal_font_tables 重新提交字体链接, ${t}`):l().error(`[linovelib-font]字体对照表 ${e} 未找到,请前往https://github.com/404-novel-project/Universal_font_tables 提交字体链接, ${t}`),n}(t,n);if(!a)return`[linovelib-font]字体对照表 ${t} 未找到,请前往https://github.com/404-novel-project/Universal_font_tables 提交字体链接, ${n}`;for(const t of e)Object.prototype.hasOwnProperty.call(a,t)?o+=a[t]:o+=t;return o}(n.innerHTML)),e}},(e,t,n)=>{"use strict";n.d(t,{yibige:()=>s});var o=n(33),a=n(9),i=n(34),r=n(32);const s=()=>(0,r.N)({bookUrl:document.location.href,anotherPageUrl:document.location.href+"index.html",getBookname:e=>document.querySelector("#info h1:nth-of-type(1)").innerText.trim(),getAuthor:e=>document.querySelector("#info > p:nth-child(2)").innerText.replace(/作(\s+)?者[：:]/,"").trim(),getIntroDom:e=>document.querySelector("#intro > p:nth-child(1)"),introDomPatch:e=>e,getCoverUrl:e=>document.querySelector("#fmimg > img")?.src??"",getAList:e=>e.querySelectorAll("#list dd > a"),getContent:e=>e.querySelector("#content"),getContentFromUrl:async(e,t,n)=>{const{contentRaw:r}=await(0,i.u1)({chapterName:t,chapterUrl:e,charset:n,selector:"#content",contentPatch:(e,t)=>((0,a.rm)("script",!0,e),(0,a.rm)("div[style]",!0,e),(0,o.is)(e),e),getNextPage:e=>e.querySelector(".bottem1 > a:nth-child(4)").href,continueCondition:(e,t)=>t.split("/").slice(-1)[0].includes("_"),enableCleanDOM:!1});return r},contentPatch:e=>e})},(e,t,n)=>{"use strict";n.d(t,{washuge:()=>a});var o=n(32);const a=()=>{const e=document.location.href,t=/(\d+)\/?$/.exec(e)?.[1];if(!t)throw Error("获取书籍信息出错！");const n=`${document.location.origin}/books/book${t}.html`;return(0,o.N)({bookUrl:e,anotherPageUrl:n,getBookname:e=>e.querySelector("#content > dd > h1")?.innerText.replace("全文阅读","").trim(),getAuthor:e=>e.querySelector("#at > tbody:nth-child(1) > tr:nth-child(1) > td:nth-child(4)")?.innerText.trim(),getIntroDom:e=>e.querySelector("#content > dd:nth-child(7) > p:nth-child(3)"),introDomPatch:e=>e,getCoverUrl:e=>e.querySelector(".hst > img").src,getAList:e=>document.querySelectorAll("#at > tbody td > a"),getContent:e=>e.querySelector("#contents > *"),contentPatch:e=>e,concurrencyLimit:1})}},(e,t,n)=>{"use strict";n.d(t,{shencou:()=>r});var o=n(9),a=n(5),i=n(32);const r=()=>{const e=document.querySelector("#content > table:nth-child(2) > tbody:nth-child(1) > tr:nth-child(3) > td:nth-child(1) > table:nth-child(1) > tbody:nth-child(1) > tr:nth-child(1) > td:nth-child(1) > ul:nth-child(1) > li:nth-child(1) > a:nth-child(1)").href;return(0,i.N)({bookUrl:document.location.href,anotherPageUrl:e,getBookname:e=>document.querySelector("#content > table:nth-child(2) > tbody:nth-child(1) > tr:nth-child(1) > td:nth-child(1) > table:nth-child(1) > tbody:nth-child(1) > tr:nth-child(1) > td:nth-child(1) > table:nth-child(1) > tbody:nth-child(1) > tr:nth-child(1) > td:nth-child(1) > span:nth-child(1) > a:nth-child(1)").innerText.trim(),getAuthor:e=>document.querySelector("#content > table:nth-child(2) > tbody:nth-child(1) > tr:nth-child(1) > td:nth-child(1) > table:nth-child(1) > tbody:nth-child(1) > tr:nth-child(2) > td:nth-child(2)").innerText.replace("小说作者：","").trim(),getIntroDom:e=>document.querySelector("#content > table:nth-child(2) > tbody:nth-child(1) > tr:nth-child(3) > td:nth-child(1) > table:nth-child(1) > tbody:nth-child(1) > tr:nth-child(1) > td:nth-child(2)"),introDomPatch:e=>((0,o.rm)("a",!0,e),(0,o.rm)(".hottext",!0,e),(0,o.Sf)(["论坛回帖，推荐本书，都可以得积分。每天送50积分"],e),e),getCoverUrl:e=>document.querySelector("#content > table:nth-child(2) > tbody:nth-child(1) > tr:nth-child(3) > td:nth-child(1) > table:nth-child(1) > tbody:nth-child(1) > tr:nth-child(1) > td:nth-child(2) > a:nth-child(1) > img:nth-child(1)")?.src,getAList:e=>e.querySelectorAll("div.zjbox ol > li > a"),getSections:e=>e.querySelectorAll("div.zjbox div.ttname > h2"),getSName:e=>e.innerText.trim(),getContent:e=>(e.body.innerHTML=e.body.innerHTML.replace('<script language="javascript">GetFont();<\/script>','<div id="content" class="fonts_mesne">'),e.body.innerHTML=e.body.innerHTML.replace("<center>","</div>"),e.querySelector("#content")),contentPatch:e=>((0,o.rm)("h1",!0,e),(0,o.rm)("div[id^=BookSee]",!0,e),e),cleanDomOptions:{referrerMode:a.ls.custom,customReferer:"http://www.wenku8.net"}})}},(e,t,n)=>{"use strict";n.d(t,{jingcaiyuedu6:()=>i});var o=n(9),a=n(32);const i=()=>(0,a.N)({bookUrl:document.location.href,anotherPageUrl:document.querySelector("a.red-btn:nth-child(3)").href,getBookname:e=>document.querySelector(".book-info > h1 > em").innerText.trim(),getAuthor:e=>document.querySelector(".book-info > h1 > a").innerText.trim(),getIntroDom:e=>document.querySelector(".book-info > p.intro"),introDomPatch:e=>e,getCoverUrl:e=>document.querySelector(".book-img-cover").src,getAList:e=>e.querySelectorAll("dd.col-md-4 > a"),getContent:e=>e.querySelector("#htmlContent"),contentPatch:e=>((0,o.Sf)(["精彩小说网最新地址"],e),e)})},(e,t,n)=>{"use strict";n.d(t,{uaa:()=>i});var o=n(95),a=n(9);const i=()=>(0,o.N)({bookUrl:document.location.href,bookname:document.querySelector(".info_box h1").innerText.trim(),author:document.querySelector(".info_box div a").innerText.trim(),introDom:document.querySelector("div.brief"),introDomPatch:e=>e,coverUrl:document.querySelector("img.cover").src,additionalMetadatePatch:e=>(e.tags=Array.from(document.querySelectorAll(".tag_box li")).map(e=>e.innerText),e),aList:document.querySelectorAll("ul.catalog_ul a"),sections:void 0,getSName:void 0,getContent:e=>e.querySelector("div.article"),contentPatch:e=>((0,a.rm)(".dizhi",!0,e),e)})},(e,t,n)=>{"use strict";n.d(t,{c18kanshu:()=>i});var o=n(33),a=n(32);const i=()=>(0,a.N)({bookUrl:document.location.href,anotherPageUrl:document.querySelector("div.menu_more_black > a").href,getBookname:e=>document.querySelector(".in_textone").innerText.trim(),getAuthor:e=>{const t=document.querySelector("div.in_texttwo:nth-child(2)");return/作者：(.+)$/.exec(t.innerText.trim())?.[1]??""},getIntroDom:e=>document.querySelector(".janjie"),introDomPatch:e=>e,getCoverUrl:e=>document.querySelector(".book_top > div.img > img").src,getAList:e=>{const t=e.querySelectorAll("div.list_main.book_list");return Array.from(t).reduce((e,t)=>{const n=t.getAttribute("onclick"),o=n?.substring(n.indexOf("'")+1,n.lastIndexOf("'"))??"",a=document.createElement("a");return a.href=o,a.innerHTML=t.innerHTML.trim(),e.push(a),e},[])},getContent:e=>e.querySelector(".readcontent"),contentPatch:e=>(Array.from(e.childNodes).filter(e=>e instanceof Text).forEach(e=>{e.textContent?.includes("　　")&&e.parentNode?.insertBefore(document.createElement("br"),e)}),(0,o.eu)(e)&&(0,o.N0)(e),e),nsfw:!0})},(e,t,n)=>{"use strict";n.d(t,{ihuaben:()=>d});var o=n(38),a=n(37),i=n(33),r=n(36),s=n(19),c=n(2),l=n.n(c),u=n(21),p=n(9);class d extends o.Q{constructor(){super(),this.concurrencyLimit=1,this.attachmentMode="TM"}async bookParse(){const e=document.location.href,t=document.querySelector("h1.text-danger")?.innerText,n=document.querySelector("a.text-muted")?.innerText,o=document.querySelector("div.aboutbook")?.innerText,i=document.createElement("div");i.innerText=o;const c=document.querySelector("div.cover img")?.src,p={tags:Array.from(document.querySelectorAll("div.tagList a")).map(e=>e.innerText),language:"zh"};c&&(0,s.if)(c,this.attachmentMode,"cover-").then(e=>{p.cover=e}).catch(e=>l().error(e));const d=document.querySelector("div.chapters h2.hidden-xs a")?.innerText?.match(/\d+/);let h=d?parseInt(d[0]):0;h=Math.ceil(h/40);const g=Array.from(m(document));for(let t=2;t<=h;t++){const n=e+"?page="+t;m(await(0,u.pG)(n)).forEach(e=>g.push(e))}let f=0;const x=g.map(n=>{const o=n,a=o.href,i=o.innerText;return f++,new r.I({bookUrl:e,bookname:t,chapterUrl:a,chapterNumber:f,chapterName:i,isVIP:!1,isPaid:!1,sectionName:null,sectionNumber:null,sectionChapterNumber:null,chapterParse:this.chapterParse,charset:this.charset,options:{}})});return new a.E({bookUrl:e,bookname:t,author:n,introduction:o,introductionHTML:i,additionalMetadate:p,chapters:x})}async chapterParse(e,t,n,o,a,r){const s=document.createElement("div");s.innerHTML="",(await(0,u.n6)(e))?.querySelectorAll("div.nbcontent div.discription,div.talkcontent")?.forEach(e=>{if(e.classList.contains("discription"))e.querySelectorAll("p").forEach(e=>{const t=document.createElement("p");t.innerHTML=e.innerHTML,s.appendChild(t)});else if(e.classList.contains("talkcontent")){const t=e.querySelector("div.name"),n=t?t.innerText:"";e.querySelectorAll("p").forEach(e=>{const t=document.createElement("p");if(n){const e=document.createElement("strong");e.innerText=n+"：",t.appendChild(e)}t.appendChild(document.createTextNode(e.innerText)),s.appendChild(t)})}}),(0,p.rm)("i",!0,s);const{dom:c,text:l,images:d}=await(0,i.an)(s,"TM");return{chapterName:t,contentRaw:s,contentText:l,contentHTML:c,contentImages:d,additionalMetadate:null}}}function m(e){return e.querySelectorAll("div.chapterlist span.chapterTitle a")}},(e,t,n)=>{"use strict";n.d(t,{kadokado:()=>p});var o=n(38),a=n(37),i=n(33),r=n(36),s=n(19),c=n(2),l=n.n(c),u=n(21);class p extends o.Q{constructor(){super(),this.maxRunLimit=1,this.sleepTime=700,this.maxSleepTime=4e3,this.concurrencyLimit=1,this.attachmentMode="TM"}async bookParse(){const e=document.location.href,t=e.match(/book\/(\d+)/),n=t?t[1]:"000",o=document.querySelector("main > section div h1")?.innerText,i=document.querySelector("main > section > div > div > span > a"),c=i?i.innerText:"佚名",u=i?.href.match(/user\/(\d+)/),p=u?u[1]:"000",d=document.querySelector("section#introduction p")?.innerText,m=document.createElement("div");m.innerText=d;const h=document.querySelector("main > section img")?.src,g={tags:Array.from(document.querySelectorAll("main > section > div > div > div > a")).map(e=>e.innerText),language:"zh"};h&&(0,s.if)(h,this.attachmentMode,"cover-").then(e=>{g.cover=e}).catch(e=>l().error(e));const f=Array.from(document.querySelectorAll("section#chapter > div >div"));let x=0,b=0,v=0;const w=[];return f.forEach(t=>{v=0,b++;const a=t.querySelector("h3")?.innerText;Array.from(t.querySelectorAll("ul li")).forEach(t=>{const i=t.querySelector("a").href+`?titleId=${n}&ownerId=${p}`,s=t.querySelector("h4").innerText;x++,v++,w.push(new r.I({bookUrl:e,bookname:o,chapterUrl:i,chapterNumber:x,chapterName:s,isVIP:!1,isPaid:!1,sectionName:a,sectionNumber:b,sectionChapterNumber:v,chapterParse:this.chapterParse,charset:this.charset,options:{}}))})}),new a.E({bookUrl:e,bookname:o,author:c,introduction:d,introductionHTML:m,additionalMetadate:g,chapters:w})}async chapterParse(e,t,n,o,a,r){const s=document.createElement("div");s.innerHTML=(await(0,u.n6)(e))?.querySelector("ul > div")?.innerHTML??"";const{dom:c,text:l,images:p}=await(0,i.an)(s,"TM");return{chapterName:t,contentRaw:s,contentText:l,contentHTML:c,contentImages:p,additionalMetadate:null}}}},(e,t,n)=>{"use strict";n.d(t,{po18:()=>g});var o=n(19),a=n(33),i=n(21),r=n(34),s=n(2),c=n.n(s),l=n(5),u=n(36),p=n(37),d=n(38),m=n(9),h=n(4);class g extends d.Q{constructor(){super(),this.attachmentMode="TM",this.concurrencyLimit=1}async bookParse(){const e=document.location.href,t=e.match(/books\/(\d+)/)?.[1],n=document.querySelector("h1.book_name").innerText.trim(),a=document.querySelector("a.book_author").innerText.trim(),s=document.querySelector("div.B_I_content"),[d,m]=await(0,r.HV)(s),g={},f=document.querySelector("div.book_cover > img").src;f&&(0,o.if)(f,this.attachmentMode,"cover-").then(e=>{g.cover=e}).catch(e=>c().error(e)),g.tags=Array.from(document.querySelectorAll("div.book_intro_tags > a")).map(e=>e.innerText.trim());let x=await(0,i.wA)(`https://www.po18.tw/books/${t}/articles`);const b=[];let v=0;const w=new Set(Array.from(x.querySelectorAll("div.pagenum a")).map(e=>e.href));0==w.size&&w.add(`https://www.po18.tw/books/${t}/articles`);for(const t of w){await(0,h.yy)(this.maxSleepTime),x=await(0,i.wA)(t);const o=x.querySelectorAll("div.list-view div.c_l");for(const t of Array.from(o)){v++;const o=t.querySelector("div.l_chaptname"),a=t.querySelector("div.l_btn a"),i=o.innerText.trim(),r=o.querySelector("a")?.href??"javscript:void(0)",s="免費閱讀"!=a.innerText.trim(),c=!!o.querySelector("a"),p=new u.I({bookUrl:e,bookname:n,chapterUrl:r,chapterNumber:v,chapterName:i,isVIP:s,isPaid:c,sectionName:null,sectionNumber:null,sectionChapterNumber:null,chapterParse:this.chapterParse,charset:this.charset,options:{}});s&&(p.status=l.nW.aborted,p.isPaid&&(p.status=l.nW.pending)),b.push(p)}}return new p.E({bookUrl:e,bookname:n,author:a,introduction:d,introductionHTML:m,additionalMetadate:g,chapters:b})}async chapterParse(e,t,n,o,r,s){c().debug(`[Chapter]请求 ${e}`),e.match(/articles\/(\d+)/);const l=e.replace("articles","articlescontent"),u=await(0,i._V)(l,{cookie:document.cookie,method:"GET",headers:{Accept:"text/html, */*; q=0.01","X-Requested-With":"XMLHttpRequest",Referer:e}}),p=document.createElement("div");p.innerHTML=(await u.responseText).replaceAll("<p>\n",""),(0,m.rm)("blockquote",!0,p);const{dom:d,text:h,images:g}=await(0,a.an)(p,"TM");return{chapterName:t,contentRaw:p,contentText:h,contentHTML:d,contentImages:g,additionalMetadate:null}}}},(e,t,n)=>{"use strict";n.d(t,{faloo:()=>h});var o=n(19),a=n(33),i=n(9),r=n(21),s=n(34),c=n(2),l=n.n(c),u=n(37),p=n(36),d=n(5),m=n(38);class h extends m.Q{constructor(){super(),this.attachmentMode="TM",this.concurrencyLimit=1,this.maxRunLimit=1,this.sleepTime=1e3,this.maxSleepTime=5e3}async bookParse(){const e=document.location.href,t=document.querySelector("h1#novelName").innerText.trim(),n=document.querySelector("img.rentouOne").innerText.trim(),a=document.querySelector("div.T-L-T-C-Box1");let i=null,r=null;a&&([i,r]=await(0,s.HV)(a));const c={},m=document.querySelector("img.imgcss")?.src??null;m&&(0,o.if)(m,this.attachmentMode,"cover-").then(e=>{c.cover=e}).catch(e=>l().error(e)),c.tags=Array.from(document.querySelectorAll("div.T-R-T-B2-Box1 a")).map(e=>e.innerText.trim());const h=document.querySelectorAll("div.C-Fo-Zuo div.DivTable a"),g=document.querySelectorAll("div.C-Fo-Zuo h3 a"),f=[];function x(e){return e?.innerText.trim()}let b=0,v=0,w=0,y=null;for(const n of Array.from(h)){const o=n.innerText.trim(),a=n.href,i=(0,s.lq)(n,g,x);i!==y&&(y=i,v++,w=0),b++,w++;const r=!1,c=!1,l=new p.I({bookUrl:e,bookname:t,chapterUrl:a,chapterNumber:b,chapterName:o,isVIP:r,isPaid:c,sectionName:y,sectionNumber:v,sectionChapterNumber:w,chapterParse:this.chapterParse,charset:this.charset,options:{bookname:t}});r&&!c&&(l.status=d.nW.aborted),l&&f.push(l)}return new u.E({bookUrl:e,bookname:t,author:n,introduction:i,introductionHTML:r,additionalMetadate:c,chapters:f})}async chapterParse(e,t,n,o,s,c){const l=await(0,r.wA)(e,s);if(!l)throw new Error("chapterParse: getHtmlDOM error");const u=l.querySelector("div.noveContent"),p=document.createElement("div");if(u){if((0,i.rm)("b",!0,u),u.querySelector("div.con_img")){const e="https://read.faloo.com/",t=Array.from(l.querySelectorAll("script")).find(e=>e?.textContent&&e.textContent.includes("image_do3"));if(t){const n=t?.textContent?.match(/image_do3(.*)/);if(n){const[t,o,a,i,r,s,c,l,u,d,m,h,g,f,x,b]=n[1].split(/['",]+/).filter(Boolean),v=e+"Page4VipImage.aspx?num="+t+"&o="+o+"&id="+a+"&n="+i+"&ct="+h+"&en="+r+"&t="+s+"&font_size="+d+"&font_color=000000&FontFamilyType="+g+"&backgroundtype="+f+"&u="+l+"&time="+u+"&k="+c,w=document.createElement("img");w.alt="VIP图片章节，请使用Epub下载",w.src=v,p.appendChild(w)}}}else p.innerHTML=u.innerHTML;const{dom:e,text:n,images:o}=await(0,a.an)(p,"TM",void 0);return{chapterName:t,contentRaw:p,contentText:n,contentHTML:e,contentImages:o,additionalMetadate:null}}return{chapterName:t,contentRaw:null,contentText:null,contentHTML:null,contentImages:null,additionalMetadate:null}}}},(e,t,n)=>{"use strict";n.d(t,{novelpia:()=>d});var o=n(19),a=n(21),i=n(2),r=n.n(i),s=n(37),c=n(36),l=n(9),u=n(38),p=n(33);class d extends u.Q{constructor(){super(),this.attachmentMode="naive",this.concurrencyLimit=1,this.maxRunLimit=1}async bookParse(){const e=document.location.href,t=e.match(/novel\/(\d+)/)[1],n=Date.now();let i={headers:{cookie:document.cookie},method:"GET"};const u=await(0,a.J5)(`https://novelpia.jp/proc/novel?cmd=get_novel&novel_no=${t}&mem_nick=HATI&_=${n}`,i),p=await u.json(),d=p.novel.novel_name,m=p.novel.writer_nick,h=document.createElement("div");h.innerHTML=p.novel.novel_story;const g=h.innerText,f={},x="https:"+p.novel.cover_img;r().debug("coverUrl:"+x.toString()),(0,o.if)(x,"TM","vertical_cover-").then(e=>{f.cover=e}).catch(e=>r().error(e)),f.tags=p.novel.novel_genre_arr;const b=Math.ceil(p.novel.count_book/20),v=[];let w=0;for(let n=0;n<b;n++){i={headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},body:`novel_no=${t}&page=${n}`,method:"POST"};const o=await(0,a.J5)("https://novelpia.jp/proc/episode_list",i),r=document.createElement("div");r.innerHTML=await o.text(),(0,l.rm)("td.ep_style3",!0,r);const s=r.querySelectorAll("tr > td > b");Array.from(s).forEach(t=>{const n=t.querySelector("i")?.getAttribute("id")?.match(/(\d+)/)[1],o=`https://novelpia.jp/viewer/${n}`;w++;const a=null==(t.querySelector("span.b_free")??null),i=t;(0,l.rm)("span",!0,i);const r=i.innerText.trim(),s={chapter_id:n},u=new c.I({bookUrl:e,bookname:d,chapterUrl:o,chapterNumber:w,chapterName:r,isVIP:a,isPaid:!0,sectionName:null,sectionNumber:null,sectionChapterNumber:null,chapterParse:this.chapterParse,charset:this.charset,options:s});v.push(u)})}return new s.E({bookUrl:e,bookname:d,author:m,introduction:g,introductionHTML:h,additionalMetadate:f,chapters:v})}async chapterParse(e,t,n,o,i,r){const s=`https://novelpia.jp/proc/viewer_data/${r.chapter_id}`,c={body:"size=14",method:"POST",headers:{cookie:document.cookie,Accept:"application/json, text/javascript, */*; q=0.01","Accept-Encoding":"gzip, deflate, br, zstd","Accept-Language":"en-US,en;q=0.9"}},l=await(0,a.J5)(s,c),u=await l.json(),d=document.createElement("div");for(const e of u.s){const t=document.createElement("p");t.innerHTML=e.text,d.appendChild(t),d.appendChild(document.createElement("br"))}const{dom:m,text:h,images:g}=await(0,p.an)(d,"TM");return{chapterName:t,contentRaw:d,contentText:h,contentHTML:m,contentImages:g,additionalMetadate:null}}}},(e,t,n)=>{"use strict";n.d(t,{QQBook:()=>h});var o=n(19),a=n(33),i=n(21),r=n(9),s=n(34),c=n(2),l=n.n(c),u=n(5),p=n(36),d=n(37),m=n(38);class h extends m.Q{constructor(){super(),this.attachmentMode="TM",this.concurrencyLimit=1}async bookParse(){const e=document.location.href,t=e.match(/book\.qq\.com\/book-detail\/(\d+)/),n=(t&&t[1],document.querySelector(".book-meta a")?.innerText),a=(document.getElementById("authorId")?.getAttribute("data-authorid"),document.querySelector(".book-title")?.innerText),i=document.querySelector(".book-intro"),[r,c]=await(0,s.HV)(i),m={},h=document.querySelector(".book-cover > img").src;h&&(0,o.if)(h,this.attachmentMode,"cover-").then(e=>{m.cover=e}).catch(e=>l().error(e)),m.tags=Array.from(document.querySelectorAll(".book-tags > a")).map(e=>e.innerText.trim());let g=0;const f=[];let x=null;try{x=document.querySelectorAll(".tab-panel")[1]?.querySelectorAll(".book-dir")[1]?.querySelectorAll("li.list")}catch(e){throw new Error("章节列表获取失败"+e)}for(const t of Array.from(x)){const n=null!=t.querySelector(".lock");let o=0;const i=t.querySelector("a");g++,o++;const r=i.innerText.trim(),s=i.href,c=new p.I({bookUrl:e,bookname:a,chapterUrl:s,chapterNumber:g,chapterName:r,isVIP:n,isPaid:!0,sectionName:null,sectionNumber:0,sectionChapterNumber:o,chapterParse:this.chapterParse,charset:this.charset,options:{}});n&&(c.status=u.nW.aborted,c.isPaid&&(c.status=u.nW.pending)),f.push(c)}return new d.E({bookUrl:e,bookname:a,author:n,introduction:r,introductionHTML:c,additionalMetadate:m,chapters:f})}async chapterParse(e,t,n,o,s,c){const l={chapterName:t,contentRaw:null,contentText:null,contentHTML:null,contentImages:null,additionalMetadate:null};return async function(){let o;const c="#article";if(n?(o=await(0,i.pG)(e,s),(!o.querySelector(c)||(o.querySelector(c)?.childElementCount??0)<10)&&(o=await(0,i.eF)(e,e=>{const t=e.contentWindow?.document??null;return!!t&&0!==t.querySelectorAll(c).length}),o&&(o=(new DOMParser).parseFromString(o.documentElement.outerHTML,"text/html")))):o=await(0,i.pG)(e,s),o){t=o.querySelector("h1.chapter-title").innerText.trim();const e=document.createElement("div");let n="";const i=o.querySelector(c);if(i){const{dom:o,text:s,images:c}=await(0,a.an)(i,"TM");return(0,a.is)(o),e.appendChild(o),(0,r.Sf)([/^谷[\u4e00-\u9fa5]{0,1}$/gm],e),n+=s,{chapterName:t,contentRaw:e,contentText:n,contentHTML:e,contentImages:c,additionalMetadate:null}}}return l}()}}},(e,t,n)=>{"use strict";n.d(t,{i60ksw:()=>a});var o=n(95);const a=()=>(0,o.N)({bookUrl:document.location.href,bookname:document.querySelector("div.booktitle > h1").innerText.trim(),author:document.querySelector("#author").innerText.trim(),introDom:document.querySelector("#bookintro"),introDomPatch:e=>e,coverUrl:document.querySelector("#bookimg img").src,aList:document.querySelectorAll("#chapterlist li > a"),sections:void 0,getSName:e=>e.innerText.trim(),getContent:e=>e.querySelector("#content"),contentPatch:e=>e})},(e,t,n)=>{"use strict";n.d(t,{penana:()=>i});var o=n(9),a=n(95);const i=()=>(0,a.N)({bookUrl:document.location.href,bookname:document.querySelector(".booktitlewrap").innerText.trim(),author:document.querySelector("div.fontbold").innerText.trim(),introDom:document.querySelector("div.readtext"),introDomPatch:e=>e,coverUrl:document.querySelector("img.bookcover")?.src??null,additionalMetadatePatch:e=>(e.tags=Array.from(document.querySelectorAll(".tags_wrap .story_tag a")).map(e=>e.innerText.trim()),e),aList:document.querySelectorAll("div#toclist a"),getAName:e=>e.querySelector("div.toc1")?.innerText.trim(),sections:void 0,getSName:void 0,getContent:e=>e.querySelector("article"),contentPatch:e=>((0,o.rm)("span",!0,e),(0,o.rm)('p[style="display:none"]',!0,e),(0,o.rm)(".displaynone",!0,e),e),language:"zh"})},(e,t,n)=>{"use strict";n.d(t,{lzdzw:()=>d});var o=n(19),a=n(9),i=n(21),r=n(34),s=n(2),c=n.n(s),l=n(37),u=n(36),p=n(38);class d extends p.Q{constructor(){super()}async bookParse(){const e=document.location.href,t=document.querySelector(".book_info h1").innerText.trim(),n=document.querySelector(".book_info div.options li a").innerText.trim(),s=document.querySelector("#intro_pc");(0,a.rm)("strong",!0,s),(0,a.Sf)(["您要是觉得《","》还不错的话请不要忘记向您QQ群和微博微信里的朋友推荐哦！"],s);const[p,d]=await(0,r.HV)(s),m={},h=document.querySelector("img.img-thumbnail").src;(0,o.if)(h,this.attachmentMode,"cover-").then(e=>{m.cover=e}).catch(e=>c().error(e));const g=[],f=e.match(/\/(\d+)\.html/);function x(e){return e.querySelectorAll(".book_list a")}const b=[];if(!f)throw new Error("获取小说ID失败");{const n=`https://www.lzdzw.com/book/${f[1]}/1/`,o=await(0,i.pG)(n).then(e=>e.querySelectorAll(".page-item option"));for(const e of Array.from(o)){const t="https://www.lzdzw.com/"+e.getAttribute("value"),n=x(await(0,i.pG)(t));for(const e of Array.from(n))b.push(e)}let a=0;for(const n of b){a++;const o=n.innerText,i=n.href,r=new u.I({bookUrl:e,bookname:t,chapterUrl:i,chapterNumber:a,chapterName:o,isVIP:!1,isPaid:!1,sectionName:null,sectionNumber:null,sectionChapterNumber:null,chapterParse:this.chapterParse.bind(this),charset:this.charset,options:{}});g.push(r)}}return new l.E({bookUrl:e,bookname:t,author:n,introduction:p,introductionHTML:d,additionalMetadate:m,chapters:g})}async chapterParse(e,t,n,o,r,s){const c=document.createElement("div");function l(e){if(!e)return;const t=document.createElement("br"),n=e.querySelectorAll("#novelcontent p");for(const e of Array.from(n))c.appendChild(e),c.appendChild(t)}l(await(0,i.n6)(e));const u=e.replace(".html","");let p=0;for(;p<1e4;){p++;const e=u+"_"+p+".html",t=await(0,i.pG)(e);if(t.title.match("第1页"))break;l(t)}(0,a.Sf)(["请关闭浏览器阅读模式后查看本章节，否则将出现无法翻页或章节内容丢失等现象。"],c);const d=c.innerText;return{chapterName:t,contentRaw:c,contentText:d,contentHTML:c,contentImages:null,additionalMetadate:null}}}},(e,t,n)=>{"use strict";n.d(t,{doufuyuedu:()=>d});var o=n(19),a=n(21),i=n(2),r=n.n(i),s=n(37),c=n(36),l=n(9),u=n(38),p=n(33);class d extends u.Q{constructor(){super(),this.attachmentMode="naive",this.concurrencyLimit=1,this.maxRunLimit=1}async bookParse(){const e=document.location.href,t=(e.match(/novel-(\d+)/)[1],document.querySelector("h1.book_tt").innerText.trim()),n=document.querySelector("div.user_name").innerText.trim(),a=document.createElement("div");a.innerHTML=document.querySelector("div.book_des").innerHTML,(0,l.rm)("a",!0,a),(0,l.rm)("span",!0,a);const i=a.innerText,u={},p=document.querySelector("img.book_img ").src;(0,o.if)(p,"TM","vertical_cover-").then(e=>{u.cover=e}).catch(e=>r().error(e)),u.tags=Array.from(document.querySelectorAll("div.book_subtt > span.book_tag")).map(e=>e.innerText);const d=[];let m=0,h=0,g=0;const f=document.querySelectorAll("div.catelogue");return Array.from(f).forEach(n=>{h++,g=0;const o=n.querySelector("div.catelogue_hd").innerText.trim(),a=n.querySelectorAll("div.catelogue_bd > ul > li > a"),i=null==(n.querySelector("i.icon-vip")??null);Array.from(a).forEach(n=>{const a=n.href,r=n.innerText.trim();m++,g++;const s=new c.I({bookUrl:e,bookname:t,chapterUrl:a,chapterNumber:m,chapterName:r,isVIP:i,isPaid:!0,sectionName:o,sectionNumber:h,sectionChapterNumber:g,chapterParse:this.chapterParse,charset:this.charset,options:{}});d.push(s)})}),new s.E({bookUrl:e,bookname:t,author:n,introduction:i,introductionHTML:a,additionalMetadate:u,chapters:d})}async chapterParse(e,t,n,o,i,r){const s=await(0,a.n6)(e)??document.createElement("html"),c=document.createElement("div");c.innerHTML=s.querySelector("div#J_chapterContent").innerHTML,(0,l.rm)("span",!0,c);const{dom:u,text:d,images:m}=await(0,p.an)(c,"TM");return{chapterName:t,contentRaw:c,contentText:d,contentHTML:u,contentImages:m,additionalMetadate:null}}}},(e,t,n)=>{"use strict";n.d(t,{czbooks:()=>a});var o=n(95);const a=()=>(0,o.N)({bookUrl:document.location.href,bookname:document.querySelector("div.info > span.title").innerText.trim(),author:document.querySelector("div.info > span.author").innerText.trim(),introDom:document.querySelector("div.description"),introDomPatch:e=>e,coverUrl:document.querySelector("div.novel-detail .thumbnail > img").src,aList:document.querySelectorAll("#chapter-list li > a"),sections:document.querySelectorAll("#chapter-list li.volume"),getSName:e=>e.innerText.trim(),getContent:e=>e.querySelector("div.content"),contentPatch:e=>e})},(e,t,n)=>{"use strict";n.d(t,{xiaoshuowu:()=>i});var o=n(9),a=n(32);const i=()=>{const e=document.location.href,t=e.substring(e.lastIndexOf("/",e.lastIndexOf("/")-1)+1,e.lastIndexOf("/")),n=document.location.origin+`/book/${t}/`;return(0,a.N)({bookUrl:n,ToCUrl:document.location.href,anotherPageUrl:n,getBookname:e=>e.querySelector("div.divbox:nth-child(2) > div:nth-child(2) > div:nth-child(1) > span:nth-child(1)").innerText.trim(),getAuthor:e=>e.querySelector("div.divbox:nth-child(2) > div:nth-child(2) > div:nth-child(1) > span:nth-child(2) > a").innerText.trim(),getIntroDom:e=>e.querySelector("div.tabvalue:nth-child(1) > div:nth-child(1)"),introDomPatch:e=>e,getCoverUrl:e=>e.querySelector("div.divbox:nth-child(2) > div:nth-child(1) > a:nth-child(1) > img").src,getAList:e=>document.querySelectorAll("li.chapter > a"),getSections:e=>document.querySelectorAll(".volume"),getSName:e=>e.innerText.trim(),postHook:e=>(e.sectionName&&(e.sectionName=e.sectionName.replace(e.bookname,"")),e),getContent:e=>e.querySelector("#acontent"),contentPatch:e=>((0,o.rm)("div[align]",!0,e),(0,o.rm)(".tishi",!0,e),(0,o.rm)("h1",!1,e),(0,o.j3)(["(小说屋 www.xiaoshuowu.com)","小说屋 www.xiaoshuowu.com"],e),e),concurrencyLimit:1})}},(e,t,n)=>{"use strict";n.d(t,{twkan:()=>r});var o=n(9),a=n(21),i=n(136);const r=()=>(0,i.N)({bookUrl:document.location.href,bookname:document.querySelector("h1")?.innerText??"",author:document.querySelector(".booknav2 > p:nth-child(3) > a")?.innerText??"",introDom:document.querySelector(".navtxt"),introDomPatch:e=>e,coverUrl:document.querySelector(".bookimg2 > img")?.src??null,getIndexPages:async()=>{const e=[],t=document.querySelector("a.btn.more-btn[href]").href.match(/\/book\/(\d+)\/index.html/),n="https://twkan.com/ajax_novels/chapterlist/"+(t?t[1]:"")+".html",o=await(0,a.wA)(n,"UTF-8");return e.push(o),e},getAList:e=>Array.from(e.querySelectorAll("ul a")),getAName:e=>e.innerText.trim(),getContent:e=>e.querySelector("#txtcontent0"),contentPatch:e=>{(0,o.rm)(".hide720, .txtcenter, .bottom-ad",!0,e),(0,o.Sf)([/【.*台灣小說網.*】/g,/（.*台灣小說網.*）/g,/本書由.*首發/g,/本書首發.*讀體驗/g,/GOOGLE搜索TWKAN/gi,/.*台灣小說網.*(隨時.|超全|超讚|超實用|超順暢|超流暢|超方便|超好用|超貼心|超給力|超省心|超靠譜|輕鬆讀|輕鬆看|任你.|等你尋)/g,/\(本章完\)/g],e);const t=document.createTreeWalker(e,NodeFilter.SHOW_TEXT,null),n=[];for(;t.nextNode();){const e=t.currentNode;e.parentNode&&"P"!==e.parentNode.nodeName&&e.textContent&&""!==e.textContent.trim()&&n.push(e)}n.forEach(e=>{const t=document.createElement("p");t.textContent=e.textContent,e.parentNode&&e.parentNode.replaceChild(t,e)});const a=e.querySelectorAll("p"),i=/<br\s*\/?>/i;return a.forEach(e=>{if(i.test(e.innerHTML)){const t=e.innerHTML.split(i),n=document.createDocumentFragment();t.forEach(e=>{const t=document.createElement("p");t.innerHTML=e.trim(),""!==t.innerHTML&&n.appendChild(t)}),e.parentNode&&e.parentNode.replaceChild(n,e)}}),e},language:"zh",concurrencyLimit:1})},(e,t,n)=>{"use strict";n.d(t,{c69shu:()=>r});var o=n(9),a=n(21),i=n(136);const r=()=>(0,i.N)({bookUrl:document.location.href,bookname:document.querySelector("h1")?.innerText??"",author:document.querySelector(".booknav2 > p:nth-child(3) > a")?.innerText??"",introDom:document.querySelector(".content"),introDomPatch:e=>e,coverUrl:document.querySelector(".bookimg2 > img")?.src??null,getIndexPages:async()=>{const e=[],t=document.querySelector("a.btn.more-btn[href]").href,n=await(0,a.wA)(t,"GBK");return e.push(n),e},getAList:e=>Array.from(e.querySelectorAll("#catalog ul a")).reverse(),getAName:e=>e.innerText.trim(),getContent:e=>e.querySelector(".txtnav"),contentPatch:e=>{(0,o.rm)(".hide720, .txtright, .bottom-ad",!0,e),(0,o.Sf)([/^谷[\u4e00-\u9fa5]{0,1}$/gm],e);const t=document.createTreeWalker(e,NodeFilter.SHOW_TEXT,null),n=[];for(;t.nextNode();){const e=t.currentNode;e.parentNode&&"P"!==e.parentNode.nodeName&&e.textContent&&""!==e.textContent.trim()&&n.push(e)}n.forEach(e=>{const t=document.createElement("p");t.textContent=e.textContent,e.parentNode&&e.parentNode.replaceChild(t,e)});const a=e.querySelectorAll("p"),i=/<br\s*\/?>/i;return a.forEach(e=>{if(i.test(e.innerHTML)){const t=e.innerHTML.split(i),n=document.createDocumentFragment();t.forEach(e=>{const t=document.createElement("p");t.innerHTML=e.trim(),""!==t.innerHTML&&n.appendChild(t)}),e.parentNode&&e.parentNode.replaceChild(n,e)}}),e},language:"zh",concurrencyLimit:1})},(e,t,n)=>{"use strict";n.d(t,{xbookcn:()=>i});var o=n(21),a=n(136);const i=()=>(0,a.N)({bookUrl:document.location.href,bookname:document.querySelector(".status-msg-body")?.textContent??"",author:document.querySelector(".entry-content > p:nth-child(1)")?.innerText.split("：")[1]??"",introDom:document.querySelector(".entry-content"),introDomPatch:e=>e,coverUrl:null,getIndexPages:async()=>{const e=[];let t=document.location.origin+document.location.pathname;do{const n=await(0,o.wA)(t,"UTF-8");e.push(n),t=n.querySelector("#Blog1_blog-pager-older-link")?.href??null}while(t);return e},getAList:e=>e.querySelectorAll("h3 > a"),getAName:e=>e.innerText.trim(),getContent:e=>e.querySelector(".entry-content"),contentPatch:e=>e,language:"zh"})},(e,t,n)=>{"use strict";n.d(t,{c69yuedu:()=>r});var o=n(9),a=n(21),i=n(136);const r=()=>(0,i.N)({bookUrl:document.location.href,bookname:document.querySelector("h1")?.innerText??"",author:document.querySelector(".booknav2 > p:nth-child(2) > a")?.innerText??"",introDom:document.querySelector(".navtxt"),introDomPatch:e=>e,coverUrl:document.querySelector(".bookimg2 > img")?.src??null,getIndexPages:async()=>{const e=[],t=document.querySelector('.addbtn a.btn[href^="/chapters/"]').href,n=await(0,a.wA)(t,"GBK");return e.push(n),e},getAList:e=>Array.from(e.querySelectorAll("#chapters ul a")),getAName:e=>e.innerText.trim(),getContent:e=>e.querySelector(".content"),contentPatch:e=>{(0,o.rm)(".txtright, .bottom-ad",!0,e);const t=document.createTreeWalker(e,NodeFilter.SHOW_TEXT,null),n=[];for(;t.nextNode();){const e=t.currentNode;e.parentNode&&"P"!==e.parentNode.nodeName&&e.textContent&&""!==e.textContent.trim()&&n.push(e)}n.forEach(e=>{const t=document.createElement("p");t.textContent=e.textContent,e.parentNode&&e.parentNode.replaceChild(t,e)});const a=e.querySelectorAll("p"),i=/<br\s*\/?>/i;return a.forEach(e=>{if(i.test(e.innerHTML)){const t=e.innerHTML.split(i),n=document.createDocumentFragment();t.forEach(e=>{const t=document.createElement("p");t.innerHTML=e.trim(),""!==t.innerHTML&&n.appendChild(t)}),e.parentNode&&e.parentNode.replaceChild(n,e)}}),e},language:"zh",concurrencyLimit:1,sleepTime:500,maxSleepTime:1500})},(e,t,n)=>{"use strict";n.d(t,{haiwaishubao:()=>r});var o=n(21),a=n(34),i=n(136);const r=()=>(0,i.N)({bookUrl:document.location.href,bookname:document.querySelector("h1")?.innerText.trim(),author:document.querySelector(".BGsectionOne-top-right > p.author > span > a")?.innerText??"",introDom:document.querySelector("#intro > div.BGsectionTwo-bottom"),introDomPatch:e=>e,coverUrl:document.querySelector(".BGsectionOne-top-left > img")?.src||null,getIndexUrls:async()=>{const e=document.querySelector("div.BGsectionOne-bottom > ul > li:nth-of-type(2) > a");if(!e)return[];const t=e.href,n=await(0,o.wA)(t,document.characterSet);return Array.from(n.querySelectorAll("p.CGsectionTwo-right-bottom-btn > select > option")).map(e=>document.location.origin+e.getAttribute("value"))},getAList:e=>e.querySelectorAll("li.BCsectionTwo-top-chapter > a"),getAName:e=>e.innerText.trim(),getContentFromUrl:async(e,t,n)=>{const o=[];let i=0;const{contentRaw:r}=await(0,a.u1)({chapterName:t,chapterUrl:e,charset:n,selector:"#content",contentPatch:(e,t)=>(o.push(i+e.children.length-1),i+=e.children.length,e),getNextPage:e=>{const t=e.querySelector("section.RBGsectionTwo li.RBGsectionTwo-right a");return t&&t.innerText.includes("下一页")?t.href:""},continueCondition:(e,t)=>""!==t&&!t.includes("index.html"),enableCleanDOM:!1});if(r)for(let e=0;e<o.length-1;e++){const t=r.children[o[e]-e];if(t&&t.nextElementSibling){const e=t.nextElementSibling;e&&(t.innerHTML+=e.innerHTML,e.remove())}}return r},contentPatch:e=>e,nsfw:!0,language:"zh"})},(e,t,n)=>{"use strict";n.d(t,{quanshuzhai:()=>a});var o=n(95);const a=()=>(0,o.N)({bookUrl:document.location.href,bookname:document.querySelector(".booktitle").innerText.trim(),author:document.querySelector("a.red").innerText.trim(),introDom:document.querySelector(".bookintro"),introDomPatch:e=>e,coverUrl:null,aList:document.querySelectorAll("#list-chapterAll > dd > a"),getContent:e=>e.querySelector(".readcontent"),contentPatch:e=>e})},(e,t,n)=>{"use strict";n.d(t,{mbtxt:()=>r});var o=n(95),a=n(34),i=n(9);const r=()=>(0,o.N)({bookUrl:document.location.href,bookname:document.querySelector(".booktitle").innerText.trim(),author:document.querySelector("a.red").innerText.trim(),introDom:document.querySelector(".bookintro"),introDomPatch:e=>((0,i.rm)(".visible-xs",!0,e),e),coverUrl:document.querySelector(".bookcover > img")?.src,aList:document.querySelectorAll("#list-chapterAll > dd > a"),getContentFromUrl:async(e,t,n)=>{const{contentRaw:o}=await(0,a.u1)({chapterName:t,chapterUrl:e,charset:n,selector:".readcontent",contentPatch:e=>((0,i.rm)(".kongwen",!0,e),(0,i.rm)(".readmiddle",!0,e),(0,i.rm)(".text-danger.text-center",!0,e),(0,i.j3)(["--\x3e>"],e),e),getNextPage:e=>e.querySelector("#linkNext")?.href??"",continueCondition:(e,t)=>""!==t&&t.includes("_"),enableCleanDOM:!1});return o},contentPatch:e=>e})},(e,t,n)=>{"use strict";n.d(t,{b5200:()=>v,biquwx:()=>d,bqu9:()=>u,bxwx333:()=>w,c25zw:()=>g,common:()=>c,dijiubook:()=>h,gebiqu:()=>l,la42zw:()=>M,lewenn:()=>A,luoqiuzw:()=>p,lusetxt:()=>S,ranwen:()=>b,shuquge:()=>k,tycqxs:()=>m,xbiquge:()=>f,xbiqugeLa:()=>y,xyb3:()=>C,yqxs:()=>T,yruan:()=>x});var o=n(4),a=n(9),i=n(174),r=n(33);const s=e=>((0,a.rm)("script",!0,e),(0,a.rm)("div[style]",!0,e),(0,a.rm)("div[align]",!0,e),e),c=()=>(0,i.Wt)(e=>e,s),l=()=>(0,i.Wt)(e=>((0,a.j3)([/如果您喜欢.+，别忘记分享给朋友/g],e),(0,a.rm)('a[href^="http://down.gebiqu.com"]',!1,e),e),e=>((0,a.j3)([/"www.gashuw.com"/g],e),e)),u=()=>(0,i.Wt)(e=>((0,a.j3)([/如果您喜欢.+，别忘记分享给朋友/g],e),(0,a.rm)('a[href^="http://down.gebiqu.com"]',!1,e),e),e=>((0,a.Sf)(["请收藏本站：https://www.bqu9.cc。笔趣阁手机版：https://m.bqu9.cc/"],e),e),"#chaptercontent"),p=()=>(0,i.Wt)(e=>e,e=>{const t=e.firstElementChild;return t.innerText.includes("天才一秒记住本站地址：")&&t.remove(),(0,a.j3)(["记住网址m.luoqｉｕｘｚｗ．ｃｏｍ"],e),e}),d=()=>(0,i.Wt)(e=>((0,a.j3)([/本站提示：各位书友要是觉得《.+》还不错的话请不要忘记向您QQ群和微博里的朋友推荐哦！/],e),e),e=>e,void 0,1),m=()=>(0,i.Wt)(e=>e,e=>((0,a.rm)("a",!0,e),(0,a.j3)(["推荐都市大神老施新书:"],e),e)),h=()=>(0,i.Wt)(e=>((0,a.j3)(["本书网址："],e),e),e=>((0,a.rm)("a",!0,e),(0,a.rm)('img[src$="alipay.png"]',!0,e),e),void 0,1,50,3e3,e=>{e.maxRunLimit=1;const t=e.chapterParse;return e.chapterParse=async(...e)=>{const n=await t(...e);return await(0,o.yy)(3e3*Math.random()),n},e},e=>{const t=new URL(e.chapterUrl);return"m.dijiuben.com"===t.host||t.href.endsWith(".apk")?void 0:e}),g=()=>(0,i.Wt)(e=>(e.querySelector("font")?.parentElement?.remove(),(0,a.j3)(["简介:"],e),e),e=>((0,a.rm)(".bottem",!1,e),e)),f=()=>(0,i.Wt)(e=>e,e=>((0,a.j3)([/笔趣阁 www.xbiquge.tw，最快更新.+ ！/],e),e)),x=()=>(0,i.Wt)(e=>((0,a.Sf)(["本站提示：各位书友要是觉得"],e),e),e=>((0,a.rm)("b",!0,e),e),void 0,3),b=()=>(0,i.Wt)(e=>((0,a.Sf)(["还不错的话请不要忘记向您QQ群和微博里的朋友推荐哦！"],e),e),e=>e),v=()=>(0,i.Wt)(e=>e,e=>e,void 0,1),w=()=>(0,i.Wt)(e=>e,e=>(e.querySelector("#xuanchuan")?.parentElement?.remove(),(0,a.rm)("div[style]",!0,e),(0,a.rm)(".bottem2",!0,e),e),"#zjneirong"),y=()=>(0,i.Wt)(e=>(e.querySelector("font")?.parentElement?.remove(),e),e=>((0,a.Sf)(["手机站全新改版升级地址"],e),e),void 0,1),k=()=>(0,i.Wt)(e=>(document.querySelector(".noshow")?.classList.remove("noshow"),document.querySelector(".showall")&&(document.querySelector(".showall").innerHTML=""),(0,a.j3)([/作者：.+所写的《.+》无弹窗免费全文阅读为转载作品,章节由网友发布。/,/推荐地址：https?:\/\/www\.ishuquge\.org\/txt\/\d+\/index\.html/g],e),e),e=>((0,a.Sf)(["请记住本书首发域名：","www.ishuquge.org"],e),e),void 0,1),S=()=>(0,i.Wt)(e=>((0,a.Sf)(["无弹窗免费全文阅读为转载作品","无弹窗推荐地址","简介："],e),e),e=>((0,a.rm)("script",!0,e),(0,a.rm)("div[style]",!0,e),(0,a.rm)("div[align]",!0,e),(0,a.Sf)(["https://www.lvsewx.com/books","请记住本书首发域名"],e),(0,r.is)(e),e)),T=()=>(0,i.Wt)(e=>((0,a.j3)(["<span>简介：</span>"],e),(0,a.Sf)(["推荐地址："],e),e),e=>((0,a.rm)("script",!0,e),(0,a.rm)('div[align="center"]',!1,e),(0,a.Sf)(["//www.yqxsge.cc/html/","请记住本书首发域名"],e),e)),A=()=>(0,i.Wt)(e=>((0,a.j3)([/各位书友要是觉得《.*》还不错的话请不要忘记向您QQ群和微博里的朋友推荐哦！/],e),e),e=>((0,a.rm)("script",!0,e),(0,a.rm)('div[align="center"]',!1,e),(0,a.Sf)(["//www.lewenn.net/lw","1秒记住乐文小说网"],e),e)),C=()=>(0,i.Wt)(e=>e,e=>((0,a.rm)("script",!0,e),(0,a.rm)("div[style]",!0,e),(0,a.rm)("div[align]",!0,e),(0,a.Sf)(["由于各种问题yb3.cc地址更改为xyb3.net请大家收藏新地址避免迷路","网页版章节内容慢，请下载好阅小说app阅读最新内容","请退出转码页面，请下载好阅小说app 阅读最新章节。","https://www.xyb3.net"],e),e)),M=()=>(0,i.Wt)(e=>e,e=>((0,a.rm)("div#content > p:first-child",!1,e),(0,a.j3)(["首发网址ｈｔｔps://m.42zw.la","记住网址m.42zw．la","一秒记住ｈｔｔｐs://ｍ．42zw.la"],e),(0,a.rm)("br",!0,e),e))},(e,t,n)=>{"use strict";n.d(t,{FN:()=>p,Tm:()=>s,Wt:()=>l,uk:()=>u});var o=n(34),a=n(95),i=n(136);function r(e,t,n,a,i,r){return{bookUrl:document.location.href,bookname:document.querySelector("#info h1, .info h2, .info h1").innerText.trim().replace(/最新章节$/,""),author:document.querySelector("#info > p:nth-child(2), #info > div:nth-child(2), .info .author, .small > span:nth-child(1), .info .fix > p:nth-child(1)").innerText.replace(/作(\s+)?者[：:]/,"").trim(),introDom:document.querySelector("#intro, .intro, .book-intro, .desc"),introDomPatch:e,coverUrl:document.querySelector("#fmimg > img, .info > .cover > img, .book-boxs > .img > img, .imgbox > img")?.src??null,postHook:e=>(e.sectionName&&(e.sectionName.includes("《")?e.sectionName=e.sectionName.replace(`《${e.bookname}》`,"").trim():e.sectionName=e.sectionName.replace(e.bookname,"").trim()),r?r(e):e),concurrencyLimit:t,sleepTime:n,maxSleepTime:a,overrideConstructor:e=>{const t=e.bookParse;return e.bookParse=async()=>{const n=await Reflect.apply(t,e,[]),a=n.chapters;return n.chapters=(0,o.hR)(a),n},i&&i(e),e}}}function s(e,t,n,o,a,i){return{...r(e,t,n,o,a,i),aList:document.querySelectorAll("#list a, .listmain a, .book-item a"),sections:document.querySelectorAll("#list dt, .listmain dt, .layout-tit"),getSName:e=>{const t=e.querySelector("b");return t?t.innerText:e.innerText}}}function c(e,t,n,o,a,i){return{...r(e,t,n,o,a,i),getIndexUrls:()=>Array.from(document.querySelectorAll('select[name="pageselect"] > option')).map(e=>document.location.origin+e.getAttribute("value")),getAList:e=>{const t=Array.from(e.querySelectorAll("ul.section-list.fix, ul.list")).slice(-1)[0];if(!t)throw new Error("获取章节列表失败！");return t.querySelectorAll("li > a")}}}function l(e,t,n,o,i,r,c,l){let u="#content";return"string"==typeof n&&(u=n),(0,a.N)({...s(e,o,i,r,c,l),getContent:e=>e.querySelector(u),contentPatch:t})}function u(e,t,n,i,r,c,l,u,p,d="#content"){return(0,a.N)({...s(e,r,c,l,u,p),getContentFromUrl:async(e,a,r)=>{const{contentRaw:s}=await(0,o.u1)({chapterName:a,chapterUrl:e,charset:r,selector:d,contentPatch:t,getNextPage:n,continueCondition:i,enableCleanDOM:!1});return s},contentPatch:e=>e})}function p(e,t,n,a,r,s,l,u,p,d="#content"){return(0,i.N)({...c(e,r,s,l,u,p),getContentFromUrl:async(e,i,r)=>{const{contentRaw:s}=await(0,o.u1)({chapterName:i,chapterUrl:e,charset:r,selector:d,contentPatch:t,getNextPage:n,continueCondition:a,enableCleanDOM:!1});return s},contentPatch:e=>e})}},(e,t,n)=>{"use strict";n.d(t,{mht:()=>l});var o=n(95),a=n(174),i=n(21),r=n(34),s=n(9),c=n(33);const l=()=>(0,o.N)({...(0,a.Tm)(e=>e,5),getContentFromUrl:async(e,t,n)=>{const{contentRaw:o}=await(0,r.u1)({chapterName:t,chapterUrl:e,charset:n,selector:"#content",contentPatch:e=>((0,s.rm)("p[data-id]",!0,e),(0,c.is)(e),e),getNextPage:e=>e.querySelector(".bottem2 > a:nth-child(4)").href,continueCondition:(e,t)=>new URL(t).pathname.includes("_"),enableCleanDOM:!1,getHtmlDomFunc:(e,t,n)=>(0,i.wA)(e,t,n,async e=>{const t=e.clone();return(await t.text()).includes('<div id="content">')})});return o},contentPatch:e=>e})},(e,t,n)=>{"use strict";n.d(t,{mijiashe:()=>s,xinwanben:()=>r,ywggzy:()=>c});var o=n(33),a=n(9),i=n(174);const r=()=>(0,i.uk)(e=>{const t=e.innerHTML.match(/《(.*)》/);let n;return 2===t?.length&&(n=t[1]),(0,a.Sf)(["还不错的话请不要忘记向您QQ群和微博里的朋友推荐哦！","小说免费阅读地址："],e),(0,a.j3)([`${n}小说简介：`],e),e},e=>((0,a.Sf)(["手机用户输入地址","提示：浏览器搜索","把本站分享那些需要的小伙伴！找不到书请留言！","【完本神站】"],e),(0,o.is)(e),e),e=>e.querySelector("#next_url").href,(e,t)=>new URL(t).pathname.includes("_")),s=()=>(0,i.uk)(e=>{const t=e.innerHTML.match(/《(.*)》/);let n;return 2===t?.length&&(n=t[1]),(0,a.Sf)(["还不错的话请不要忘记向您QQ群和微博里的朋友推荐哦！","小说免费阅读地址："],e),(0,a.j3)([`${n}小说简介：`],e),e},e=>((0,a.Sf)(["谨记我们的网址，祝大家阅读愉快！别忘了多多宣传宣传。","【提示】：如果觉得此文不错，请推荐给更多小伙伴吧！分享也是一种享受。"],e),(0,o.is)(e),e),e=>e.querySelector("#next_url").href,(e,t)=>new URL(t).pathname.includes("_")),c=()=>(0,i.uk)(e=>e,e=>((0,a.rm)(".posterror",!1,e),e),e=>e.querySelector("div.section-opt:nth-child(1) > a:nth-child(5)")?.href??"",(e,t)=>new URL(t).pathname.includes("_"))},(e,t,n)=>{"use strict";n.d(t,{c226ks:()=>r,znlzd:()=>i});var o=n(174),a=n(9);const i=()=>(0,o.FN)(e=>e,e=>((0,a.rm)("div",!0,e),e),e=>e.querySelector("div.section-opt:nth-child(1) > a:nth-child(5)")?.href??"",(e,t)=>""!==t&&t.split("/").slice(-1)[0].includes("_"),3),r=()=>(0,o.FN)(e=>e,e=>e,e=>e.querySelector("section.g-content-nav > a:nth-child(3)").href,(e,t)=>t.split("/").slice(-1)[0].includes("_"))},(e,t,n)=>{"use strict";n.d(t,{Bilibili:()=>d});var o=n(19),a=n(33),i=n(21),r=n(34),s=n(2),c=n.n(s),l=n(36),u=n(37),p=n(38);class d extends p.Q{constructor(){super(),this.attachmentMode="TM",this.streamZip=!0,this.concurrencyLimit=1,this.maxRunLimit=1}async bookParse(){const e=document.location.href,t=e.match(/readlist\/rl(\d+)/),n=t?t[1]:null,a=document.querySelector(".list-header .title").innerText.trim(),i=document.querySelector(".up-name").innerText.trim(),s=document.querySelector("div.introduce"),p=document.querySelector("img.cover").src,[d,m]=await(0,r.HV)(s),h={};p&&(0,o.if)(p,this.attachmentMode,"cover-").then(e=>{h.cover=e}).catch(e=>c().error(e));const g=[],f=`https://api.bilibili.com/x/article/list/web/articles?id=${n}`,x=await fetch(f,{headers:{Accept:"application/json"},method:"GET"}),b=await x.json();let v=0;for(const t of b.data.articles){v++;const n=new l.I({bookUrl:e,bookname:a,chapterUrl:`https://www.bilibili.com/read/cv${t.id}`,chapterNumber:v,chapterName:t.title,isVIP:!1,isPaid:!1,sectionName:null,sectionNumber:null,sectionChapterNumber:null,chapterParse:this.chapterParse.bind(this),charset:this.charset,options:{chapterimg:t.image_urls}});g.push(n)}return new u.E({bookUrl:e,bookname:a,author:i,introduction:d,introductionHTML:m,additionalMetadate:h,chapters:g})}async chapterParse(e,t,n,o,r,s){const c=(await(0,i.wA)(e)).querySelector("div.opus-module-content"),l=document.createElement("img");l.src=s.chapterimg[0],c.insertBefore(l,c.firstChild);const u=document.createElement("p");u.innerText="章节封面插图",c.insertBefore(u,l);const{dom:p,text:d,images:m}=await(0,a.an)(c,"TM");return{chapterName:t,contentRaw:c,contentText:d,contentHTML:p,contentImages:m,additionalMetadate:null}}}},(e,t,n)=>{"use strict";n.d(t,{esjzone:()=>m});var o=n(9),a=n(38),i=n(37),r=n(21),s=n(33),c=n(36),l=n(34),u=n(19),p=n(2),d=n.n(p);class m extends a.Q{constructor(){super(),this.attachmentMode="TM"}async bookParse(){const e=document.location.href,t=document.querySelector(".book-detail h2").innerText.trim(),n=Array.from(document.querySelectorAll("ul.book-detail li")).find(e=>e.textContent&&e.textContent.includes("作者:"))?.querySelector("a")?.innerText.trim()||"Unknown Author",o=document.querySelector(".description"),[a,r]=await(0,l.HV)(o),s={};s.tags=Array.from(document.querySelectorAll("section.widget-tags.m-t-20 a.tag")).map(e=>e.innerText);const p=!1,m=!1,h=document.querySelector("div.product-gallery")?.querySelector("img")?.getAttribute("src")??null;h&&(0,u.if)(h,this.attachmentMode,"cover-").then(e=>{s.cover=e}).catch(e=>d().error(e));const g=[];let f=0,x=null,b=0,v=0;function w(e){return e?.querySelector("p")?.textContent?.trim()??e?.textContent?.trim()??e?.innerText.trim()}return(document.querySelector("#chapterList")?.childNodes??[]).forEach(n=>{const o=n;switch(o.tagName){case"A":{v++;const a=n.href,i=w(o);f++,v++,g.push(new c.I({bookUrl:e,bookname:t,chapterUrl:a,chapterNumber:f,chapterName:i,isVIP:p,isPaid:m,sectionName:x,sectionNumber:b,sectionChapterNumber:v,chapterParse:this.chapterParse,charset:this.charset,options:{}}));break}case"DETAILS":{x=o.querySelector("summary")?.innerText.trim()??null;const n=o.querySelectorAll("a");b++,v=0,n.forEach(n=>{const o=n.href,a=w(n);f++,v++,g.push(new c.I({bookUrl:e,bookname:t,chapterUrl:o,chapterNumber:f,chapterName:a,isVIP:p,isPaid:m,sectionName:x,sectionNumber:b,sectionChapterNumber:v,chapterParse:this.chapterParse,charset:this.charset,options:{}}))});break}case"P":x=o?.innerText?.trim()??null,b++,v=0}}),new i.E({bookUrl:e,bookname:t,author:n,introduction:a,introductionHTML:r,additionalMetadate:s,chapters:g})}async chapterParse(e,t,n,a,i,c){const l=(await(0,r.wA)(e,i)).querySelector(".forum-content");if(l){(0,o.rm)("h3",!0,l),(0,o.rm)("footer",!0,l);const{dom:e,text:n,images:a}=await(0,s.an)(l,"TM");return{chapterName:t,contentRaw:l,contentText:n,contentHTML:e,contentImages:a,additionalMetadate:null}}return{chapterName:t,contentRaw:null,contentText:null,contentHTML:null,contentImages:[],additionalMetadate:null}}}},(e,t,n)=>{"use strict";n.d(t,{fanqie:()=>h});var o=n(19),a=n(38),i=n(37),r=n(33),s=n(36),c=n(34),l=n(2),u=n.n(l),p=n(21),d=n(1),m=n(4);class h extends a.Q{constructor(){super(),this.attachmentMode="TM",this.concurrencyLimit=1,this.maxRunLimit=1,this.maxSleepTime=5e3,this.sleepTime=800}async bookParse(){const e=document.location.href,t=document.querySelector(".info-name h1").innerText.trim(),n=document.querySelector(".author-name")?.innerText.trim(),a=document.querySelector(".page-abstract-content"),[r,l]=await(0,c.HV)(a),p={};p.tags=Array.from(document.querySelectorAll("span.info-label-grey")).map(e=>e.innerText);const d=[];let m=0,h=null,g=0,f=0;for((document.querySelector(".page-directory-content")?.childNodes??[]).forEach(n=>{const o=n;h=o.querySelector("div.volume")?.innerText.trim(),f=0,g++,o.querySelectorAll("div.chapter-item").forEach(n=>{f++,m++;const o=n.querySelector("a").href,a=n.querySelector("a").innerText,i=!!n.querySelector(".chapter-item-lock");d.push(new s.I({bookUrl:e,bookname:t,chapterUrl:o,chapterNumber:m,chapterName:a,isVIP:i,isPaid:!1,sectionName:h,sectionNumber:g,sectionChapterNumber:f,chapterParse:this.chapterParse,charset:this.charset,options:{}}))})});0===document.querySelectorAll(".book-cover img.loaded").length;)await new Promise(e=>setTimeout(e,1e3));const x=document.querySelector(".book-cover img.loaded")?.getAttribute("src")??null;return x&&(0,o.if)(x,this.attachmentMode,"cover-").then(e=>{p.cover=e}).catch(e=>u().error(e)),new i.E({bookUrl:e,bookname:t,author:n,introduction:r,introductionHTML:l,additionalMetadate:p,chapters:d})}async chapterParse(e,t,n,o,a,i){const s=document.createElement("div");if(n){u().debug("未购买SVIP,尝试第三方API获取章节内容");const t=`https://api.cenguigui.cn/api/tomato/content.php?item_id=${e.match(/\d+/)}`,n=await new Promise(e=>{(0,d.nV)({url:t,method:"GET",onload:function(t){200===t.status?e(t.responseText):(u().error(t),e(""))}})});let o=null,a="";try{o=JSON.parse(n)}catch(e){u().error("JSON.parse(result) error",e)}const i=o?.data??null;i?a=i.need_pay?"你没有购买SVIP,且第三方API未购买VIP":i.content:(u().debug(t,n),a="你没有购买SVIP,且第三方API获取章节内容失败"),a.includes("\n")?s.innerText=a:s.innerHTML=a}else{const t=".muye-reader-content",n=await(0,p.Q2)(e,e=>{const n=e.contentWindow?.document??null;return!!n&&0!==n.querySelectorAll(t).length}),o=n?.contentWindow?.document?.querySelector(t)??null;if(n?.contentWindow&&o){const[e,t]=await async function(e){const t=e.document.querySelector("div.muye-reader-box")?.style,n=t?.fontFamily.split(",")[0]??null,o=e?.document?.styleSheets??null;if(!n||!o)return[null,null];for(const e of Array.from(o))try{const t=e.cssRules;for(const e of Array.from(t)){const t=e,o=t?.style?.fontFamily?.replace(/['"]/g,"")??null;if(o&&n.includes(o)){let e=t.style.getPropertyValue("src");const n=e.match(/url\(["']?([^"')]+)["']?\)/);if(n){e=n[1];const t=e.match(/[^/]+$/);return[t?t[0]:null,e]}}}}catch(e){u().error("Cannot find stylesheet:",e)}return[null,null]}(n?.contentWindow);e&&t?s.innerHTML=await async function(e,t,n){let o=n;const a=await async function(e,t){const n=await async function(e){const t=`https://fastly.jsdelivr.net/gh/404-novel-project/fanqie_font_tables@master/${e}.json`;u().info(`[fanqie-font]开始请求远程字体对照表 ${e}`);let n=10;for(;n>0;){let o=-1;try{const n=await new Promise((n,a)=>{GM_xmlhttpRequest({method:"GET",url:t,onload:t=>{o=t.status,t.status>=200&&t.status<300?(u().info(`[fanqie-font]远程字体对照表 ${e} 下载成功`),n(JSON.parse(t.responseText))):a(new Error(`HTTP status ${t.status}`))},onerror:e=>{a(e)}})});if(n)return n}catch(t){if(u().error(t),n--,404===o||n<0)return void u().info(`[fanqie-font]远程字体对照表 ${e} 下载失败`);await(0,m.yy)(2e3);continue}}}(e);return n?u().debug(`[fanqie-font]字体对照表 ${e}已找到,如果你认为字体对应有错误,请前往https://github.com/404-novel-project/fanqie_font_tables 重新提交字体链接, ${t}`):u().error(`[fanqie-font]字体对照表 ${e} 未找到,请前往https://github.com/404-novel-project/fanqie_font_tables 提交字体链接, ${t}`),n}(e,t);if(!a)return`[fanqie-font]字体对照表 ${e} 未找到,请前往https://github.com/404-novel-project/fanqie_font_tables 提交字体链接, ${t}`;for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e)){const t=a[e];o=o.replaceAll(e,t)}return o}(e,t,o.innerHTML):(u().error("字体替换失败,字体名称:",e,"字体链接:",t),s.innerHTML="字体替换失败")}else s.innerHTML="获取章节内容失败";n?.remove()}const{dom:c,text:l,images:h}=await(0,r.an)(s,"TM");return{chapterName:t,contentRaw:s,contentText:l,contentHTML:c,contentImages:h,additionalMetadate:null}}}},(e,t,n)=>{"use strict";n.d(t,{Mangguoshufang:()=>m});var o=n(19),a=n(33),i=n(21),r=n(34),s=n(2),c=n.n(s),l=n(36),u=n(37),p=n(38),d=n(182);class m extends p.Q{weimengClient=null;constructor(){super(),this.attachmentMode="TM",this.concurrencyLimit=1,this.sleepTime=500,this.maxSleepTime=2e3;try{c().debug("[Mangguoshufang] Initializing WeimengCMS client..."),this.weimengClient=(0,d.ng)(window.location.origin),c().debug("[Mangguoshufang] WeimengCMS client initialized successfully")}catch(e){c().error("[Mangguoshufang] Failed to initialize WeimengCMS client:",e),this.weimengClient=null}}ensureWeimengClient(){if(!this.weimengClient)throw new Error("[Mangguoshufang] WeimengCMS client is not initialized. Cannot proceed with WeimengCMS operations.");return this.weimengClient}async getChapterListPageUrl(){try{const e=this.ensureWeimengClient().getConfig(),t=document.querySelector(e.selectors.CHAPTER_LIST_LINK);if(!t)return c().warn(`[Mangguoshufang] ${e.errors.NO_CHAPTER_LIST_LINK} with selector '${e.selectors.CHAPTER_LIST_LINK}'`),null;const n=t.href;return c().debug(`[Mangguoshufang] Found chapter list page URL: ${n}`),n}catch(e){return c().error("[Mangguoshufang] Error getting chapter list page URL:",e),null}}async extractBookMetadata(){const e=this.ensureWeimengClient().getConfig(),t=document.location.href,n=document.querySelector(e.selectors.BOOK_TITLE)?.innerText.trim(),a=document.querySelector(e.selectors.BOOK_AUTHOR)?.innerText.trim().replace(/^作者：/,""),i=document.querySelector(e.selectors.BOOK_INTRO),[s,l]=await(0,r.HV)(i,e=>e),u=[""];document.querySelectorAll(e.selectors.BOOK_TAGS).forEach(e=>u.push(e.innerText.trim()));const p={language:"zh",tags:u},d=document.querySelector(e.selectors.BOOK_COVER)?.getAttribute("src")||null;return d&&(0,o.if)(d,this.attachmentMode,"cover-").then(e=>{p.cover=e}).catch(e=>c().error(e)),{bookUrl:t,bookname:n,author:a,introduction:s,introductionHTML:l,additionalMetadate:p}}async fetchChapterList(){const e=this.ensureWeimengClient().getConfig(),t=document.querySelectorAll("nonexistent"),n=await this.getChapterListPageUrl();if(!n)return c().warn("[Mangguoshufang] Chapter list page URL not found. Returning empty chapter list."),t;try{c().debug(`[Mangguoshufang] Fetching chapter list from separate page: ${n}`);const t=(await(0,i.wA)(n,this.charset)).querySelectorAll(e.selectors.CHAPTER_LINKS);return 0===t.length&&c().warn(`[Mangguoshufang] ${e.errors.NO_CHAPTERS_FOUND}: ${n}`),t}catch(n){return c().warn(`[Mangguoshufang] ${e.errors.CHAPTER_LIST_FETCH_FAILED}: ${n}. Returning empty chapter list.`),t}}createChapterObjects(e,t){const n=[];let o=0;for(const a of Array.from(e)){const e=a.innerText.trim(),i=a.href,r=this.ensureWeimengClient().extractChapterIdFromUrl(i);if(!r){c().warn(`Could not extract chapter ID from URL: ${i}`);continue}o++;const s=new l.I({bookUrl:t.bookUrl,bookname:t.bookname,chapterUrl:i,chapterNumber:o,chapterName:e,isVIP:!1,isPaid:!1,sectionName:null,sectionNumber:null,sectionChapterNumber:null,chapterParse:this.chapterParse.bind(this),charset:this.charset,options:{chapterId:r}});n.push(s)}return n}async bookParse(){const e=await this.extractBookMetadata(),t=await this.fetchChapterList(),n=this.createChapterObjects(t,e);return new u.E({bookUrl:e.bookUrl,bookname:e.bookname,author:e.author,introduction:e.introduction,introductionHTML:e.introductionHTML,additionalMetadate:e.additionalMetadate,chapters:n})}async chapterParse(e,t,n,o,i,r){const{chapterId:s}=r;if(!s)return c().error(`No chapter ID found for ${e}`),{chapterName:t,contentRaw:null,contentText:null,contentHTML:null,contentImages:null,additionalMetadate:null};try{c().debug(`[Chapter] Requesting WeimengCMS API for chapter ID: ${s}`);const n=this.ensureWeimengClient(),o=await n.fetchChapterContent(s,e),i=n.processChapterContent(o),r=o.chapter_name||t,{dom:l,text:u,images:p}=await(0,a.an)(i,this.attachmentMode);return{chapterName:r,contentRaw:i,contentText:u,contentHTML:l,contentImages:p,additionalMetadate:null}}catch(n){return c().error(`[Chapter] Failed to fetch content for ${e}:`,n),{chapterName:t,contentRaw:null,contentText:null,contentHTML:null,contentImages:null,additionalMetadate:null}}}}},(e,t,n)=>{"use strict";n.d(t,{ng:()=>i});const o={baseUrl:"",selectors:{BOOK_TITLE:"h2.works-intro-title > strong",BOOK_AUTHOR:"p.works-intro-digi > span",BOOK_INTRO:"p.works-intro-short",BOOK_TAGS:"#tags-show > a",BOOK_COVER:"div.works-cover > img",CHAPTER_LIST_LINK:"div.works-chapter-wr > ul > li.active > a",CHAPTER_LINKS:"ol > li > p a"},api:{ENDPOINT_PATTERN:"/wmcms/ajax/index.php",CHAPTER_ACTION:"novel.getchapter",SUCCESS_CODE:200},urlPatterns:{CHAPTER_ID_REGEX:/\/read\/(\d+)\.html$/},errors:{NO_CHAPTER_LIST_LINK:"Chapter list page link not found",NO_CHAPTERS_FOUND:"No chapters found in chapter list page",CHAPTER_LIST_FETCH_FAILED:"Failed to fetch chapter list from separate page",NO_CHAPTER_ID:"Could not extract chapter ID from URL",API_ERROR:"API Error",NO_CHAPTER_DATA:"No chapter data found"}};class a{config;constructor(e){const t=function(e){const t=[];return e.baseUrl&&"string"==typeof e.baseUrl||t.push("baseUrl is required and must be a string"),e.selectors&&"object"==typeof e.selectors||t.push("selectors configuration is required"),e.api&&"object"==typeof e.api||t.push("api configuration is required"),{isValid:0===t.length,errors:t}}(e);if(!t.isValid)throw new Error(`Invalid WeimengCMS configuration: ${t.errors.join(", ")}`);this.config=e}buildApiRequest(e){const t=new URLSearchParams({action:this.config.api.CHAPTER_ACTION,cid:e,format:"1"});return`${this.config.baseUrl}${this.config.api.ENDPOINT_PATTERN}?${t.toString()}`}async fetchChapterContent(e,t){if(!function(e){return"string"==typeof e&&e.length>0&&/^\d+$/.test(e)}(e))throw new Error(`Invalid chapter ID: ${e}`);const n=this.buildApiRequest(e);try{const e=await fetch(n,{method:"GET",headers:{Accept:"application/json, text/plain, */*",Referer:t||this.config.baseUrl,"User-Agent":navigator.userAgent}});return await this.handleApiResponse(e)}catch(e){throw console.error("[WeimengCMS] Error fetching chapter content:",e),e}}processChapterContent(e){const t=document.createElement("div");return Array.isArray(e.content)?e.content.forEach(e=>{if(e.trim()){const n=document.createElement("p");n.textContent=e.trim(),t.appendChild(n);const o=document.createElement("br");t.appendChild(o)}}):console.warn("[WeimengCMS] Chapter content is not an array:",e.content),t}async handleApiResponse(e){if(!e.ok)throw new Error(`HTTP ${e.status}: ${e.statusText}`);try{const t=function(e,t=200){const n=[];if("object"!=typeof(o=e)||null===o||"number"!=typeof o.code||"string"!=typeof o.msg||"object"!=typeof o.data||null===o.data)return n.push("Invalid API response structure"),{isValid:!1,errors:n};var o;if(!function(e,t=200){return e.code===t}(e,t))return n.push(`API returned error code: ${e.code} - ${e.msg}`),{isValid:!1,errors:n};if(!function(e){return void 0!==e.data.chapter&&"object"==typeof e.data.chapter&&null!==e.data.chapter&&"string"==typeof e.data.chapter.chapter_name&&Array.isArray(e.data.chapter.content)}(e))return n.push("No valid chapter data found in response"),{isValid:!1,errors:n};const a=e.data.chapter;return i=a.content,Array.isArray(i)&&i.length>0&&i.some(e=>"string"==typeof e&&e.trim().length>0)?{isValid:!0,errors:[],chapterData:a}:(n.push("Chapter content is empty or invalid"),{isValid:!1,errors:n});var i}(await e.json(),this.config.api.SUCCESS_CODE);if(!t.isValid)throw new Error(`${this.config.errors.API_ERROR}: ${t.errors.join(", ")}`);return t.chapterData}catch(e){throw console.error("[WeimengCMS] Error processing API response:",e),e}}extractChapterIdFromUrl(e){const t=e.match(this.config.urlPatterns.CHAPTER_ID_REGEX);return t?t[1]:null}getConfig(){return{...this.config}}}function i(e,t){const n={baseUrl:(i={baseUrl:e,...t}).baseUrl||o.baseUrl,selectors:{...o.selectors,...i.selectors},api:{...o.api,...i.api},urlPatterns:{...o.urlPatterns,...i.urlPatterns},errors:{...o.errors,...i.errors}};var i;return new a(n)}},(e,t,n)=>{"use strict";n.d(t,{Pilishuwu:()=>m});var o=n(19),a=n(33),i=n(21),r=n(34),s=n(2),c=n.n(s),l=n(36),u=n(37),p=n(38),d=n(182);class m extends p.Q{weimengClient=null;constructor(){super(),this.attachmentMode="naive",this.concurrencyLimit=1,this.sleepTime=500,this.maxSleepTime=2e3;try{c().debug("[Pilishuwu] Initializing WeimengCMS client..."),this.weimengClient=(0,d.ng)(window.location.origin,{selectors:{BOOK_AUTHOR:"h2.works-intro-title"}}),c().debug("[Pilishuwu] WeimengCMS client initialized successfully")}catch(e){c().error("[Pilishuwu] Failed to initialize WeimengCMS client:",e),this.weimengClient=null}}ensureWeimengClient(){if(!this.weimengClient)throw new Error("[Pilishuwu] WeimengCMS client is not initialized. Cannot proceed with WeimengCMS operations.");return this.weimengClient}async getChapterListPageUrl(){try{const e=this.ensureWeimengClient().getConfig(),t=document.querySelector(e.selectors.CHAPTER_LIST_LINK);if(!t)return c().warn(`[Pilishuwu] ${e.errors.NO_CHAPTER_LIST_LINK} with selector '${e.selectors.CHAPTER_LIST_LINK}'`),null;const n=t.href;return c().debug(`[Pilishuwu] Found chapter list page URL: ${n}`),n}catch(e){return c().error("[Pilishuwu] Error getting chapter list page URL:",e),null}}async extractBookMetadata(){const e=this.ensureWeimengClient().getConfig(),t=document.location.href,n=document.querySelector(e.selectors.BOOK_TITLE)?.innerText.trim(),a=document.querySelector(e.selectors.BOOK_AUTHOR),i=(a?.innerText.trim()||"").match(/（作者：([^）]+)）/),s=i?i[1].trim():"",l=document.querySelector(e.selectors.BOOK_INTRO),[u,p]=await(0,r.HV)(l,e=>e),d=[""];document.querySelectorAll(e.selectors.BOOK_TAGS).forEach(e=>d.push(e.innerText.trim()));const m={language:"zh",tags:d},h=document.querySelector(e.selectors.BOOK_COVER)?.getAttribute("src")||null;return h&&(0,o.if)(window.location.origin+h,this.attachmentMode,"cover-").then(e=>{m.cover=e}).catch(e=>c().error(e)),{bookUrl:t,bookname:n,author:s,introduction:u,introductionHTML:p,additionalMetadate:m}}async fetchChapterList(){const e=this.ensureWeimengClient().getConfig(),t=document.querySelectorAll("nonexistent"),n=await this.getChapterListPageUrl();if(!n)return c().warn("[Pilishuwu] Chapter list page URL not found. Returning empty chapter list."),t;try{c().debug(`[Pilishuwu] Fetching chapter list from separate page: ${n}`);const t=(await(0,i.wA)(n,this.charset)).querySelectorAll(e.selectors.CHAPTER_LINKS);return 0===t.length&&c().warn(`[Pilishuwu] ${e.errors.NO_CHAPTERS_FOUND}: ${n}`),t}catch(n){return c().warn(`[Pilishuwu] ${e.errors.CHAPTER_LIST_FETCH_FAILED}: ${n}. Returning empty chapter list.`),t}}createChapterObjects(e,t){const n=[];let o=0;for(const a of Array.from(e)){const e=a.innerText.trim(),i=a.href,r=this.ensureWeimengClient().extractChapterIdFromUrl(i);if(!r){c().warn(`Could not extract chapter ID from URL: ${i}`);continue}o++;const s=new l.I({bookUrl:t.bookUrl,bookname:t.bookname,chapterUrl:i,chapterNumber:o,chapterName:e,isVIP:!1,isPaid:!1,sectionName:null,sectionNumber:null,sectionChapterNumber:null,chapterParse:this.chapterParse.bind(this),charset:this.charset,options:{chapterId:r}});n.push(s)}return n}async bookParse(){const e=await this.extractBookMetadata(),t=await this.fetchChapterList(),n=this.createChapterObjects(t,e);return new u.E({bookUrl:e.bookUrl,bookname:e.bookname,author:e.author,introduction:e.introduction,introductionHTML:e.introductionHTML,additionalMetadate:e.additionalMetadate,chapters:n})}async chapterParse(e,t,n,o,i,r){const{chapterId:s}=r;if(!s)return c().error(`No chapter ID found for ${e}`),{chapterName:t,contentRaw:null,contentText:null,contentHTML:null,contentImages:null,additionalMetadate:null};try{c().debug(`[Chapter] Requesting WeimengCMS API for chapter ID: ${s}`);const n=this.ensureWeimengClient(),o=await n.fetchChapterContent(s,e),i=n.processChapterContent(o),r=o.chapter_name||t,{dom:l,text:u,images:p}=await(0,a.an)(i,this.attachmentMode);return{chapterName:r,contentRaw:i,contentText:u,contentHTML:l,contentImages:p,additionalMetadate:null}}catch(n){return c().error(`[Chapter] Failed to fetch content for ${e}:`,n),{chapterName:t,contentRaw:null,contentText:null,contentHTML:null,contentImages:null,additionalMetadate:null}}}}},(e,t,n)=>{"use strict";n.d(t,{Xiguashuwu:()=>Te});var o={};n.r(o),n.d(o,{analyzeLayout:()=>de,det:()=>J,init:()=>$,initDet:()=>Z,initDocDirCls:()=>Y,initRec:()=>ee,loadImg:()=>W,ocr:()=>Q,rec:()=>K,rotateImg:()=>fe,setOCREnv:()=>F});var a=n(33),i=n(21),r=n(9),s=n(34),c=n(2),l=n.n(c),u=n(36),p=n(37),d=n(38),m=n(19),h=n(1),g=n(45);class f{domain;remoteUrl;learnedCacheKey;sessionId;mappings=null;learnedMappings=null;loading=null;constructor(e,t){if(!e)throw new Error("Domain name is required for FilenameDecoder initialization");this.domain=e,this.sessionId=t||window.workerId,this.remoteUrl=`https://fastly.jsdelivr.net/gh/oovz/novel-downloader-image-to-text-mapping@master/filename-mappings/${e}.min.json`,this.learnedCacheKey=`filename-mappings-learned-${e}`,this.loadLearnedMappings().catch(e=>{l().error("Failed to initialize learned mappings:",e)}),l().debug(`FilenameDecoder initialized for domain: ${e}, session: ${this.sessionId}`)}async decode(e){return l().warn("FilenameDecoder.decode() called with imageData - this decoder requires filename context from URL"),null}async decodeFromFilename(e){try{if(await this.ensureMappingsLoaded(),this.mappings?.has(e)){const t=this.mappings.get(e);return l().debug(`Decoded character from server mappings: ${t} for filename: ${e}`),t}if(this.learnedMappings?.has(e)){const t=this.learnedMappings.get(e);return l().debug(`Decoded character from learned mappings: ${t} for filename: ${e}`),t}return l().debug(`No character mapping found for filename: ${e}`),null}catch(e){return l().error("Error in filename decoding:",e),null}}getMappingsCount(){return{remote:this.mappings?.size??0,learned:this.learnedMappings?.size??0}}async clearCache(){g.j.getInstance().clearSession(this.sessionId),this.mappings=null,this.loading=null}async ensureMappingsLoaded(){this.mappings||(this.loading||(this.loading=this.loadMappings()),await this.loading)}async loadMappings(){try{const e=g.j.getInstance();this.mappings=await e.getMappingsWithLoading(this.sessionId,this.domain,g.$.FILENAME,()=>this.fetchRemoteMappings()),l().debug(`Loaded ${this.mappings.size} filename mappings for session ${this.sessionId}`)}catch(e){throw l().error("Failed to load filename mappings:",e),e}}async fetchRemoteMappings(){try{l().debug("Fetching filename mappings from remote");const e=await(0,i.bx)(this.remoteUrl);if(!e)throw new Error("Empty response from remote URL");const t=JSON.parse(e);if("object"!=typeof t||!t)throw new Error("Invalid mapping data format");const n=new Map;for(const[e,o]of Object.entries(t))"string"==typeof o?n.set(e,o):l().warn(`Skipping invalid mapping entry: ${e} -> ${o} (not a string)`);return l().debug(`Successfully loaded ${n.size} filename mappings from remote`),n}catch(e){throw l().error("Failed to fetch filename mappings:",e),e}}async loadLearnedMappings(){try{const e=await(0,h.er)(this.learnedCacheKey);if(e){const t=JSON.parse(e);this.learnedMappings=new Map(Object.entries(t)),l().debug(`Loaded ${this.learnedMappings.size} learned filename mappings from cache`)}else this.learnedMappings=new Map}catch(e){l().error("Failed to load learned filename mappings:",e),this.learnedMappings=new Map}}async learnMapping(e,t){try{this.learnedMappings||(this.learnedMappings=new Map),this.learnedMappings.set(e,t),await this.saveLearnedMappings(),l().debug(`Learned new filename mapping: ${e} -> ${t}`)}catch(e){l().error("Error learning filename mapping:",e)}}async clearLearnedMappings(){await(0,h.JU)(this.learnedCacheKey),this.learnedMappings=new Map,l().debug("Cleared all learned filename mappings")}exportLearnedMappings(){return this.learnedMappings?Object.fromEntries(this.learnedMappings):{}}async importLearnedMappings(e){this.learnedMappings=new Map(Object.entries(e)),await this.saveLearnedMappings(),l().debug(`Imported ${this.learnedMappings.size} learned filename mappings`)}async saveLearnedMappings(){try{if(this.learnedMappings){const e=Object.fromEntries(this.learnedMappings);await(0,h.mN)(this.learnedCacheKey,JSON.stringify(e)),l().debug(`Saved ${this.learnedMappings.size} learned filename mappings to storage`)}}catch(e){l().error("Failed to save learned filename mappings:",e)}}}const x=class{hashSize;constructor(e=8){this.hashSize=e}async hash(e){const t=await this.preprocessImage(e);return this.calculateDHash(t)}static hammingDistance(e,t){if(e.length!==t.length)throw new Error("Hashes must be of equal length.");return((BigInt(`0b${e}`)^BigInt(`0b${t}`)).toString(2).match(/1/g)||[]).length}async preprocessImage(e){const t=await this.loadImageFromBlob(e),n=document.createElement("canvas"),o=n.getContext("2d");if(!o)throw new Error("Could not get 2D canvas context.");const a=this.hashSize+1,i=this.hashSize;n.width=a,n.height=i,o.drawImage(t,0,0,a,i);const r=o.getImageData(0,0,a,i).data,s=new Uint8ClampedArray(a*i);for(let e=0,t=0;e<r.length;e+=4,t++)s[t]=.299*r[e]+.587*r[e+1]+.114*r[e+2];return s}calculateDHash(e){let t="";const n=this.hashSize+1;for(let o=0;o<this.hashSize;o++)for(let a=0;a<this.hashSize;a++)t+=e[o*n+a]<e[o*n+a+1]?"1":"0";return t}loadImageFromBlob(e){return new Promise((t,n)=>{const o=new Image,a=URL.createObjectURL(e);o.onload=()=>{URL.revokeObjectURL(a),t(o)},o.onerror=e=>{URL.revokeObjectURL(a),n(new Error("Failed to load image from blob"))},o.src=a})}};class b{domain;remoteUrl;learnedCacheKey;sessionId;mappings=null;learnedMappings=null;loading=null;imageHasher;constructor(e,t){if(!e)throw new Error("Domain name is required for HashDecoder initialization");this.domain=e,this.sessionId=t||window.workerId,this.remoteUrl=`https://fastly.jsdelivr.net/gh/oovz/novel-downloader-image-to-text-mapping@master/hash-mappings/${e}.min.json`,this.learnedCacheKey=`hash-mappings-learned-${e}`,this.imageHasher=new x,this.loadLearnedMappings().catch(e=>{l().error("Failed to initialize learned mappings:",e)}),l().debug(`HashDecoder initialized for domain: ${e}, session: ${this.sessionId}`)}async decode(e){try{await this.ensureMappingsLoaded();const t=await this.generateImageHash(e);if(this.mappings?.has(t)){const e=this.mappings.get(t);return l().debug(`Decoded text from server mappings: ${e} for hash: ${t}`),e}if(this.learnedMappings?.has(t)){const e=this.learnedMappings.get(t);return l().debug(`Decoded text from learned mappings: ${e} for hash: ${t}`),e}return l().debug(`No mapping found for hash: ${t}`),null}catch(e){return l().error("Error in hash decoding:",e),null}}async learnMapping(e,t){try{const n=await this.generateImageHash(e);this.learnedMappings||(this.learnedMappings=new Map),this.learnedMappings.set(n,t),await this.saveLearnedMappings(),l().debug(`Learned new mapping: ${n} -> ${t}`)}catch(e){l().error("Error learning mapping:",e)}}getMappingsCount(){return{remote:this.mappings?.size??0,learned:this.learnedMappings?.size??0}}async clearCache(){g.j.getInstance().clearSession(this.sessionId),this.mappings=null,this.loading=null}async clearLearnedMappings(){await(0,h.JU)(this.learnedCacheKey),this.learnedMappings=new Map}exportLearnedMappings(){return this.learnedMappings?Object.fromEntries(this.learnedMappings):{}}async importLearnedMappings(e){this.learnedMappings=new Map(Object.entries(e)),await this.saveLearnedMappings(),l().debug(`Imported ${this.learnedMappings.size} learned mappings`)}async ensureMappingsLoaded(){this.mappings||(this.loading||(this.loading=this.loadMappings()),await this.loading)}async loadMappings(){try{const e=g.j.getInstance();this.mappings=await e.getMappingsWithLoading(this.sessionId,this.domain,g.$.HASH,()=>this.fetchRemoteMappings()),l().debug(`Loaded ${this.mappings.size} hash mappings for session ${this.sessionId}`)}catch(e){throw l().error("Failed to load hash mappings:",e),e}}async fetchRemoteMappings(){try{l().debug("Fetching hash mappings from remote");const e=await(0,i.bx)(this.remoteUrl);if(!e)throw new Error("Empty response from remote URL");const t=JSON.parse(e);if("object"!=typeof t||!t)throw new Error("Invalid mapping data format");const n=new Map;for(const[e,o]of Object.entries(t))"string"==typeof o?n.set(e,o):l().warn(`Skipping invalid mapping entry: ${e} -> ${o} (not a string)`);return l().debug(`Successfully loaded ${n.size} hash mappings from remote`),n}catch(e){throw l().error("Failed to fetch hash mappings:",e),e}}async loadLearnedMappings(){try{const e=await(0,h.er)(this.learnedCacheKey);if(e){const t=JSON.parse(e);this.learnedMappings=new Map(Object.entries(t)),l().debug(`Loaded ${this.learnedMappings.size} learned hash mappings from storage`)}else this.learnedMappings=new Map}catch(e){l().error("Failed to load learned mappings:",e),this.learnedMappings=new Map}}async saveLearnedMappings(){try{if(this.learnedMappings){const e=Object.fromEntries(this.learnedMappings);await(0,h.mN)(this.learnedCacheKey,JSON.stringify(e)),l().debug(`Saved ${this.learnedMappings.size} learned mappings to storage`)}}catch(e){l().error("Failed to save learned mappings:",e)}}async generateImageHash(e){const t=new Blob([e]);return await this.imageHasher.hash(t)}}var v=Object.defineProperty,w=(e,t,n)=>((e,t,n)=>t in e?v(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);let y=(e,t)=>new OffscreenCanvas(e,t);function k(e,t){return y(e,t)}function S(e){return e>0?Math.floor(e):Math.ceil(e)}function T(e,t,n){return Math.max(t,Math.min(e,n))}function A(e,t,n,o,a="high"){return function(e,t,n,o,a="high"){const i=C(e),r=k(t,n).getContext("2d");return r.imageSmoothingEnabled=!1!==a,a&&(r.imageSmoothingQuality=a),"fill"===o?r.scale(Math.min(t/e.width,1),Math.min(n/e.height,1)):r.scale(t/e.width,n/e.height),r.drawImage(i,0,0),r}(e,t,n,o,a).getImageData(0,0,t,n)}function C(e,t,n){const o=k(t||e.width,n||e.height);return o.getContext("2d").putImageData(e,0,0),o}function M(e,t,n){const o=e.data,a=[],i=[],r=[];let s=0,c=0;for(let l=0;l<o.length;l+=4)r[c]||(r[c]=[]),i[c]||(i[c]=[]),a[c]||(a[c]=[]),a[c][s]=(o[l]/255-t[0])/n[0],i[c][s]=(o[l+1]/255-t[1])/n[1],r[c][s]=(o[l+2]/255-t[2])/n[2],s++,s===e.width&&(s=0,c++);return[r,i,a]}class N{constructor(e){w(this,"tl",[]),w(this,"name"),this.name=e}l(e){const t=performance.now();this.tl.push({t:e,n:t});const n=[];for(let e=1;e<this.tl.length;e++){const t=this.tl[e].n-this.tl[e-1].n,o=this.tl[e-1].t,a=n.find(e=>e.n===o);a?(a.c++,a.d+=t):n.push({d:t,n:o,c:1})}const o=[];for(const e of n){const t=e.c>1?`${e.n}x${e.c}`:e.n;o.push(`${t} ${e.d}`)}o.push(this.tl.at(-1).t),console.log(`${this.name} ${n.map(e=>e.d).reduce((e,t)=>e+t,0)}ms: `,o.join(" "))}}function E(e,t,n){return(t.x-e.x)*(n.y-e.y)-(t.y-e.y)*(n.x-e.x)}function P(e,t,n){return 0!==e[n][t]&&(n>0&&0===e[n-1][t]||n<e.length-1&&0===e[n+1][t]||t>0&&0===e[n][t-1]||t<e[0].length-1&&0===e[n][t+1])}function q(e,t,n,o,a){const i=[];let r={x:n,y:o},s={x:n-1,y:o};const c=new Map,l=new Map;function u(t){return t.x+t.y*e[0].length}function p(t){const n=Math.floor(t/e[0].length);return{x:t%e[0].length,y:n}}function d(e){const t=u(r);s=r,r={x:r.x+L[e].dx,y:r.y+L[e].dy},function(e,t){const n=u(e),o=u(t),a=I(t.x-e.x,t.y-e.y),i=I(e.x-t.x,e.y-t.y),r=c.get(n)??[],s=c.get(o)??[];c.set(n,[...r,a]),c.set(o,[...s,i])}(s,r);const n=(l.get(t)??[]).filter(t=>t!==e);n.length>0?l.set(t,n):l.delete(t)}c.set(u(r),[I(-1,0)]);let m=0;do{i.push(r),t[r.y][r.x]=!0;const n=_(e,c,r);if(0===n.length){if(0===l.size)break;const[e,t]=Array.from(l.entries()).at(0),n=t[0];r=p(e),d(n)}if(n.length>=1){const e=u(r);l.set(e,n),d(n[0])}m++}while(m<1e9);return a?function(e){if(e.length<3)return[...e];const t=[e[0]];for(let n=1;n<e.length-1;n++){const o=t[t.length-1],a=e[n];j(o,a,e[n+1])||t.push(a)}return t.push(e[e.length-1]),t}(i):i}const L=[{dx:1,dy:0},{dx:1,dy:-1},{dx:0,dy:-1},{dx:-1,dy:-1},{dx:-1,dy:0},{dx:-1,dy:1},{dx:0,dy:1},{dx:1,dy:1}];function _(e,t,n){const o=t.get((i=n).x+i.y*e[0].length)??[],a=[];var i;for(const[t,{dx:i,dy:r}]of L.entries()){if(o.includes(t))continue;const s=n.x+i,c=n.y+r;s>=0&&s<e[0].length&&c>=0&&c<e.length&&P(e,s,c)&&a.push(t)}return a}function I(e,t){const n=L.findIndex(({dx:n,dy:o})=>e===n&&t===o);return-1===n?0:n}function j(e,t,n){return(t.x-e.x)*(n.y-t.y)===(t.y-e.y)*(n.x-t.x)}const U=new N("t"),z=new N("af_det");let D=!1,O=!1,H=null;function R(e,t){var n;const o=document.createElement("canvas");o.width=e.width,o.height=e.height,o.getContext("2d").drawImage(e,0,0),t&&(o.id=t);try{null==(n=null==document?void 0:document.body)||n.append(o)}catch{}}let V=(e,t,n)=>new ImageData(e,t,n);function B(...e){O&&console.log(...e)}async function $(e){F(e);const t={det:"det"in e?e.det:{input:e.detPath,ratio:e.detRatio,on:async t=>{e.onDet&&e.onDet(t),e.onProgress&&e.onProgress("det",1,1)}},rec:"rec"in e?e.rec:{input:e.recPath,decodeDic:e.dic,imgh:e.imgh,on:async(t,n,o)=>{e.onRec&&e.onRec(t,n),e.onProgress&&e.onProgress("rec",o,t+1)}},docCls:"rec"in e?e.docCls:e.docClsPath?{input:e.docClsPath}:void 0,analyzeLayout:"rec"in e?e.analyzeLayout:{columnsTip:e.columnsTip,docDirs:e.docDirs},...e},n=await async function(e){G();const t={ort:e.ort,ortOption:e.ortOption},n=e.docCls?await Y({...e.docCls,...t}):void 0,o=await Z({...e.det,...t}),a=await ee({...e.rec,...t});return{ocr:async t=>{let i=await W(t),r=0;n&&(r=await n.docCls(i),B("dir",r),i=fe(i,360-r));const s=await o.det(i),c=await a.rec(s),l=de(c,e.analyzeLayout);return B(c,l),U.l("end"),{src:c,...l,docDir:r}},det:o.det,rec:a.rec}}(t);return H=n,n}function F(e){D=!!e.dev,O=D||!!e.log,D||(U.l=()=>{},z.l=()=>{}),e.canvas&&function(e){y=e}(e.canvas),e.imageData&&(V=e.imageData)}async function W(e){let t;if(typeof window>"u"){const t=e;if(!t.data||!t.width||!t.height)throw new Error("invalid image data");return t}if("string"==typeof e?(t=new Image,t.src=e,await new Promise(e=>{t.onload=e})):(ImageData,t=e),t instanceof HTMLImageElement){const e=k(t.naturalWidth,t.naturalHeight).getContext("2d");if(!e)throw new Error("canvas context is null");e.drawImage(t,0,0),t=e.getImageData(0,0,t.naturalWidth,t.naturalHeight)}if(t instanceof HTMLCanvasElement){const e=t.getContext("2d");if(!e)throw new Error("canvas context is null");t=e.getImageData(0,0,t.width,t.height)}return t}function G(){try{k(1,1),V(new Uint8ClampedArray(4),1,1)}catch(e){throw console.log("nodejs need set canvas, please use setOCREnv to set canvas and imageData"),e}}async function Q(e){if(!H)throw new Error("need init");return H.ocr(e)}async function J(e){if(!H)throw new Error("need init");return H.det(e)}async function K(e){if(!H)throw new Error("need init");return H.rec(e)}function X(e,t,n){return"string"==typeof t?e.InferenceSession.create(t,n):t instanceof ArrayBuffer||t instanceof SharedArrayBuffer?e.InferenceSession.create(new Uint8Array(t),n):e.InferenceSession.create(t,n)}async function Y(e){const t=await X(e.ort,e.input,e.ortOption);return{docCls:async n=>async function(e,t,n,o,a,i){const{transposedData:r,image:s}=function(e,t,n){const o=A(e,t,n);return{transposedData:M(o,[.485,.456,.406],[.229,.224,.225]),image:o}}(e,a,i),c=(await async function(e,t,n,o){const a=e.flat(Number.POSITIVE_INFINITY),i=Float32Array.from(a),r=new n.Tensor("float32",i,[1,3,t.height,t.width]),s={};s[o.inputNames[0]]=r;const c=await o.run(s);return Object.values(c)}(r,s,t,n))[0].data,l=c.reduce((e,t)=>Math.max(e,t));return o[c.findIndex(e=>e===l)]}(n,e.ort,t,[0,90,180,270],224,224)}}async function Z(e){G();let t=1;const n=await X(e.ort,e.input,e.ortOption);return void 0!==e.ratio&&(t=e.ratio),{det:async function(o){var a;const i=o;D&&R(C(i)),U.l("pre_det");const{data:r,width:s,height:c}=function(e,t){const n=Math.max(32*Math.round(e.height*t/32),32),o=Math.max(32*Math.round(e.width*t/32),32);D&&R(C(e));const a=A(e,o,n,"fill"),i=M(a,[.485,.456,.406],[.229,.224,.225]);return B(a),D&&R(C(a)),{data:{transposedData:i,image:a},width:o,height:n}}(i,t),{transposedData:l,image:u}=r;U.l("det");const p=await async function(e,t,n,o){const a=Float32Array.from(e.flat(3)),i=new o.Tensor("float32",a,[1,3,t.height,t.width]),r={};return r[n.inputNames[0]]=i,(await n.run(r))[n.outputNames[0]]}(l,u,n,e.ort);U.l("aft_det");const d=function(e,t,n,o){z.l("");const a=Math.min(o.width,t),i=Math.min(o.height,n),{data:r,width:s,height:c}=e,l=new Uint8Array(s*c);for(let e=0;e<r.length;e++){const t=r[e]>.3?255:0;l[e]=t}if(D){const e=new Uint8ClampedArray(s*c*4);for(let t=0;t<r.length;t++){const n=4*t,o=r[t]>.3?255:0;e[n]=e[n+1]=e[n+2]=o,e[n+3]=255,l[t]=o}R(C(V(e,s,c)),"det_ru")}z.l("edge");const u=[],p=[];for(let e=0;e<c;e++)p.push(Array.from(l.slice(e*s,e*s+s)));const d=[];if(function(e,t,n="CHAIN_APPROX_SIMPLE"){const o=e.length,a=o>0?e[0].length:0,i=Array.from({length:o},()=>new Array(a).fill(!1));for(let r=0;r<o;r++)for(let o=0;o<a;o++)if(0!==e[r][o]&&!i[r][o]&&P(e,o,r)){const a=q(e,i,o,r,"CHAIN_APPROX_SIMPLE"===n);t.push(a)}}(p,d),D){const e=document.querySelector("#det_ru").getContext("2d");for(const t of d){e.moveTo(t[0].x,t[0].y);for(const n of t)e.lineTo(n.x,n.y);e.strokeStyle="red",e.closePath(),e.stroke()}}for(let e=0;e<d.length;e++){z.l("get_box");const t=3,n=d[e],{points:r,sside:s}=oe(n);if(s<t)continue;const c=ne(r),l=c.points;if(c.sside<t+2)continue;const p=o.width/a,m=o.height/i;for(let e=0;e<l.length;e++)l[e][0]*=p,l[e][1]*=m;z.l("order");const h=ie(l);for(const e of h)e[0]=T(Math.round(e[0]),0,o.width),e[1]=T(Math.round(e[1]),0,o.height);const g=S(ae(h[0],h[1])),f=S(ae(h[0],h[3]));if(g<=3||f<=3)continue;xe(l,"","red","det_ru"),z.l("crop");const x=re(o,l);z.l("match best");const{bg:b,text:v}=se(x),w=le(l,x,v);u.push({box:w,img:x,style:{bg:b,text:v}})}return z.l("e"),B(u),u}({data:p.data,width:p.dims[3],height:p.dims[2]},s,c,i);return null==(a=null==e?void 0:e.on)||a.call(e,d),d}}}async function ee(e){var t;G();let n=48;const o=await X(e.ort,e.input,e.ortOption),a=e.decodeDic.split(/\r\n|\r|\n/)||[];""===a.at(-1)?a[a.length-1]=" ":a.push(" "),e.imgh&&(n=e.imgh);const i=void 0===(null==(t=e.optimize)?void 0:t.space)||e.optimize.space;return{rec:async function(t){var r;const s=[];U.l("bf_rec");const c=function(e,t){const n=[];function o(e){const n=Math.floor(t*(e.width/e.height)),o=A(e,n,t,void 0,!1);return D&&R(C(o,n,t)),{data:o,w:n,h:t}}for(const t of e){let e=t.img;e.width<e.height&&(e=fe(e,-90));const a=o(e);n.push({b:M(a.data,[.5,.5,.5],[.5,.5,.5]),imgH:a.h,imgW:a.w})}return B(n),n}(t,n);for(const[n,l]of c.entries()){const{b:c,imgH:u,imgW:p}=l,d=pe(await te(c,u,p,o,e.ort),a,{opm:{space:i}})[0];s.push({text:d.text,mean:d.mean,box:t[n].box,style:t[n].style}),null==(r=null==e?void 0:e.on)||r.call(e,n,d,t.length)}return U.l("rec_end"),s.filter(e=>e.mean>=.5)}}}async function te(e,t,n,o,a){const i=Float32Array.from(e.flat(3)),r=new a.Tensor("float32",i,[1,3,t,n]),s={};return s[o.inputNames[0]]=r,(await o.run(s))[o.outputNames[0]]}function ne(e){const t=Math.abs(function(e){let t=-1;const n=e.length;let o,a=e[n-1],i=0;for(;++t<n;)o=a,a=e[t],i+=o[1]*a[0]-o[0]*a[1];return i/2}(e)),n=function(e){let t=-1;const n=e.length;let o,a,i=e[n-1],r=i[0],s=i[1],c=0;for(;++t<n;)o=r,a=s,i=e[t],r=i[0],s=i[1],o-=r,a-=s,c+=Math.hypot(o,a);return c}(e),o=1.5*t/n,a=[];for(const[t,n]of e.entries()){const i=e.at((t-1)%4),r=e.at((t+1)%4),s=n[0]-i[0],c=n[1]-i[1],l=Math.sqrt(s**2+c**2),u=s/l*o,p=c/l*o,d=n[0]-r[0],m=n[1]-r[1],h=Math.sqrt(d**2+m**2),g=d/h*o,f=m/h*o;a.push([n[0]+u+g,n[1]+p+f])}const i=[a[0][0]-a[1][0],a[0][1]-a[1][1]],r=[a[2][0]-a[1][0],a[2][1]-a[1][1]],s=i[0]*r[1]-i[1]*r[0];return{points:a,sside:Math.abs(s)}}function oe(e){const t=function(e){if(0===e.length)throw new Error("Empty contour");const t=function(e){e.sort((e,t)=>e.x-t.x||e.y-t.y);const t=[];for(const n of e){for(;t.length>=2&&E(t[t.length-2],t[t.length-1],n)<=0;)t.pop();t.push(n)}const n=[];for(let t=e.length-1;t>=0;t--){const o=e[t];for(;n.length>=2&&E(n[n.length-2],n[n.length-1],o)<=0;)n.pop();n.push(o)}return t.slice(0,-1).concat(n.slice(0,-1))}([...e]);let n=Number.POSITIVE_INFINITY;const o={center:{x:0,y:0},size:{width:0,height:0},angle:0};for(let e=0;e<t.length;e++){const a=t[e],i=t[(e+1)%t.length],r={x:i.x-a.x,y:i.y-a.y},s=Math.hypot(r.x,r.y),[c,l]=[r.x/s,r.y/s];let u=Number.POSITIVE_INFINITY,p=Number.NEGATIVE_INFINITY,d=Number.POSITIVE_INFINITY,m=Number.NEGATIVE_INFINITY;for(const e of t){const t=(e.x-a.x)*c+(e.y-a.y)*l;u=Math.min(u,t),p=Math.max(p,t);const n=-(e.x-a.x)*l+(e.y-a.y)*c;d=Math.min(d,n),m=Math.max(m,n)}const h=(p-u)*(m-d);if(h<n){n=h;const e=(u+p)/2,t=(d+m)/2;o.center={x:a.x+c*e-l*t,y:a.y+l*e+c*t},o.size={width:p-u,height:m-d},o.angle=Math.atan2(l,c)*(180/Math.PI)}}return o.size.width<o.size.height&&([o.size.width,o.size.height]=[o.size.height,o.size.width],o.angle+=90),o.angle=(o.angle%180+180)%180,o}(e),n=Array.from(function(e,t,n){const o=t.width,a=t.height,i=n*Math.PI/180,r=Math.cos(i),s=Math.sin(i),c=e.x,l=e.y,u=.5*o,p=.5*a,d=[],m=c-u*r+p*s,h=l-u*s-p*r;d.push([m,h]);const g=c+u*r+p*s,f=l+u*s-p*r;d.push([g,f]);const x=c+u*r-p*s,b=l+u*s+p*r;d.push([x,b]);const v=c-u*r-p*s,w=l-u*s+p*r;return d.push([v,w]),d}(t.center,t.size,t.angle)).sort((e,t)=>e[0]-t[0]);let o=0,a=1,i=2,r=3;return n[1][1]>n[0][1]?(o=0,r=1):(o=1,r=0),n[3][1]>n[2][1]?(a=2,i=3):(a=3,i=2),{points:[n[o],n[a],n[i],n[r]],sside:Math.min(t.size.height,t.size.width)}}function ae(e,t){return Math.sqrt((e[0]-t[0])**2+(e[1]-t[1])**2)}function ie(e){const t=[[0,0],[0,0],[0,0],[0,0]],n=e.map(e=>e[0]+e[1]);t[0]=e[n.indexOf(Math.min(...n))],t[2]=e[n.indexOf(Math.max(...n))];const o=e.filter(e=>e!==t[0]&&e!==t[2]),a=o[1].map((e,t)=>e-o[0][t]);return t[1]=o[a.indexOf(Math.min(...a))],t[3]=o[a.indexOf(Math.max(...a))],t}function re(e,t){const[n,o,a,i]=t.map(e=>({x:e[0],y:e[1]})),r=Math.sqrt((o.x-n.x)**2+(o.y-n.y)**2),s=Math.sqrt((i.x-n.x)**2+(i.y-n.y)**2),c=o.x-n.x,l=o.y-n.y,u=i.x-n.x,p=i.y-n.y,d=c*p-u*l;if(0===d)throw new Error("点共线，无法形成矩形");const m=r*p/d,h=-u*r/d,g=-s*l/d,f=c*s/d,x=-m*n.x-h*n.y,b=-g*n.x-f*n.y,v=C(e),w=k(Math.ceil(r),Math.ceil(s)),y=w.getContext("2d");return y.setTransform(m,g,h,f,x,b),y.drawImage(v,0,0),y.resetTransform(),y.getImageData(0,0,w.width,w.height)}function se(e){var t,n;const o=new Map,a=e.data;for(let t=0;t<a.length;t+=4){if(t/4%e.width>4*e.height)continue;const n=[a[t],a[t+1],a[t+2]].join(",");o.set(n,(o.get(n)||0)+1)}const i=function(e,t=1){let n=[];return e.forEach((e,o)=>{0===n.length?n.push({el:o,count:e}):((n.length<t||n.find(t=>t.count<=e))&&n.push({el:o,count:e}),n.sort((e,t)=>t.count-e.count),n.length>t&&(n=n.slice(0,t)))}),n}(o,20).map(e=>({el:e.el.split(",").map(Number),count:e.count})),r=(null==(t=i.at(0))?void 0:t.el)||[255,255,255],s=(null==(n=i.at(1))?void 0:n.el)||[0,0,0];let c=s;if(ce(s,r)<100){const e=i.slice(1).filter(e=>ce(e.el,r)>50);e.length>0&&(c=[0,1,2].map(t=>Math.round(he(e.map(e=>[e.el[t],e.count]))))),(0===e.length||ce(c,r)<100)&&(c=r.map(e=>255-e)),function(...e){O&&console.log(e.map(e=>`%c${e}`).join(""),...e.map(e=>`color: ${e}`))}(`rgb(${c.join(",")})`)}return{bg:r,text:c,textEdge:s}}function ce(e,t){const n=e,o=t;return Math.sqrt((n[0]-o[0])**2+(n[1]-o[1])**2+(n[2]-o[2])**2)}function le(e,t,n){let o=0,a=t.height,i=0,r=t.width;function s(e){return ce(e,n)<200}e:for(let e=o;e<t.height;e++)for(let n=0;n<t.width;n++)if(s(ue(t,n,e))){o=e;break e}e:for(let e=a-1;e>=0;e--)for(let n=0;n<t.width;n++)if(s(ue(t,n,e))){a=e;break e}e:for(let e=i;e<t.width;e++)for(let n=o;n<=a;n++)if(s(ue(t,e,n))){i=e;break e}e:for(let e=r-1;e>=0;e--)for(let n=o;n<=a;n++)if(s(ue(t,e,n))){r=e;break e}const c=T(o-1,0,4),l=T(t.height-a-1,0,4),u=T(i-1,0,4),p=T(t.width-r-1,0,4);return[[e[0][0]+u,e[0][1]+c],[e[1][0]-p,e[1][1]+c],[e[2][0]-p,e[2][1]-l],[e[3][0]+u,e[3][1]-l]]}function ue(e,t,n){const o=4*(n*e.width+t);return Array.from(e.data.slice(o,o+4))}function pe(e,t,n){const o=e.dims[2],a=[];let i=e.dims[0]-1;function r(e){return t.at(e-1)??""}for(let t=0;t<e.data.length;t+=o*e.dims[1]){const c=[],l=[];for(let a=t;a<t+o*e.dims[1];a+=o){const t=e.data.slice(a,a+o);let i=Number.NEGATIVE_INFINITY,s=-1,u=Number.NEGATIVE_INFINITY,p=-1;for(let e=0;e<t.length;e++){const n=t[e];n>i?(u=i,i=n,s=e):n>u&&n<i&&(u=n,p=e)}n.opm.space&&0===s&&" "===r(p)&&u>.001&&(i=u,s=p),l.push(i),c.push(s)}a[i]=s(c,l),i--}function s(e,t){const n=[],o=[];for(let a=0;a<e.length;a++)0!==e[a]&&(a>0&&e[a-1]===e[a]||(n.push(r(e[a])),o.push(t[a])));let a="",i=0;if(n.length){a=n.join("").trim();let e=0;for(const t of o)e+=t;i=e/o.length}return{text:a,mean:i}}return a}function de(e,t){var n;B(e);const o=(null==t?void 0:t.docDirs)??[{block:"tb",inline:"lr"},{block:"rl",inline:"tb"}],a={block:"tb",inline:"lr"},i={inline:[1,0],block:[0,1]},r={inline:[1,0],block:[0,1]};if(0===e.length)return{columns:[],parragraphs:[],readingDir:a,angle:{reading:{inline:0,block:90},angle:0}};const s=[{box:[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY],[Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY]],type:"none"}];function c(e){const t=m.center(e);for(let e=s.length-1;e>=0;e--){const n=s[e].box;if(t[0]>=n[0][0]&&t[0]<=n[1][0]&&t[1]>=n[0][1]&&t[1]<=n[3][1])return e}return 0}const l=(e,t)=>[(e[0]+t[0])/2,(e[1]+t[1])/2],u=(e,t,n)=>Math.abs("block"===n?h.dotMup(e,r.block)-h.dotMup(t,r.block):h.dotMup(e,r.inline)-h.dotMup(t,r.inline)),p=(e,t,n)=>"block"===n?h.dotMup(e,r.block)-h.dotMup(t,r.block):h.dotMup(e,r.inline)-h.dotMup(t,r.inline),d=e=>h.dotMup(e,r.inline),m={inlineStart:e=>l(e[0],e[3]),inlineEnd:e=>l(e[1],e[2]),blockStart:e=>l(e[0],e[1]),blockEnd:e=>l(e[2],e[3]),inlineSize:e=>e[1][0]-e[0][0],blockSize:e=>e[3][1]-e[0][1],inlineStartDis:(e,t)=>u(e[0],t[0],"inline"),inlineEndDis:(e,t)=>u(e[1],t[1],"inline"),blockGap:(e,t)=>u(e[0],t[3],"block"),inlineCenter:e=>(e[2][0]+e[0][0])/2,blockCenter:e=>(e[2][1]+e[0][1])/2,inlineStartCenter:e=>m.inlineStart(e),center:e=>l(e[0],e[2])},h={fromPonts:(e,t)=>[e[0]-t[0],e[1]-t[1]],dotMup:(e,t)=>e[0]*t[0]+e[1]*t[1],numMup:(e,t)=>[e[0]*t,e[1]*t],add:(e,t)=>[e[0]+t[0],e[1]+t[1]]};function g(e){let t=0,n=0;const o=[];for(const[a,i]of e.entries()){const e=i>180?i-180:i,r=e-180,s=0===a?e:Math.abs(r-t)<Math.abs(e-t)?r:e;o.push(s),t=(t*n+s)/(n+1),n++}return{av:t,l:o}}function f(e,t){return Math.abs(e-t)<45||Math.abs(e-(t-180))<45||Math.abs(e-180-t)<45}function x(e){e.sort((e,t)=>e-t);const t=Math.floor(e.length/2);return e.length%2==0?(e[t-1]+e[t])/2:e[t]}function b(e){return"lr"===e||"rl"===e?"x":"y"}function v(e,t){let n=Number.POSITIVE_INFINITY,o=-1;for(let a=0;a<e.length;a++){const i=t(e[a]);i<n&&(n=i,o=a)}return e[o]}const w={lr:[1,0],rl:[-1,0],tb:[0,1],bt:[0,-1]};function y(e,t){const n=function(e,t){const n=w[e.inline],o=w[e.block],a=w[t.inline],i=w[t.block],r=[h.dotMup(a,n),h.dotMup(a,o)],s=[h.dotMup(i,n),h.dotMup(i,o)];return e=>[h.dotMup(e,r),h.dotMup(e,s)]}(e,t);return{b:e=>{for(const t of e){const[e,o]=n(t);t[0]=e,t[1]=o}},p:n}}function k(e){return t=>{const n=[[0,0],[0,0],[0,0],[0,0]];for(let o=0;o<e.length;o++)n[o]=t[e[o]];return n}}function S(e,t){return Math.sqrt((e[0]-t[0])**2+(e[1]-t[1])**2)}function T(e){const t=e.flatMap(e=>e.map(e=>e)),n=Math.min(...t.map(e=>h.dotMup(e,r.inline))),o=Math.max(...t.map(e=>h.dotMup(e,r.inline))),a=Math.min(...t.map(e=>h.dotMup(e,r.block))),i=Math.max(...t.map(e=>h.dotMup(e,r.block))),s=h.add(h.numMup(r.inline,n),h.numMup(r.block,a)),c=h.numMup(r.inline,o-n),l=h.numMup(r.block,i-a);return[s,h.add(s,c),h.add(h.add(s,c),l),h.add(s,l)]}function A(e){let t=null,n=Number.POSITIVE_INFINITY;for(const o in J){const a=J[o].src.at(-1);if(!a)continue;const i=S(e.box[0],a.box[0]);i<n&&(t=Number(o),n=i)}if(null===t)return void J.push({src:[e]});const o=J[t].src.at(-1),a=m.inlineSize(e.box),i=m.inlineSize(o.box),r=Math.min(a,i),s=m.blockSize(e.box);(m.inlineStartDis(e.box,o.box)<3*s||m.inlineEndDis(e.box,o.box)<3*s||u(m.center(e.box),m.center(o.box),"inline")<.4*r)&&m.blockGap(e.box,o.box)<1.1*s?J[t].src.push(e):J.push({src:[e]})}function C(e){var t,n;const o=new RegExp("\\p{Ideographic}","u"),a=/[。，！？；：“”‘’《》、【】（）…—]/,i={box:T(e.map(e=>e.box)),text:"",mean:he(e.map(e=>[e.mean,e.text.length])),style:e[0].style};for(const r of e){const e=i.text.at(-1);e&&(!e.match(o)&&!e.match(a)||!(null!=(t=r.text.at(0))&&t.match(o))&&!(null!=(n=r.text.at(0))&&n.match(a)))&&(i.text+=" "),i.text+=r.text}return i}function M(e){e.sort((e,t)=>{const n=e.src.at(0)?m.blockSize(e.src.at(0).box):2;return u(m.blockStart(e.outerBox),m.blockStart(t.outerBox),"block")<n?p(m.inlineStart(e.outerBox),m.inlineStart(t.outerBox),"inline"):p(m.blockStart(e.outerBox),m.blockStart(t.outerBox),"block")})}if(null!=t&&t.columnsTip)for(const e of t.columnsTip)s.push(structuredClone(e));const N={inline:0,block:90},E=e.map(e=>{const t=e.box;let n={x:0,y:0};if(t[1][0]-t[0][0]<t[3][1]-t[0][1]){const e=h.fromPonts(l(t[2],t[3]),l(t[0],t[1]));n={x:e[0],y:e[1]}}else{const e=h.fromPonts(l(t[1],t[2]),l(t[0],t[3]));n={x:e[0],y:e[1]}}return ge(Math.atan2(n.y,n.x)*(180/Math.PI))}),P=g(E),q=E.filter(e=>f(e,P.av)),L=x(q),_=x(q.map(e=>Math.abs(e-L))),I=q.filter(e=>Math.abs((e-L)/(1.4826*_))<2),j=ge(g(I).av);B("dir0",E,P,q,I,j);const U=ge(j+90),z=f(j,0)?"x":"y",D=f(U,90)?"y":"x",O=o.find(e=>z===b(e.inline)&&D===b(e.block))??o.at(0);O&&(a.block=O.block,a.inline=O.inline);const H={lr:0,rl:180,tb:90,bt:270};N.inline=v([j,j-360,j-180,j+180],e=>Math.abs(e-H[a.inline])),N.block=v([U,U-360,U-180,U+180],e=>Math.abs(e-H[a.block])),i.inline=[Math.cos(N.inline*(Math.PI/180)),Math.sin(N.inline*(Math.PI/180))],i.block=[Math.cos(N.block*(Math.PI/180)),Math.sin(N.block*(Math.PI/180))],B("dir",a,N,i,j,U);const R=[[a.inline[0],a.block[0]],[a.inline[1],a.block[0]],[a.inline[1],a.block[1]],[a.inline[0],a.block[1]]].map(([e,t])=>({lt:0,rt:1,rb:2,lb:3}["l"===e||"r"===e?e+t:t+e])),V=y({inline:"lr",block:"tb"},a),$=k(R),F=e.map(e=>{const t=$(e.box);return V.b(t),{...e,box:t}});for(const e of s)e.box=$(e.box),V.b(e.box);r.inline=V.p(i.inline),r.block=V.p(i.block),B("相对坐标系",r);const W=F.sort((e,t)=>p(m.blockStart(e.box),m.blockStart(t.box),"block")),G=[];for(const e of W){const t=c(e.box),o=null==(n=G.at(-1))?void 0:n.line.at(-1);if(!o){G.push({line:[{src:e,colId:t}]});continue}const a=m.center(e.box),i=m.center(o.src.box);if(u(a,i,"block")<.5*m.blockSize(e.box)){const n=G.at(-1);n?n.line.push({src:e,colId:t}):G.push({line:[{src:e,colId:t}]})}else G.push({line:[{src:e,colId:t}]})}const Q=[];for(const e of G){if(1===e.line.length){Q.push({src:e.line[0].src,colId:e.line[0].colId});continue}const t=me(e.line.map(e=>m.blockSize(e.src.box)));e.line.sort((e,t)=>p(m.inlineStart(e.src.box),m.inlineStart(t.src.box),"inline"));let n=e.line.at(0);for(const o of e.line.slice(1)){const e=m.inlineEnd(n.src.box),a=m.inlineStart(o.src.box);"table"===s[o.colId].type||o.colId!==n.colId||d(a)-d(e)>t?(Q.push({...n}),n=o):(n.src.text+=o.src.text,n.src.mean=(n.src.mean+o.src.mean)/2,n.src.box=T([n.src.box,o.src.box]))}Q.push({...n})}const J=[],K=[],X=[];for(const e of Q)if(0===e.colId)K.push(e);else{const t=X.find(t=>t.colId===e.colId);t?t.src.push(e.src):X.push({src:[e.src],type:s[e.colId].type,colId:e.colId})}K.sort((e,t)=>p(m.blockStart(e.src.box),m.blockStart(t.src.box),"block"));for(const e of K)A(e.src);const Y=[];for(const[e,t]of J.entries()){const n=t.src,o=T(n.map(e=>e.box)),a=m.blockCenter(o),i=m.inlineSize(o);if(0===e){Y.push({smallCol:[{src:n,outerBox:o,x:a,w:i}]});continue}const r=Y.find(e=>{const t=e.smallCol.at(-1),a=m.blockSize(n.at(0).box);return m.inlineStartDis(t.outerBox,o)<3*a&&m.inlineEndDis(t.outerBox,o)<3*a&&m.blockGap(o,t.outerBox)<2.1*a});r?r.smallCol.push({src:n,outerBox:o,x:a,w:i}):Y.push({smallCol:[{src:n,outerBox:o,x:a,w:i}]})}for(const e of Y)e.smallCol.sort((e,t)=>p(m.blockStart(e.outerBox),m.blockStart(t.outerBox),"block"));for(const e of X)e.src.sort((e,t)=>p(m.blockStart(e.box),m.blockStart(t.box),"block"));const Z=[];for(const e of Y){const t=T(e.smallCol.map(e=>e.outerBox)),n=e.smallCol.flatMap(e=>e.src);Z.push({src:n,outerBox:t,type:"none"})}M(Z);const ee=[];for(const e of Z){const t=ee.at(-1);if(!t){ee.push(e);continue}if("none"!==t.type){ee.push(e);continue}const n=t.outerBox,o=m.blockSize(e.src[0].box);1===t.src.length&&m.inlineStartDis(n,e.outerBox)<3*o||1===e.src.length&&m.inlineStartDis(n,e.outerBox)<3*o||m.inlineStartDis(n,e.outerBox)<3*o&&m.inlineEndDis(n,e.outerBox)<3*o?(t.src.push(...e.src),t.outerBox=T(t.src.map(e=>e.box))):ee.push(e)}let te=!1;const ne=[];for(const e of ee){const t=ne.at(-1),n={...e,reCal:!1};if(!t){ne.push(n);continue}const o=m.blockSize(n.src.at(0).box);p(m.blockEnd(n.outerBox),m.blockEnd(t.outerBox),"block")<0&&(m.inlineStartDis(t.outerBox,n.outerBox)<3*o||m.inlineEndDis(t.outerBox,n.outerBox)<3*o)?(t.src.push(...n.src),t.reCal=!0,te=!0):ne.push(n)}for(const e of ne)e.reCal&&(e.src.sort((e,t)=>p(m.blockStart(e.box),m.blockStart(t.box),"block")),e.outerBox=T(e.src.map(e=>e.box)));X.length&&(te=!0);for(const e of X){const t=T(e.src.map(e=>e.box)),n=e.src;ne.push({src:n,outerBox:t,type:e.type,reCal:!1})}te&&M(ne);const oe=y(a,{inline:"lr",block:"tb"}),ae=ne.map(e=>{const t=e.src,n=[];if("auto"===e.type||"none"===e.type){const o={};for(let e=1;e<t.length;e++){const n=t[e-1].box,a=t[e].box,i=u(m.center(a),m.center(n),"block");o[i]||(o[i]=0),o[i]++}const a=me(t.map(e=>m.blockSize(e.box))),i=[[]];for(const e of Object.keys(o).map(e=>Number(e)).sort()){const t=i.at(-1),n=t.at(-1);void 0!==n?Math.abs(n-e)<.5*a?t.push(e):i.push([]):t.push(e)}const s=i.map(e=>me(e)).sort((e,t)=>e-t).at(0)||0;B("d",o,i,s),n.push([t[0]]);let c=t[0];for(let o=1;o<t.length;o++){const a=h.add(h.add(m.inlineStartCenter(c.box),h.numMup(r.block,s)),h.numMup(r.inline,-m.inlineStartDis(c.box,e.outerBox))),i=m.inlineStartCenter(t[o].box),l=m.blockSize(t[o].box);if(m.inlineEndDis(c.box,e.outerBox)>2*l||S(a,i)>.5*l)n.push([t[o]]);else{const e=n.at(-1);e?e.push(t[o]):n.push([t[o]])}c=t[o]}}else("table"===e.type||"raw"===e.type||"raw-blank"===e.type)&&n.push(t);for(const e of t)oe.b(e.box);oe.b(e.outerBox);const o=[];for(const[e,t]of R.entries())o[t]=e;const a=k(o);for(const e of t)e.box=a(e.box);return e.outerBox=a(e.outerBox),B(n),{src:t,outerBox:e.outerBox,parragraphs:n.map(e=>({src:e,parse:C(e)}))}}),ie=ae.flatMap(e=>e.parragraphs.map(e=>e.parse));let re=0;return"lr"===a.inline&&(re=N.inline),"rl"===a.inline&&(re=N.inline-180),"lr"===a.block&&(re=N.block),"rl"===a.block&&(re=N.block-180),B("angle",re),{columns:ae,parragraphs:ie,readingDir:a,angle:{reading:N,angle:re}}}function me(e){return e.reduce((e,t)=>e+t,0)/e.length}function he(e){const t=e.map(e=>e[1]).reduce((e,t)=>e+t,0);let n=0;for(const o of e)n+=o[0]*o[1]/t;return n}function ge(e){return(e%360+360)%360}function fe(e,t){const n=ge(t);if(0===n)return e;if(![90,180,270].includes(n))throw new Error("只支持90度的旋转");const o=new Uint8ClampedArray(e.height*e.width*4);for(let t=0;t<e.height;t++)for(let a=0;a<e.width;a++){const i=t*e.width+a,r=90===n?a*e.height+(e.height-t-1):180===n?e.width-a-1+(e.height-t-1)*e.width:(e.width-a-1)*e.height+t;o.set(e.data.slice(4*i,4*i+4),4*r)}const a=90===n||270===n?e.height:e.width,i=90===n||270===n?e.width:e.height;return V(o,a,i)}function xe(e,t="",n,o,a){if(!D)return;const i=document.querySelector(`#${o}`).getContext("2d");i.beginPath(),i.strokeStyle=n,i.moveTo(e[0][0],e[0][1]),i.lineTo(e[1][0],e[1][1]),i.lineTo(e[2][0],e[2][1]),i.lineTo(e[3][0],e[3][1]),i.lineTo(e[0][0],e[0][1]),i.stroke(),i.strokeStyle="black",i.strokeText(t,e[0][0],e[0][1])}const be=ort;var ve=n(41);class we{modelLoaded=!1;loadingPromise=null;ocrEngine=null;modelCache={};ppocrDict="";cacheKey="paddleocr_ch_models";cacheVersion="4.0.0";cacheVersionKey="paddleocr_ch_models_version";zipUrl="https://github.com/xushengfeng/eSearch-OCR/releases/download/4.0.0/ch.zip";filesToExtract=["ppocr_keys_v1.txt","ppocr_det.onnx","ppocr_rec.onnx"];constructor(){}async decode(e){try{if(await this.ensureModelLoaded(),!this.modelLoaded||!this.ocrEngine)throw new Error("PaddleOCR model not available for decoding");const t=await this.uint8ArrayToImageData(e);if(!t)throw new Error("Failed to convert image data for OCR");const n=await this.ocrEngine.ocr(t);if(n&&n.parragraphs&&n.parragraphs.length>0){let e=n.parragraphs[0];for(const t of n.parragraphs)t.mean&&t.mean>(e.mean||0)&&(e=t);const t=e.mean||0,o=e.text.trim().replace(/\s+/g,"").replace(/[^\u4e00-\u9fff\u3400-\u4dbf\u3000-\u303f\uff00-\uffef]/g,"");if(o.length>0){const e=o.charAt(0);return l().debug(`OCR result: confidence=${Math.round(100*t)}%, text="${e}"`),{text:e,confidence:t}}}return l().debug("No meaningful character found in OCR result"),null}catch(e){throw l().error("Error in PaddleOCR decoding:",e),e}}isAvailable(){return this.modelLoaded&&null!==this.ocrEngine}getModelInfo(){return{name:"PaddleOCR",version:this.cacheVersion,loaded:this.modelLoaded}}async close(){this.ocrEngine=null,this.modelLoaded=!1,this.loadingPromise=null,l().debug("PaddleOCR engine closed and cleaned up")}async clearModelCache(){try{await(0,h.mN)(this.cacheKey,null),await(0,h.mN)(this.cacheVersionKey,null),this.modelCache={},this.ppocrDict="",this.modelLoaded=!1,this.ocrEngine=null,this.loadingPromise=null,l().debug("Cleared all OCR model cache data")}catch(e){l().error("Failed to clear OCR model cache:",e)}}async ensureModelLoaded(){this.modelLoaded||(this.loadingPromise||(this.loadingPromise=this.loadModel()),await this.loadingPromise)}async loadModel(){try{if(l().debug("Loading PaddleOCR model..."),!o||!be)throw new Error("PaddleOCR dependencies not loaded. Ensure esearch-ocr and onnxruntime-web are included via script tags.");this.configureONNXRuntime(),await this.downloadAndCacheModels();const e=await this.loadPaddleOCRDict(),t=this.modelCache["ppocr_det.onnx"],n=this.modelCache["ppocr_rec.onnx"];if(!t||!n)throw new Error("Failed to download required PaddleOCR models");l().debug("Initializing PaddleOCR engine..."),this.ocrEngine=await $({det:{input:await t.arrayBuffer(),ratio:2},rec:{input:await n.arrayBuffer(),decodeDic:e,optimize:{space:!1}},dev:!1,ort:be}),this.modelLoaded=!0,l().debug("PaddleOCR engine initialized successfully")}catch(e){throw l().error("Failed to load PaddleOCR model:",e),this.modelLoaded=!1,this.ocrEngine=null,e}}configureONNXRuntime(){try{be.env.wasm.wasmPaths="https://unpkg.com/onnxruntime-web@1.22.0/dist/",be.env.wasm.numThreads=1,be.env.wasm.simd=!0,be.env.logLevel="info",l().debug("ONNX Runtime Web configured with WASM paths:",be.env.wasm.wasmPaths)}catch(e){l().warn("Failed to configure ONNX Runtime:",e)}}async downloadAndCacheModels(){try{const e=await(0,h.er)(this.cacheVersionKey,null),t=await(0,h.er)(this.cacheKey,null);if(e===this.cacheVersion&&t){const e=JSON.parse(t);for(const[t,n]of Object.entries(e))if("string"==typeof n){const e=atob(n),o=new Uint8Array(e.length);for(let t=0;t<e.length;t++)o[t]=e.charCodeAt(t);this.modelCache[t]=new Blob([o])}return void l().debug("Loaded models from browser cache")}l().debug(`Cache version mismatch, clearing old cache: ${e} vs ${this.cacheVersion}`),await(0,h.mN)(this.cacheKey,null),await(0,h.mN)(this.cacheVersionKey,null),this.modelCache={},l().debug("Cleared old model cache")}catch(e){l().warn("Failed to load from cache, will download fresh:",e)}l().debug("Downloading PaddleOCR models from GitHub...");const e={};try{l().debug(`Downloading from ${this.zipUrl}...`);const t=await(0,i._V)(this.zipUrl,{responseType:"blob",method:"GET"});if(200!==t.status||!t.response)throw new Error(`Failed to download ZIP: HTTP ${t.status} ${t.statusText}`);const n=t.response;if(l().debug("Successfully downloaded zip file using gfetch"),l().debug(`Downloaded ${n.size} bytes`),await this.extractZipFiles(n,e),Object.keys(e).length>0)try{await(0,h.mN)(this.cacheKey,JSON.stringify(e)),await(0,h.mN)(this.cacheVersionKey,this.cacheVersion),l().debug(`Cached ${Object.keys(e).length} files successfully`)}catch(e){l().warn("Failed to cache models (GM storage full?):",e)}}catch(e){throw l().error("Failed to download models:",e),e}}async extractZipFiles(e,t){try{l().debug("Extracting files from zip...");const n=await e.arrayBuffer(),o=new Uint8Array(n),a=(0,ve.unzipSync)(o,{filter:e=>this.filesToExtract.includes(e.name)});l().debug(`Found ${Object.keys(a).length} matching files in zip`);for(const[e,n]of Object.entries(a)){l().debug(`Processing ${e}...`);const o=new Blob([n]);if(this.modelCache[e]=o,n.length>52428800)l().warn(`File ${e} is very large (${(n.length/1024/1024).toFixed(1)}MB), skipping GM storage cache`);else{try{const o=this.uint8ArrayToBinaryString(n);t[e]=btoa(o)}catch(t){l().warn(`Failed to convert ${e} to base64, skipping GM storage cache:`,t)}l().debug(`Extracted ${e} (${o.size} bytes)`)}}l().debug(`Successfully extracted ${Object.keys(t).length} files from zip`)}catch(e){throw l().error("Failed to extract zip files:",e),e}}uint8ArrayToBinaryString(e){let t="";for(let n=0;n<e.length;n+=8192){const o=e.subarray(n,n+8192);t+=String.fromCharCode.apply(null,Array.from(o))}return t}async loadPaddleOCRDict(){if(this.ppocrDict)return this.ppocrDict;try{await this.downloadAndCacheModels();const e=this.modelCache["ppocr_keys_v1.txt"];if(!e)throw new Error("Dictionary not found in cached models");return this.ppocrDict=await e.text(),l().debug(`Loaded PaddleOCR dictionary from cache with ${this.ppocrDict.split("\n").length} entries`),this.ppocrDict}catch(e){throw l().error("Failed to load PaddleOCR dictionary from cache:",e),e}}async uint8ArrayToImageData(e){try{const t=new Blob([e]),n=new Image,o=new Promise((e,t)=>{n.onload=()=>e(),n.onerror=t});n.src=URL.createObjectURL(t),await o;const a=document.createElement("canvas"),i=a.getContext("2d");if(!i)throw new Error("Cannot get canvas 2D context");const r=Math.max(4,Math.ceil(120/n.width)),s=Math.max(4,Math.ceil(120/n.height)),c=Math.max(r,s),u=n.width*c,p=n.height*c;a.width=u,a.height=p,i.fillStyle="#ffffff",i.fillRect(0,0,u,p),i.drawImage(n,0,0,u,p),l().debug(`Image scaled from ${n.width}x${n.height} to ${u}x${p} (${c}x scale)`);const d=i.getImageData(0,0,u,p);return URL.revokeObjectURL(n.src),d}catch(e){return l().error("Error converting Uint8Array to ImageData:",e),null}}}class ye{static instance=null;cache=new Map;maxCacheSize=50;accessOrder=[];constructor(){}static getInstance(){return ye.instance||(ye.instance=new ye),ye.instance}async getImageData(e){if(this.cache.has(e))return this.updateAccessOrder(e),l().debug(`Image cache hit for: ${e.substring(0,50)}...`),this.cache.get(e);try{l().debug(`Downloading image for cache: ${e.substring(0,50)}...`);const t=await(0,i._V)(e,{responseType:"arraybuffer",method:"GET"});if(200!==t.status||!t.response)throw new Error(`HTTP ${t.status}: ${t.statusText}`);const n=new Uint8Array(t.response);return this.cacheImageData(e,n),l().debug(`Downloaded and cached image: ${n.length} bytes`),n}catch(t){throw l().error(`Failed to download image: ${e}`,t),t}}cacheImageData(e,t){if(this.cache.size>=this.maxCacheSize){const e=this.accessOrder.shift();e&&(this.cache.delete(e),l().debug(`Evicted LRU image from cache: ${e.substring(0,50)}...`))}this.cache.set(e,t),this.accessOrder.push(e)}updateAccessOrder(e){const t=this.accessOrder.indexOf(e);t>-1&&(this.accessOrder.splice(t,1),this.accessOrder.push(e))}clearCache(){this.cache.clear(),this.accessOrder.length=0,l().debug("Cleared image cache")}getCacheStats(){return{size:this.cache.size,maxSize:this.maxCacheSize,urls:Array.from(this.cache.keys()).map(e=>e.substring(0,50)+"...")}}}var ke=n(22);class Se{filenameDecoder;hashDecoder;ocrDecoder;mappingCache={};failedImages=[];PLACEHOLDER_CHAR="▢";constructor(){this.filenameDecoder=new f("www.xiguashuwu.com"),this.hashDecoder=new b("www.xiguashuwu.com"),this.ocrDecoder=new we}async init(){l().debug("[XiguashuwuImageDecoder] Decoder initialized")}async close(){this.mappingCache={},await this.ocrDecoder.close(),ye.getInstance().clearCache(),this.failedImages.length>0&&(l().warn(`[XiguashuwuImageDecoder] ${this.failedImages.length} images failed to decode:`),this.failedImages.forEach((e,t)=>{l().warn(`  ${t+1}. ${e}`)}),l().warn(`These images were replaced with placeholder character: "${this.PLACEHOLDER_CHAR}"`)),l().debug("[XiguashuwuImageDecoder] Decoder closed and image cache cleared")}async decodeImage(e){if(this.mappingCache[e])return this.mappingCache[e];try{const t=this.getFilenameFromUrl(e),n=await this.filenameDecoder.decodeFromFilename(t);if(n)return l().debug(`[XiguashuwuImageDecoder] Filename match: ${t} -> ${n}`),this.mappingCache[e]=n,n;const o=await this.downloadImageData(e),a=await this.hashDecoder.decode(o);if(a)return l().debug(`[XiguashuwuImageDecoder] Hash match: ${t} -> "${a}"`),this.mappingCache[e]=a,a;const i=await this.ocrDecoder.decode(o);if(i&&i.confidence>=.9){const n=i.text;l().debug(`[XiguashuwuImageDecoder] OCR success: ${t} (${e}) -> "${n}" (confidence: ${Math.round(100*i.confidence)}%)`);try{await this.hashDecoder.learnMapping(o,n),await this.filenameDecoder.learnMapping(t,n),l().debug(`[XiguashuwuImageDecoder] Learned both hash and filename mappings for: ${t} -> "${n}"`)}catch(e){l().warn(`[XiguashuwuImageDecoder] Failed to learn mappings for ${t}:`,e)}return this.mappingCache[e]=n,n}return i&&l().error(`[XiguashuwuImageDecoder] OCR confidence too low: ${Math.round(100*i.confidence)}% < 90% for ${t}`),l().warn(`[XiguashuwuImageDecoder] All decoding methods failed for: ${e}`),this.failedImages.push(e),this.mappingCache[e]=this.PLACEHOLDER_CHAR,this.PLACEHOLDER_CHAR}catch(t){return l().error(`[XiguashuwuImageDecoder] Error during decoding process for ${e}:`,t),this.failedImages.push(e),this.mappingCache[e]=this.PLACEHOLDER_CHAR,this.PLACEHOLDER_CHAR}}getFilenameFromUrl(e){return e.split("/").pop()||""}async downloadImageData(e){const t=ye.getInstance();return await t.getImageData(e)}getFailedImages(){return[...this.failedImages]}getFailedImagesCount(){return this.failedImages.length}getPlaceholderChar(){return this.PLACEHOLDER_CHAR}}class Te extends d.Q{constructor(){super(),this.attachmentMode="naive",this.nsfw=!0,this.charset="utf-8"}async bookParse(){const e=document.location.href,t=document.querySelector("p.title")?.innerText.trim(),n=document.querySelector("p.author > span > a")?.innerText??"",o=document.querySelector("#intro > p.BGsectionTwo-bottom"),[a,r]=await(0,s.HV)(o),c={},d=document.querySelector(".BGsectionOne-top-left > img")?.src||null;d&&(0,m.if)(d,this.attachmentMode,"cover-").then(e=>{c.cover=e}).catch(e=>l().error(e));const h=document.querySelector("div.BGsectionOne-bottom > ul > li:nth-of-type(2) > a");if(!h)throw new Error("Chapter list link not found");const g=h.href;l().debug(`[chapter]请求 ${g}`);const f=(await(0,i.wA)(g,this.charset)).querySelectorAll("li.BCsectionTwo-top-chapter > a"),x=[];let b=0;for(const n of Array.from(f)){b++;const o=n.innerText.trim(),a=n.href,i=!1,r=!1,s=new u.I({bookUrl:e,bookname:t,chapterUrl:a,chapterNumber:b,chapterName:o,isVIP:i,isPaid:r,sectionName:null,sectionNumber:null,sectionChapterNumber:null,chapterParse:this.chapterParse.bind(this),charset:this.charset,options:{}});x.push(s)}return new p.E({bookUrl:e,bookname:t,author:n,introduction:a,introductionHTML:r,additionalMetadate:c,chapters:x})}async chapterParse(e,t,n,o,i,r){const s=new Se;await s.init();try{const n=await this.getContentFromMultiplePages(e,i,s);if(n){const{dom:e,text:o,images:i}=await(0,a.an)(n,this.attachmentMode,{keepImageName:!0}),r=s.getFailedImagesCount();return r>0&&l().warn(`[Xiguashuwu] Chapter "${t}" has ${r} failed image(s) replaced with "${s.getPlaceholderChar()}"`),{chapterName:t,contentRaw:n,contentText:o,contentHTML:e,contentImages:i,additionalMetadate:null}}return{chapterName:t,contentRaw:null,contentText:null,contentHTML:null,contentImages:null,additionalMetadate:null}}finally{await s.close()}}async getContentFromMultiplePages(e,t,n){const o=document.createElement("div");o.id="C0NTENT";let a=e,r=1;const s=[];let c=0;for(;a;){l().debug(`Processing page ${r}: ${a}`);try{const e=await(0,i.wA)(a,t),u=await this.processPageContent(e,n,r);if(u){const e=u.children.length;s.push(c+e-1),c+=e;for(const e of Array.from(u.children))o.appendChild(e.cloneNode(!0));l().debug(`Page ${r} processed: ${e} paragraphs, total: ${c}`)}if(a=this.getNextPageUrl(e),r++,r>50){l().warn("Too many pages detected, stopping to prevent infinite loop");break}}catch(e){l().error(`Failed to process page ${r}: ${a}`,e);break}}return this.mergeParagraphsAcrossPages(o,s),o.children.length>0?o:null}async processPageContent(e,t,n){if(1===n){const t=e.querySelector("#C0NTENT");if(l().debug("Processing first page - using direct C0NTENT (no image processing)"),t)return await this.processFirstPageContent(t);throw new Error("First page missing C0NTENT element")}if(2===n){l().debug("Processing second page - using nrid/codeurl method (with image processing)");try{const n=await this.decryptSecondPageContent(e);if(n)return await this.processImages(n,t);throw new Error("Second page decryption returned null")}catch(e){throw l().error("Failed to decrypt second page content:",e),e}}else{l().debug(`Processing page ${n} - using AES decryption (with image processing)`);try{const o=await this.decryptAESPageContent(e);if(o)return await this.processImages(o,t);throw new Error(`AES decryption returned null for page ${n}`)}catch(e){throw l().error(`Failed to decrypt page ${n} content:`,e),e}}}async decryptSecondPageContent(e){const t=e.getElementsByTagName("script");let n=null,o=null;const a=/var\s+nrid\s*=\s*['"]([^'"]+)['"]/,i=/var\s+codeurl\s*=\s*['"]?([0-9]+)['"]?/;for(const e of Array.from(t)){const t=e.innerHTML;if(t){if(!n){const e=t.match(a);e&&(n=e[1],l().debug(`Found nrid: ${n}`))}if(!o){const e=t.match(i);e&&e[1]&&(o=e[1],l().debug(`Found simple codeurl: ${o}`))}if(n&&o)break}}if(!n)throw new Error("Could not find nrid for second page");if(!o)throw new Error("Could not find codeurl for second page");const r=e.getElementById(n);if(!r)throw new Error(`Could not find content container with ID: ${n}`);const s=e.createElement("div");s.id="C0NTENT";const c=e.getElementsByTagName("meta")[7].getAttribute("content");if(!c)throw new Error("Could not find encrypted content in meta tags");const u=(e=>{let t="";if(!e)return"";for(let n=0;n<e.length&&"="!==e.substr(n,1);n++){const o=e.charAt(n),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(o);if(-1===a)continue;const i=a.toString(2);t+=({1:"00000",2:"0000",3:"000",4:"00",5:"0",6:""}[i.length]||"")+i}let n="";const o=t.match(/[0-1]{8}/g)||[];for(const e of o)n+=String.fromCharCode(parseInt(e,2));return n})(c);if(!u)throw new Error("Failed to decode custom Base64 content");const p=u.split(/[A-Z]+%/),d=[],m=(e,t)=>{let n=Math.ceil((t+1)%parseInt(o,10));return n=Math.ceil(parseInt(e,10)-n),n};for(let e=0;e<p.length;e++)d[m(p[e],e)]=r.childNodes[e];return d.forEach(e=>{e&&s.appendChild(e)}),l().debug("Successfully decrypted second page content using nrid/codeurl method"),s}async decryptAESPageContent(e){const t=e.getElementsByTagName("script");let n=null,o=null,a=null;const i=/var\s+nrid\s*=\s*['"]([^'"]+)['"]/,r=/newcon\s*=\s*decodeURIComponent\("(?<content>[^"]+)"\).*?newcon\s*=\s*d\(newcon,\s*"(?<key>[^"]+)"\)/s;for(const e of Array.from(t)){const t=e.innerHTML;if(t){if(!o){const e=t.match(r);e&&e.groups&&(o=decodeURIComponent(e.groups.content),a=e.groups.key,l().debug(`Found AES encrypted content with key: ${a}`))}if(!n){const e=t.match(i);e&&(n=e[1],l().debug(`Found nrid: ${n}`))}if(n&&o&&a)break}}if(!n)throw new Error("Could not find nrid for AES page");if(!o||!a)throw new Error("Could not find AES encrypted content or key");const s=e.createElement("div");s.id="C0NTENT";const c=((e,t)=>{const n=ke.MD5(t).toString(),o=ke.enc.Utf8.parse(n.substring(0,16)),a=ke.enc.Utf8.parse(n.substring(16));return ke.AES.decrypt(e,a,{iv:o,padding:ke.pad.Pkcs7}).toString(ke.enc.Utf8)})(o,a);if(!c)throw new Error("AES decryption produced empty content");return s.innerHTML=c,l().debug("Successfully decrypted AES page content"),s}async processImages(e,t){(0,r.rm)("div.s_m",!0,e);const n=e.querySelectorAll("img.hz");for(const e of Array.from(n))try{let n=e.src;n.startsWith("http://")&&(n=n.replace("http://","https://"));const o=await t.decodeImage(n),a=document.createTextNode(o);e.parentNode?.replaceChild(a,e),o===t.getPlaceholderChar()?l().debug(`Used placeholder for failed image: ${n.substring(0,50)}...`):l().debug(`Decoded image: ${n.substring(0,50)}...`)}catch(n){l().error("Unexpected error during image processing:",e.src,n);const o=document.createTextNode(t.getPlaceholderChar());e.parentNode?.replaceChild(o,e)}return e}getNextPageUrl(e){const t=e.querySelector("section > ul > li[class*='-right'] > a");if(t&&t.innerText.includes("下一页")){const e=t.href;if(e.includes(".html"))return l().debug(`Found next page: ${e}`),e}const n=e.querySelectorAll("a");for(const e of Array.from(n)){const t=e.innerText.trim();if((t.includes("下一页")||t.includes("下页")||t.includes("next")||t.match(/^下.*页$/))&&e.href.includes(".html")){const t=e.href;return l().debug(`Found fallback next page: ${t}`),t}}return l().debug("No next page found"),""}mergeParagraphsAcrossPages(e,t){if(!(t.length<=1)){l().debug(`Merging paragraphs across ${t.length} pages`);for(let n=t.length-2;n>=0;n--){const o=t[n];let a=null,i=null;for(let t=Math.min(o,e.children.length-1);t>=0;t--){const n=e.children[t];if(n&&n.textContent?.trim()){a=n;break}}for(let t=o+1;t<e.children.length;t++){const n=e.children[t];if(n&&n.textContent?.trim()){i=n;break}}if(a&&i&&a!==i){const e=a.textContent||"",t=i.textContent||"";a.textContent=e+t;const n=(i.innerHTML.match(/<br\s*\/?>/gi)||[]).length;n>0&&(a.textContent+="\r\n".repeat(n)),a.textContent+="\r\n",i.remove(),l().debug(`Merged paragraphs: "${e.substring(0,30)}..." + "${t.substring(0,30)}..." (with newline separator)`)}}}}async processFirstPageContent(e){return(0,r.rm)("div.s_m",!0,e),l().debug("First page processed without image decoding"),e}}}],r={};function s(e){var t=r[e];if(void 0!==t)return t.exports;var n=r[e]={id:e,exports:{}};return i[e].call(n.exports,n,n.exports,s),n.exports}e="function"==typeof Symbol,t=e?Symbol("webpack queues"):"__webpack_queues__",n=e?Symbol("webpack exports"):"__webpack_exports__",o=e?Symbol("webpack error"):"__webpack_error__",a=e=>{e&&e.d<1&&(e.d=1,e.forEach(e=>e.r--),e.forEach(e=>e.r--?e.r++:e()))},s.a=(e,i,r)=>{var s;r&&((s=[]).d=-1);var c,l,u,p=new Set,d=e.exports,m=new Promise((e,t)=>{u=t,l=e});m[n]=d,m[t]=e=>(s&&e(s),p.forEach(e),m.catch(e=>{})),e.exports=m,i(e=>{var i;c=(e=>e.map(e=>{if(null!==e&&"object"==typeof e){if(e[t])return e;if(e.then){var i=[];i.d=0,e.then(e=>{r[n]=e,a(i)},e=>{r[o]=e,a(i)});var r={};return r[t]=e=>e(i),r}}var s={};return s[t]=e=>{},s[n]=e,s}))(e);var r=()=>c.map(e=>{if(e[o])throw e[o];return e[n]}),l=new Promise(e=>{(i=()=>e(r)).r=0;var n=e=>e!==s&&!p.has(e)&&(p.add(e),e&&!e.d&&(i.r++,e.push(i)));c.map(e=>e[t](n))});return i.r?l:r()},e=>(e?u(m[o]=e):l(d),a(s))),s&&s.d<0&&(s.d=0)},s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e=s(1),t=s(2),n=s.n(t);function o(e){let t;try{t=window[e];const n="__storage_test__";return t.setItem(n,n),t.removeItem(n),!0}catch(e){return e instanceof DOMException&&(22===e.code||1014===e.code||"QuotaExceededError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name)&&t&&0!==t.length}}class a{storage;constructor(){if(!o("localStorage"))throw new Error("当前浏览器不支持 localStorage");this.storage=window.localStorage,this.init()}set(e,t,o){const a=this.storage;try{a[e]=JSON.stringify(t),o&&(a[`${e}__expires__`]=Date.now()+1e3*o)}catch(e){n().error(e)}}get(e){const t=this.storage,n=t[`${e}__expires__`]??!1,o=Date.now();if(n&&o>=n)this.remove(e);else{if(!n)return t[e];try{return JSON.parse(t[e])}catch(n){return t[e]}}}remove(e){const t=this.storage;t[e]&&(delete t[e],t[`${e}__expires__`]&&delete t[`${e}__expires__`])}init(){const e=new RegExp("__expires__$"),t=this.storage;Object.keys(t).forEach(t=>{e.test(t)||this.get(t)})}}var i=s(3);function r(e){const t=window[e],n=t.toString().length,o=t.prototype,a=/function \w+\(\) {\n?(\s+)?\[native code]\n?(\s+)?}/;try{if(void 0===o||Boolean(t.toString().match(a)))return[!0,n].join(", ")}catch{return[!0,n].join(", ")}return[!1,n].join(", ")}var c=s(4),l=s(8);globalThis.Function=new Proxy(Function,{construct(e,t){const o=t[t.length-1];return o.includes("Vue")&&o.includes("_Vue")?(n().debug("Function hook:"+o),t[t.length-1]="with (Vue) {"+o+"}",new Proxy(new e(...["Vue",...t]),{apply(e,t,n){const o=[l,...n];return Reflect.apply(e,t,o)}})):new e(...t)}});var u=s(9);async function p(){const e=document.location.host;let t;switch(e){case"101kanshu.com":{const{c101kanshu:e}=await Promise.resolve().then(s.bind(s,31));t=e();break}case"www.sudugu.com":{const{Sudugu:e}=await Promise.resolve().then(s.bind(s,46));t=e;break}case"www.biquge66.com":case"www.xkzw.org":{const{Xkzw:e}=await Promise.resolve().then(s.bind(s,47));t=e;break}case"book.sfacg.com":{const{Sfacg:e}=await Promise.resolve().then(s.bind(s,48));t=e;break}case"api.langge.cf":{const{Langge:e}=await Promise.resolve().then(s.bind(s,49));t=e;break}case"lcread.com":case"www.lcread.com":{const{Lcread:e}=await Promise.resolve().then(s.bind(s,50));t=e;break}case"www.lightnovel.fun":{const{Lightnovel:e}=await Promise.resolve().then(s.bind(s,51));t=e;break}case"xr.unionread.net":{const{XRUnionread:e}=await Promise.resolve().then(s.bind(s,52));t=e;break}case"www.hetushu.com":case"www.hetubook.com":case"hetushu.com":case"hetubook.com":{const{Hetushu:e}=await Promise.resolve().then(s.bind(s,53));t=e;break}case"book.qidian.com":case"www.qidian.com":{const{Qidian:e}=await Promise.resolve().then(s.bind(s,54));t=e;break}case"www.jjwxc.net":{const{Jjwxc:e}=await Promise.resolve().then(s.bind(s,55));t=e;break}case"www.zongheng.com":case"book.zongheng.com":case"huayu.zongheng.com":{const{Zongheng:e}=await Promise.resolve().then(s.bind(s,62));t=e;break}case"read.zongheng.com":{const{Zongheng:e}=await Promise.resolve().then(s.bind(s,63));t=e;break}case"www.17k.com":{const{C17k:e}=await Promise.resolve().then(s.bind(s,64));t=e;break}case"www.shuhai.com":case"mm.shuhai.com":{const{Shuhai:e}=await Promise.resolve().then(s.bind(s,65));t=e;break}case"gongzicp.com":case"www.gongzicp.com":case"m.gongzicp.com":{const{Gongzicp:e}=await Promise.resolve().then(s.bind(s,66));t=e;break}case"www.linovel.net":{const{Linovel:e}=await Promise.resolve().then(s.bind(s,67));t=e;break}case"www.tadu.com":{const{Tadu:e}=await Promise.resolve().then(s.bind(s,68));t=e;break}case"www.idejian.com":{const{Idejian:e}=await Promise.resolve().then(s.bind(s,69));t=e;break}case"www.qimao.com":{const{Qimao:e}=await Promise.resolve().then(s.bind(s,70));t=e;break}case"sosad.fun":case"www.sosad.fun":case"wenzhan.org":case"www.wenzhan.org":case"sosadfun.com":case"www.sosadfun.com":case"xn--pxtr7m5ny.com":case"www.xn--pxtr7m5ny.com":case"xn--pxtr7m.com":case"www.xn--pxtr7m.com":case"xn--pxtr7m5ny.net":case"www.xn--pxtr7m5ny.net":case"xn--pxtr7m.net":case"www.xn--pxtr7m.net":case"sosadfun.link":case"www.sosadfun.link":{const{Sosadfun:e}=await Promise.resolve().then(s.bind(s,71));t=e;break}case"www.fushuwang.org":{const{Fushuwang:e}=await Promise.resolve().then(s.bind(s,72));t=e;break}case function(){if(/lofter\.com$/.test(e))return e}():{const{Lofter:e}=await Promise.resolve().then(s.bind(s,73));t=e;break}case"www.shubl.com":case"shubl.com":{const{Shubl:e}=await Promise.resolve().then(s.bind(s,78));t=e;break}case"m.haitangtxt.net":{const{haitangtxt:e}=await Promise.resolve().then(s.bind(s,79));t=e();break}case"ebook.longmabook.com":case"www.longmabookcn.com":case"ebook.lmbooks.com":case"www.lmebooks.com":case"www.haitbook.com":case"www.htwhbook.com":case"www.myhtebook.com":case"www.lovehtbooks.com":case"www.myhtebooks.com":case"www.myhtlmebook.com":case"jp.myhtebook.com":case"jp.myhtlmebook.com":case"ebook.urhtbooks.com":case"www.urhtbooks.com":case"www.newhtbook.com":case"www.lvhtebook.com":case"jp.lvhtebook.com":case"www.haitangbook.com":case"www.htlvbooks.com":{const{Longmabook:e}=await Promise.resolve().then(s.bind(s,80));t=e;break}case"www.kanunu8.com":{const{Kanunu8:e}=await Promise.resolve().then(s.bind(s,81));t=e;break}case"www.ciyuanji.com":{const{Ciyuanji:e}=await Promise.resolve().then(s.bind(s,82));t=e;break}case"www.shaoniandream.com":{const{Shaoniandream:e}=await Promise.resolve().then(s.bind(s,83));t=e;break}case"www.pixiv.net":{const{Pixiv:e}=await Promise.resolve().then(s.bind(s,84));t=e;break}case"www.myrics.com":{const{Myrics:e}=await Promise.resolve().then(s.bind(s,85));t=e;break}case"www.hanwujinian.com":{const{Hanwujinian:e}=await Promise.resolve().then(s.bind(s,86));t=e;break}case"www.cool18.com":{const{Cool18:e}=await Promise.resolve().then(s.bind(s,87));t=e;break}case"www.xrzww.com":case"xrzww.com":{const{Xrzww:e}=await Promise.resolve().then(s.bind(s,88));t=e;break}case"www.youdubook.com":case"youdubook.com":{const{Youdubook:e}=await Promise.resolve().then(s.bind(s,89));t=e;break}case"new-read.readmoo.com":{const{Readmoo:e}=await Promise.resolve().then(s.bind(s,90));t=e;break}case"www.iqingguo.com":{const{Iqingguo:e}=await Promise.resolve().then(s.bind(s,91));t=e;break}case"cddaoyue.cn":case"www.cddaoyue.cn":{const{Duread:e}=await Promise.resolve().then(s.bind(s,78));t=e;break}case"www.99csw.com":{const{I99csw:e}=await Promise.resolve().then(s.bind(s,92));t=e;break}case"www.ttkan.co":case"cn.ttkan.co":case"tw.ttkan.co":{const{Ttkan:e}=await Promise.resolve().then(s.bind(s,93));t=e;break}case"www.uukanshu.com":{const{uukanshu:e}=await Promise.resolve().then(s.bind(s,94));t=e();break}case"www.westnovel.com":{const{westnovel:e}=await Promise.resolve().then(s.bind(s,96));t=e();break}case"www.soxscc.net":case"www.soxscc.org":case"www.soxs.cc":case"www.soxscc.cc":case"www.soshuwu.com":{const{soxscc:e}=await Promise.resolve().then(s.bind(s,97));t=e();break}case"www.630shu.net":{const{c630shu:e}=await Promise.resolve().then(s.bind(s,98));t=e;break}case"www.trxs.cc":case"www.trxs.me":case"www.trxs123.com":case"www.jpxs123.com":case"www.tongrenquan.org":case"www.tongrenquan.me":case"trxs.cc":case"trxs.me":case"trxs123.com":case"jpxs123.com":case"tongrenquan.me":case"tongrenquan.org":{const{trxs:e}=await Promise.resolve().then(s.bind(s,99));t=e();break}case"www.256wenku.com":{const{c256wxc:e}=await Promise.resolve().then(s.bind(s,100));t=e;break}case"www.fxshu.top":{const{fuxiaoshu:e}=await Promise.resolve().then(s.bind(s,101));t=e;break}case"www.wanbengo.com":{const{wanben:e}=await Promise.resolve().then(s.bind(s,102));t=e();break}case"masiro.me":{const{masiro:e}=await Promise.resolve().then(s.bind(s,103));t=e();break}case"kakuyomu.jp":{const{kakuyomu:e}=await Promise.resolve().then(s.bind(s,104));t=e();break}case"ncode.syosetu.com":case"novel18.syosetu.com":{const{syosetu:e}=await Promise.resolve().then(s.bind(s,105));t=e();break}case"syosetu.org":{const{syosetuOrg:e}=await Promise.resolve().then(s.bind(s,105));t=e();break}case"zhaoze.vip":case"houhuayuan.vip":{const{houhuayuan:e}=await Promise.resolve().then(s.bind(s,106));t=e();break}case"www.tianyabooks.com":{const{tianyabooks:e}=await Promise.resolve().then(s.bind(s,107));t=e();break}case"www.aixdzs.com":{const{aixdzs:e}=await Promise.resolve().then(s.bind(s,108));t=e();break}case"colorful-fantasybooks.com":{const{fantasybooks:e}=await Promise.resolve().then(s.bind(s,109));t=e();break}case"www.dizishu.cc":case"www.qu-la.com":{const{dizishu:e}=await Promise.resolve().then(s.bind(s,110));t=e();break}case"www.akatsuki-novels.com":{const{akatsuki:e}=await Promise.resolve().then(s.bind(s,111));t=e();break}case"www.alphapolis.co.jp":{const{alphapolis:e}=await Promise.resolve().then(s.bind(s,112));t=e();break}case"hongxiuzhao.net":{const{hongxiuzhao:e}=await Promise.resolve().then(s.bind(s,113));t=e();break}case"www.xbyuan.com":{const{xbyuan:e}=await Promise.resolve().then(s.bind(s,114));t=e();break}case"www.quanzhifashi.com":{const{qzxsw:e}=await Promise.resolve().then(s.bind(s,115));t=e();break}case"www.boqugew.com":{const{boqugew:e}=await Promise.resolve().then(s.bind(s,116));t=e();break}case"www.qbtr.cc":{const{qbtrcc:e}=await Promise.resolve().then(s.bind(s,117));t=e();break}case"b.guidaye.com":{const{guidaye:e}=await Promise.resolve().then(s.bind(s,118));t=await e();break}case"www.xbanxia.la":case"www.xbanxia.cc":{const{banxia:e}=await Promise.resolve().then(s.bind(s,119));t=e();break}case"www.zgzl.net":{const{zgzl:e}=await Promise.resolve().then(s.bind(s,120));t=e();break}case"www.zhenhunxiaoshuo.com":{const{zhenhunxiaoshuo:e}=await Promise.resolve().then(s.bind(s,121));t=e();break}case"www.52shuku.vip":{const e=document.location.pathname;if(!/.*\/.*_\d+.html/.test(e)){const{i52shuku:e}=await Promise.resolve().then(s.bind(s,122));t=e();break}throw new Error("This is a chapter page, not a book page.")}case"m.bixiange.me":{const{bixiange:e}=await Promise.resolve().then(s.bind(s,123));t=e();break}case"www.rmkbr.com":{const{yiqushuzhai:e}=await Promise.resolve().then(s.bind(s,124));t=e();break}case"www.dbxsd.com":{const{dubuxiaoshuo:e}=await Promise.resolve().then(s.bind(s,125));t=e();break}case"wxscs.com":case"www.wxscs.com":case"wxsck.com":case"www.wxsck.com":{const{wanxiangshucheng:e}=await Promise.resolve().then(s.bind(s,126));t=e();break}case"www.biquge345.com":{const{biquge345:e}=await Promise.resolve().then(s.bind(s,127));t=e();break}case"www.beqege.cc":{const{biqugecc:e}=await Promise.resolve().then(s.bind(s,128));t=e();break}case"m.mjyhb.com":{const{mjyhb:e}=await Promise.resolve().then(s.bind(s,129));t=e();break}case"m.fly-dreams.com":{const{flydreams:e}=await Promise.resolve().then(s.bind(s,130));t=e();break}case"www.23dishuge.com":{const{dishuge:e}=await Promise.resolve().then(s.bind(s,131));t=e();break}case"www.69hsw.com":case"www.69hao.com":case"www.69hsz.net":{const{c69shuba:e}=await Promise.resolve().then(s.bind(s,132));t=e();break}case"m.shauthor.com":{const{shauthor:e}=await Promise.resolve().then(s.bind(s,133));t=e();break}case"m.chenkuan.com":{const{chenkuan:e}=await Promise.resolve().then(s.bind(s,134));t=e();break}case"m.baihexs.com":{const{baihexs:e}=await Promise.resolve().then(s.bind(s,135));t=e();break}case"novelup.plus":{const{novelup:e}=await Promise.resolve().then(s.bind(s,137));t=e();break}case"www.piaotia.com":{const{ptwxz:e}=await Promise.resolve().then(s.bind(s,138));t=e();break}case"m.wanbengo.com":{const{wanben:e}=await Promise.resolve().then(s.bind(s,139));t=e();break}case"www.biquge.tw":{const{biqugetw:e}=await Promise.resolve().then(s.bind(s,140));t=e();break}case"m.xszj.org":case"xszj.org":{const{xszj:e}=await Promise.resolve().then(s.bind(s,141));t=e();break}case"www.fdhxs.com":{const{haitangshuwu:e}=await Promise.resolve().then(s.bind(s,142));t=e();break}case"pornhulu.com":case"xn--yhqvcx66l.xnxnxn7.xyz":case"321dh.org":case"www.alicesw.com":{const{alicesw:e}=await Promise.resolve().then(s.bind(s,143));t=e();break}case"www.ruochu.com":{const{ruochu:e}=await Promise.resolve().then(s.bind(s,144));t=e();break}case"www.1pwx.com":{const{xiaoshuodaquan:e}=await Promise.resolve().then(s.bind(s,145));t=e();break}case"www.wenku8.net":{const{wenku8:e}=await Promise.resolve().then(s.bind(s,146));t=e();break}case"www.linovelib.com":{const{linovelib:e}=await Promise.resolve().then(s.bind(s,147));t=e();break}case"www.bilinovel.com":{const{wlinovelib:e}=await Promise.resolve().then(s.bind(s,147));t=e();break}case"www.yibige.cc":{const{yibige:e}=await Promise.resolve().then(s.bind(s,148));t=e();break}case"www.wangshugu.org":{const{washuge:e}=await Promise.resolve().then(s.bind(s,149));t=e();break}case"www.shencou.com":{const{shencou:e}=await Promise.resolve().then(s.bind(s,150));t=e();break}case"jingcaiyuedu6.com":{const{jingcaiyuedu6:e}=await Promise.resolve().then(s.bind(s,151));t=e();break}case"www.uaa.com":{const{uaa:e}=await Promise.resolve().then(s.bind(s,152));t=e();break}case"www.18kanshu.com":{const{c18kanshu:e}=await Promise.resolve().then(s.bind(s,153));t=e();break}case"www.ihuaben.com":{const{ihuaben:e}=await Promise.resolve().then(s.bind(s,154));t=e;break}case"www.kadokado.com.tw":{const{kadokado:e}=await Promise.resolve().then(s.bind(s,155));t=e;break}case"www.po18.tw":{const{po18:e}=await Promise.resolve().then(s.bind(s,156));t=e;break}case"b.faloo.com":{const{faloo:e}=await Promise.resolve().then(s.bind(s,157));t=e;break}case"novelpia.jp":{const{novelpia:e}=await Promise.resolve().then(s.bind(s,158));t=e;break}case"book.qq.com":{const{QQBook:e}=await Promise.resolve().then(s.bind(s,159));t=e;break}case"www.60ksw.com":{const{i60ksw:e}=await Promise.resolve().then(s.bind(s,160));t=e();break}case"www.penana.com":{const{penana:e}=await Promise.resolve().then(s.bind(s,161));t=e();break}case"www.lzdzw.com":{const{lzdzw:e}=await Promise.resolve().then(s.bind(s,162));t=e;break}case"www.doufuyuedu.com":{const{doufuyuedu:e}=await Promise.resolve().then(s.bind(s,163));t=e;break}case"czbooks.net":{const{czbooks:e}=await Promise.resolve().then(s.bind(s,164));t=e();break}case"www.xiaoshuowu.com":{const{xiaoshuowu:e}=await Promise.resolve().then(s.bind(s,165));t=e();break}case"twkan.com":{const{twkan:e}=await Promise.resolve().then(s.bind(s,166));t=e();break}case"www.69shuba.com":case"69shuba.cx":{const{c69shu:e}=await Promise.resolve().then(s.bind(s,167));t=e();break}case"book.xbookcn.net":{const{xbookcn:e}=await Promise.resolve().then(s.bind(s,168));t=e();break}case"www.69yuedu.net":{const{c69yuedu:e}=await Promise.resolve().then(s.bind(s,169));t=e();break}case"www.haiwaishubao.com":{const{haiwaishubao:e}=await Promise.resolve().then(s.bind(s,170));t=e();break}case"www.quanshuzhai.com":{const{quanshuzhai:e}=await Promise.resolve().then(s.bind(s,171));t=e();break}case"www.mbtxt.la":{const{mbtxt:e}=await Promise.resolve().then(s.bind(s,172));t=e();break}case"www.bqu9.cc":case"www.bq06.cc":{const{bqu9:e}=await Promise.resolve().then(s.bind(s,173));t=e();break}case"www.666biquge.com":case"www.xiunews.com":case"www.23xsww.cc":case"www.biququ.com":case"www.ddyveshu.cc":case"www.81book.com":case"www.81zw.com":case"www.fuguoduxs.com":case"www.shubaowa.org":case"www.aixiaxs.net":case"www.banzhuer.org":case"www.007zw.com":{const{common:e}=await Promise.resolve().then(s.bind(s,173));t=e();break}case"www.mht99.com":{const{mht:e}=await Promise.resolve().then(s.bind(s,175));t=e();break}case"www.xsbiquge.la":case"www.xbiquge.tw":{const{xbiquge:e}=await Promise.resolve().then(s.bind(s,173));t=e();break}case"www.luoqiuzw.com":{const{luoqiuzw:e}=await Promise.resolve().then(s.bind(s,173));t=e();break}case"dijiuben.com":{const{dijiubook:e}=await Promise.resolve().then(s.bind(s,173));t=e();break}case"www.biquzw.la":{const{biquwx:e}=await Promise.resolve().then(s.bind(s,173));t=e();break}case"www.i25zw.com":{const{c25zw:e}=await Promise.resolve().then(s.bind(s,173));t=e();break}case"www.tycqzw.com":{const{tycqxs:e}=await Promise.resolve().then(s.bind(s,173));t=e();break}case"www.ranwen.la":{const{ranwen:e}=await Promise.resolve().then(s.bind(s,173));t=e();break}case"www.lvsewx.com":{const{lusetxt:e}=await Promise.resolve().then(s.bind(s,173));t=e();break}case"www.biquge5200.cc":{const{b5200:e}=await Promise.resolve().then(s.bind(s,173));t=e();break}case"www.yqxsge.cc":{const{yqxs:e}=await Promise.resolve().then(s.bind(s,173));t=e();break}case"www.bixia3.com":{const{bxwx333:e}=await Promise.resolve().then(s.bind(s,173));t=e();break}case"www.ibiquge.la":{const{xbiqugeLa:e}=await Promise.resolve().then(s.bind(s,173));t=e();break}case"www.yiruan.la":{const{yruan:e}=await Promise.resolve().then(s.bind(s,173));t=e();break}case"www.ishuquge.org":{const{shuquge:e}=await Promise.resolve().then(s.bind(s,173));t=e();break}case"www.gashuw.com":{const{gebiqu:e}=await Promise.resolve().then(s.bind(s,173));t=e();break}case"www.lewenn.net":{const{lewenn:e}=await Promise.resolve().then(s.bind(s,173));t=e();break}case"www.xyb3.net":{const{xyb3:e}=await Promise.resolve().then(s.bind(s,173));t=e();break}case"www.wanben.info":{const{xinwanben:e}=await Promise.resolve().then(s.bind(s,176));t=e();break}case"www.ywggzy.com":{const{ywggzy:e}=await Promise.resolve().then(s.bind(s,176));t=e();break}case"www.mijiashe.com":{const{mijiashe:e}=await Promise.resolve().then(s.bind(s,176));t=e();break}case"m.kuangguwenhua.com":{const{znlzd:e}=await Promise.resolve().then(s.bind(s,177));t=e();break}case"www.266ks.com":{const{c226ks:e}=await Promise.resolve().then(s.bind(s,177));t=e();break}case"www.42zw.la":{const{la42zw:e}=await Promise.resolve().then(s.bind(s,173));t=e();break}case"www.bilibili.com":{const{Bilibili:e}=await Promise.resolve().then(s.bind(s,178));t=e;break}case"www.esjzone.cc":case"www.esjzone.one":case"esjzone.one":{const{esjzone:e}=await Promise.resolve().then(s.bind(s,179));t=e;break}case"fanqienovel.com":{const{fanqie:e}=await Promise.resolve().then(s.bind(s,180));t=e;break}case"www.mangguoshufang.com":case"mangguoshufang.com":{const{Mangguoshufang:e}=await Promise.resolve().then(s.bind(s,181));t=e;break}case"www.pilibook.net":case"www.mozishuwu.com":{const{Pilishuwu:e}=await Promise.resolve().then(s.bind(s,183));t=e;break}case"www.xiguashuwu.com":{const{Xiguashuwu:e}=await Promise.resolve().then(s.bind(s,184));t=e;break}default:throw new Error("Not Found Rule!")}return new t}const d={type:"download"},m={type:"error"};var h=s(10),g=s(13);async function f(){const e=await p();let t;t=void 0!==window._book?window._book:await e.bookParse(),unsafeWindow.rule=e,unsafeWindow.book=t,window._book=t,unsafeWindow.saveAs=g.saveAs;const{parse:n,fetchAndParse:o,gfetchAndParse:a}=await Promise.resolve().then(s.bind(s,74));unsafeWindow.readability={parse:n,fetchAndParse:o,gfetchAndParse:a},unsafeWindow.stopController=window.stopController}var x=s(5),b=s(14),v=s(15);const w=(0,u._r)(v.A),y=(0,l.defineComponent)({name:"ChapterList",setup(){const e=(0,l.reactive)([]),t=(0,l.ref)(!0),o=(0,l.ref)(!1);(0,l.onMounted)(async()=>{if(0===e.length)try{const n=await async function(){if(window._sections&&window._url===document.location.href)return window._sections;{const e=await p(),t=await e.bookParse();return window._book=t,window._url=document.location.href,unsafeWindow.saveOptions?.chapterSort?window._sections=(0,b.e)(t.chapters,unsafeWindow.saveOptions?.chapterSort):window._sections=(0,b.e)(t.chapters),window._sections}}();Object.assign(e,n),t.value=!1}catch(e){n().error(e),o.value=!0}});const a=(0,l.inject)("filterSetting"),i=e=>{if(e.status===x.nW.aborted)return!1;if(a.value){const t=T(a.value.arg,a.value.functionBody);if("function"==typeof t)return t(e)}return!0},r=e=>!(a.value.hiddenBad&&!i(e));return{sectionsObj:e,loading:t,failed:o,filter:i,warningFilter:e=>e.isVIP&&!0!==e.isPaid,isChapterDisabled:e=>!e?.chapterUrl,isChapterSeen:r,isSectionSeen:e=>e.chpaters.some(e=>r(e))}},template:'<div>\n  <div v-if="loading">\n    <div class="chapter-list-loading">\n      <h2 v-if="failed">加载章节失败！</h2>\n      <h2 v-else>正在载入章节列表中，请耐心等待……</h2>\n    </div>\n  </div>\n  <div v-else class="chapter-list" style="display: block;position: relative;">\n    <div v-for="sectionObj in sectionsObj" v-show="isSectionSeen(sectionObj)" v-bind:key="sectionObj.sectionNumber" class="section">\n      <h3 v-if="sectionObj.sectionName" class="section-label">\n        {{ sectionObj.sectionName }}\n      </h3>\n      <div v-for="chapter in sectionObj.chpaters" v-show="isChapterSeen(chapter)" v-bind:key="chapter.chapterNumber" class="chapter" v-bind:class="{\n              good: this.filter(chapter),\n              bad: !this.filter(chapter),\n              warning: this.warningFilter(chapter)\n            }" v-bind:title="chapter.chapterNumber">\n        <a rel="noopener noreferrer" target="_blank" v-bind:class="{\n                disabled: this.isChapterDisabled(chapter),\n              }" v-bind:href="chapter.chapterUrl">{{ chapter.chapterName }}</a>\n      </div>\n    </div>\n  </div>\n</div>\n'});var k=s(16);const S={null:{raw:()=>()=>!0,description:"<p>不应用任何过滤器（默认）</p>",abbreviation:"无"},number:{raw:e=>{if(/^[\s\d\-,，]+$/.test(e))return t=>{const n=t.chapterNumber;return e.split(/[,，]/).map(e=>e.replace(/\s/g,"").trim()).map(e=>function(e,t){switch(!0){case/^\d+$/.test(e):{const n=e.match(/^(\d+)$/);return 2===n?.length&&parseInt(n[1])===t}case/^\d+-\d+$/.test(e):{const n=e.match(/^(\d+)-(\d+)$/);if(3===n?.length){const e=n.map(e=>Number(e));if(t>=e[1]&&t<=e[2])return!0}return!1}case/^\d+-$/.test(e):{const n=e.match(/^(\d+)-$/);return 2===n?.length&&t>=parseInt(n[1])}case/^-\d+$/.test(e):{const n=e.match(/^-(\d+)$/);return 2===n?.length&&t<=parseInt(n[1])}default:return!1}}(e,n)).some(e=>e)}},description:"<p>基于章节序号过滤，章节序号可通过章节标题悬停查看。</p><p>支持以下格式：13, 1-5, 2-, -89。可通过分号（,）使用多个表达式。</p>",abbreviation:"章节序号"},baseOnString:{raw:e=>t=>t&&t.chapterName?.includes(e)||!1,description:"<p>过滤出所有包含过滤条件字符的章节</p>",abbreviation:"章节标题"}};function T(e,t){const n=new Function("arg",t)(e);return"function"==typeof n?n:void 0}const A=(0,l.defineComponent)({components:{"chapter-list":y},emits:["filterupdate"],setup(e,{emit:t}){const n=(0,l.ref)(""),o=(0,l.ref)(!0),a=(0,l.ref)("null"),i=Object.entries(S),r=(0,l.computed)(()=>`return (${S[a.value].raw.toString()})(arg)`),s=(0,l.computed)(()=>S[a.value].description),c=(0,l.computed)(()=>({arg:n.value,hiddenBad:o.value,filterType:a.value,functionBody:r.value}));(0,l.provide)("filterSetting",c),(0,l.watch)(c,()=>{t("filterupdate",c.value)},{deep:!0});const u=(0,l.inject)("getFilterSetting");return(0,l.onMounted)(()=>{const e=u();e&&(n.value=e.arg,o.value=e.hiddenBad,a.value=e.filterType)}),{arg:n,hiddenBad:o,filterType:a,filterOptionList:i,filterDescription:s}},template:'<div>\n  <div class="filter-setting">\n    <div v-if="filterType !== \'null\'" class="filter-input">\n      <p>请输入过滤的条件：<input v-model="arg" type="text"></p>\n    </div>\n    <div class="filter-setter">\n      <div>\n        <span>当前过滤方法：</span>\n        <select v-model="filterType">\n          <option v-for="filterOption in filterOptionList" v-bind:value="filterOption[0]">\n            {{ filterOption[1]["abbreviation"] }}\n          </option>\n        </select>\n      </div>\n      <input id="hiddenBad" v-model="hiddenBad" type="checkbox">\n      <label for="hiddenBad">只显示符合条件章节</label>\n      <div class="filter-description" v-html="filterDescription"></div>\n      <div v-if="false">\n        <span class="good"></span>\n        <span class="warning"></span>\n        <span class="bad"></span>\n      </div>\n    </div>\n  </div>\n  <chapter-list>\n</div>\n'}),C=(0,u._r)(k.A);var M=s(17);const N=(0,l.defineComponent)({name:"LogUI",setup(e,t){const n=(0,l.ref)("");let o;return(0,l.onMounted)(()=>{n.value=(0,M.gh)(),o=globalThis.requestAnimationFrame(function e(){n.value=(0,M.gh)(),o=globalThis.requestAnimationFrame(e)})}),(0,l.onUnmounted)(()=>{o&&globalThis.cancelAnimationFrame(o)}),{logText:n}},template:'\n    <div class="log">\n    <pre v-html="logText" id="novel-downloader-log"></pre>\n    </div>'});var E=s(18),P=s(19),q=s(27);const L=(0,l.defineComponent)({name:"TestUI",setup(){const e=(0,l.reactive)({}),t=(0,l.ref)(!1),n=(0,l.reactive)({}),o=(0,l.reactive)({}),a=(0,l.ref)(-99);function i(e){const t=(0,P._s)(e);if(t?.Blob){const e=t.Blob;return URL.createObjectURL(e)}return""}return(0,l.onMounted)(async()=>{const t=await async function(){for(;;)if(await(0,c.yy)(500),window._book)return window._book}();Object.assign(e,t);const o=t?.additionalMetadate?.cover?.url??"",r={封面:[o?i(o):"",o],题名:t?.bookname??"None",作者:t?.author??"None",网址:t?.bookUrl,简介:t?.introductionHTML??""};Object.assign(n,r);const s=function(){if(e){const t=e.chapters.filter(e=>e.status!==x.nW.aborted&&(!e.isVIP||!0===e.isPaid)).map(e=>e.chapterNumber);return t.sort(),t.slice(-3)[0]}}();s&&(a.value=s)}),{metaData:n,getData:function(e,t){return"封面"===e?`<img src="${t[0]}" alt="${t[1]}">`:"简介"===e&&t instanceof HTMLElement?t.outerHTML:"网址"===e&&"string"==typeof t?`<a href="${t}">${t}</a>`:t},chapter:o,isSeenChapter:function(e){return e.status===x.nW.finished},isChapterFailed:function(e){return e.status===x.nW.failed||e.status===x.nW.aborted},getChapterHtml:function(e){const t=e.contentHTML?.cloneNode(!0),n=t?.querySelectorAll("img, audio");return n&&Array.from(n).forEach(e=>{const t=e.title||e.alt;e.src=i(t)}),t?.outerHTML},chapterNumber:a,previewChapter:async function(){t.value=!0;try{let t=a.value;"string"==typeof t&&(t=parseInt(t,10)),isNaN(t)||-99===t||await async function(t){const n=e.chapters.filter(e=>e.chapterNumber===t)[0];n&&(n.status===x.nW.pending?(await n.init(),Object.assign(o,n)):Object.assign(o,n))}(t)}finally{t.value=!1}},isLoading:t}},template:'<div>\n  <div id="test-page-div">\n    <h2>元数据</h2>\n    <table>\n      <tbody>\n        <tr v-for="(value, key) in metaData">\n          <td>{{ key }}</td>\n          <td v-html="getData(key, value)"></td>\n        </tr>\n      </tbody>\n    </table>\n    <hr class="hr-edge-weak">\n    <h2>章节测试</h2>\n    <div class="preview-chapter-setting">\n      <label for="chapterNumber">预览章节序号：</label>\n      <input id="chapterNumber" v-model="chapterNumber" type="text">\n      <button @click="previewChapter" type="button" :disabled="isLoading">预览</button>\n    </div>\n    <div v-if="isLoading" class="loading-spinner">\n      <div class="spinner"></div>\n      <p>正在加载章节中...</p>\n    </div>\n    <div v-else-if="this.isSeenChapter(chapter)">\n      <h4>\n        <a rel="noopener noreferrer" target="_blank" v-bind:href="chapter.chapterUrl">{{ chapter.chapterName }}</a>\n      </h4>\n      <div class="chapter" v-html="getChapterHtml(chapter)"></div>\n    </div>\n    <div v-else>\n      <p v-if="this.isChapterFailed(chapter)">章节加载失败！</p>\n      <p v-else>请输入章节序号并点击预览</p>\n    </div>\n  </div>\n</div>\n'}),_=(0,u._r)(q.A),I=(0,u._r)(E.A),j=(0,u.a_)('<div id="setting"></div>'),U=(0,l.createApp)({name:"nd-setting",components:{"filter-tab":A,"log-ui":N,"test-ui":L},setup(){const e=(0,l.reactive)({});let t={};const o=[{key:"null",value:"不使用自定义保存参数",options:{}},{key:"chapter_name",value:"将章节名称格式修改为 第xx章 xxxx",options:{getchapterName:e=>e.chapterName?`第${e.chapterNumber.toString()}章 ${e.chapterName}`:`第${e.chapterNumber.toString()}章`}},{key:"txt_space",value:"txt文档每个自然段前加两个空格",options:{genChapterText:(e,t)=>`## ${e}\n\n${t=t.split("\n").map(e=>""===e.trim()?e:e.replace(/^/,"    ")).join("\n")}\n\n`}},{key:"epub_space",value:"epub文档删除章节空行",options:{genChapterEpub:e=>e.replaceAll("<p><br /></p>","").replaceAll("<p><br/></p>","").replaceAll(/(<br\s*\/?>\s*)+/g,"<br />")}},{key:"reverse_chapters",value:"保存章节时倒序排列",options:{chapterSort:(e,t)=>e.chapterNumber>t.chapterNumber?-1:e.chapterNumber===t.chapterNumber?0:e.chapterNumber<t.chapterNumber?1:0}}];e.enableDebug=GM_getValue("enableDebug",i.Nw.value),i.Nw.value=e.enableDebug??i.Nw.value,i.Nw.value?n().setLevel("trace"):n().setLevel("info"),i.Nw.value&&f(),e.TxtDownload=GM_getValue("TxtDownload",i.Jv.value),i.Jv.value=e.TxtDownload??i.Jv.value,e.EpubDownload=GM_getValue("EpubDownload",i.Zz.value),i.Zz.value=e.EpubDownload??i.Zz.value,e.customDownload=GM_getValue("customDownload",!1),i.WZ.value=e.customDownload??i.WZ.value,e.concurrencyLimit=GM_getValue("concurrencyLimit",i.ri.value),i.ri.value=e.concurrencyLimit??i.ri.value,e.sleepTime=GM_getValue("sleepTime",i.Xl.value),i.Xl.value=e.sleepTime??i.Xl.value,e.maxSleepTime=GM_getValue("maxSleepTime",i.Fe.value),i.Fe.value=e.maxSleepTime??i.Fe.value,e.enableTestPage=GM_getValue("enableTestPage",!1),e.chooseSaveOption=GM_getValue("chooseSaveOption","null"),e.filterSetting=GM_getValue("filterSetting",void 0),e.currentTab=GM_getValue("currentTab","tab-1");let a=!1;const r=()=>{const t=o.find(t=>t.key===e.chooseSaveOption);return t?(a=!0,t.options):o[0].options};a&&(unsafeWindow.saveOptions=r()),(0,l.provide)("getFilterSetting",()=>e.filterSetting?e.filterSetting:void 0);const s=(0,l.ref)("false"),u=n=>{!0===n?t=(0,c.OJ)(e):Object.assign(e,t),s.value="false"};return{openStatus:s,openSetting:()=>{t=(0,c.OJ)(e),s.value="true"},closeSetting:u,closeAndSaveSetting:async()=>{var t;u(!0),await(0,c.yy)(30),"boolean"==typeof(t=(0,c.OJ)(e)).enableDebug&&(t.enableDebug?n().setLevel("trace"):n().setLevel("info"),i.Nw.value=t.enableDebug,t.enableDebug&&f(),n().info(`[Init]enableDebug: ${i.Nw.value}`)),"boolean"==typeof t.TxtDownload&&(i.Jv.value=t.TxtDownload,n().info(`[Init]TxtDownload: ${i.Jv.value}`)),"boolean"==typeof t.EpubDownload&&(i.Zz.value=t.EpubDownload,n().info(`[Init]EpubDownload: ${i.Zz.value}`)),"boolean"==typeof t.customDownload&&(i.WZ.value=t.customDownload,n().info(`[Init]customDownload: ${i.WZ.value}`)),"number"==typeof t.concurrencyLimit&&(i.ri.value=t.concurrencyLimit,n().info(`[Init]concurrencyLimit: ${i.ri.value}`)),"number"==typeof t.sleepTime&&(i.Xl.value=t.sleepTime,n().info(`[Init]sleepTime: ${i.Xl.value}`)),"number"==typeof t.maxSleepTime&&(i.Fe.value=t.maxSleepTime,n().info(`[Init]maxSleepTime: ${i.Fe.value}`)),unsafeWindow.saveOptions=r(),function(){if(t.filterSetting)if("null"===t.filterSetting.filterType)unsafeWindow.chapterFilter=void 0;else{const e=T(t.filterSetting.arg,t.filterSetting.functionBody);e&&(unsafeWindow.chapterFilter=t=>t.status!==x.nW.aborted&&e(t))}}(),GM_setValue("enableDebug",t.enableDebug),GM_setValue("TxtDownload",t.TxtDownload),GM_setValue("EpubDownload",t.EpubDownload),GM_setValue("customDownload",t.customDownload),GM_setValue("concurrencyLimit",t.concurrencyLimit),GM_setValue("sleepTime",t.sleepTime),GM_setValue("maxSleepTime",t.maxSleepTime),GM_setValue("enableTestPage",t.enableTestPage),GM_setValue("chooseSaveOption",t.chooseSaveOption),GM_setValue("filterSetting",t.filterSetting),GM_setValue("currentTab",t.currentTab),n().info("[Init]自定义设置："+JSON.stringify(e))},saveFilter:t=>{e.filterSetting=(0,c.OJ)(t),GM_setValue("filterSetting",e.filterSetting)},setting:e,saveOptions:o}},template:'<div>\n  <dialog-ui v-if="openStatus === \'true\'" dialog-title="设置" v-bind:status="openStatus" v-on:dialogclose="closeSetting">\n    <div id="nd-setting" class="nd-setting">\n      <div class="nd-setting-tab">\n        <button v-bind:class="[\'tab-button\', { active: setting.currentTab === \'tab-1\'}]" v-on:click="setting.currentTab = \'tab-1\'">\n          基本设置\n        </button>\n        <button v-bind:class="[\'tab-button\', { active: setting.currentTab === \'tab-2\'}]" v-on:click="setting.currentTab = \'tab-2\'">\n          自定义筛选条件\n        </button>\n        <button v-if="setting.enableTestPage" v-bind:class="[\'tab-button\', { active: setting.currentTab === \'tab-3\'}]" v-on:click="setting.currentTab = \'tab-3\'">\n          抓取测试\n        </button>\n        <button v-if="setting.enableTestPage" v-bind:class="[\'tab-button\', { active: setting.currentTab === \'tab-4\'}]" v-on:click="setting.currentTab = \'tab-4\'">\n          日志\n        </button>\n      </div>\n      <div class="nd-setting-body">\n        <div v-show="setting.currentTab === \'tab-1\'" id="nd-setting-tab-1" class="tab-page">\n          <div>\n            <input id="debug" v-model="setting.enableDebug" type="checkbox">\n            <label for="debug">启用调试模式。（输出更详细日志）</label>\n            <input id="txtDownload" v-model="setting.TxtDownload" type="checkbox">\n            <label for="txtDownload">下载Txt文件</label>\n            <input id="EpubDownload" v-model="setting.EpubDownload" type="checkbox">\n            <label for="EpubDownload">下载Epub文件</label>\n            <input id="test-page" v-model="setting.enableTestPage" type="checkbox">\n            <label for="test-page">启用测试视图</label>\n          </div>\n          <hr class="hr-twill-colorful">\n          <div>\n            <h3>自定义下载参数</h3>\n            <table style="border:0px">\n              <tr>\n                <th>\n                <input id="customDownload" v-model="setting.customDownload" type="checkbox">\n                <label for="customDownload">启用自定义下载设置</label></th>\n                <th>\n                <input id="downloadConcurrency" v-model="setting.concurrencyLimit" type="number">\n                <label for="downloadConcurrency">并行下载线程数</label></th>\n              </tr><th>\n                <input id="downloadSleeptime" v-model="setting.sleepTime" type="number">\n                <label for="downloadSleeptime">下载间隔</label>\n                </th><th>\n                <input id="downloadMaxsleeptime" v-model="setting.maxSleepTime" type="number">\n                <label for="downloadMaxsleeptime">最大下载间隔</label>\n                </th>\n              </table>\n          </div>\n          <hr class="hr-twill-colorful">\n          <div>\n            <h3>自定义保存参数</h3>\n            <ul>\n              <li v-for="item of saveOptions">\n                <input v-bind:id="item.key" v-model="setting.chooseSaveOption" type="radio" v-bind:value="item.key">\n                <label v-bind:for="item.key">{{ item.value }}</label>\n              </li>\n            </ul>\n          </div>\n        </div>\n        <div v-show="setting.currentTab === \'tab-2\'" id="nd-setting-tab-2" class="tab-page">\n          <filter-tab v-on:filterupdate="saveFilter">\n        </div>\n        <div v-if="setting.enableTestPage" v-show="setting.currentTab === \'tab-3\'" id="nd-setting-tab-3" class="tab-page">\n          <test-ui></test-ui>\n        </div>\n        <div v-if="setting.enableTestPage" v-show="setting.currentTab === \'tab-4\'" id="nd-setting-tab-4" class="tab-page">\n          <log-ui></log-ui>\n        </div>\n      </div>\n      <div class="nd-setting-footer">\n        <button v-on:click="closeAndSaveSetting">Save</button>\n        <button v-on:click="closeSetting">Cancel</button>\n      </div>\n    </div>\n  </dialog-ui>\n</div>\n'}).mount(j),z=(0,u._r)(h.A,"button-div-style"),D=(0,u.a_)('<div id="nd-button"></div>'),O=(0,l.createApp)({data:()=>({imgStart:i.Og,imgSetting:i.w1,imgJump:i.GM,isSettingSeen:"Greasemonkey"!==e.JX.scriptHandler,uiObj:{type:"download"}}),methods:{startButtonClick(){if(window.downloading)return void alert("正在下载中，请耐心等待……");const e=this;e.imgStart=i.HE,async function(){const e=await p();await e.run()}().then(()=>{e.imgStart=i.Og}).catch(e=>n().error(e))},settingButtonClick(){U.openSetting()},jumpButtonClick(){this.uiObj.jumpFunction()}},mounted(){Object.assign(this.uiObj,function(){switch(document.location.host){case"wap.ishuquge.org":return()=>{const e=/(\d+)\.html$/.exec(document.location.pathname)?.[1];return e?{type:"jump",jumpFunction(){document.location.href=`https://www.ishuquge.org/txt/${e}/index.html`}}:m};case"m.wanben.info":return()=>({type:"jump",jumpFunction(){document.location.host="www.wanben.info"}});case"www.tadu.com":return()=>/^\/book\/\d+\/?$/.test(document.location.pathname)?d:m;case"www.kanunu8.com":return()=>document.body.innerHTML.includes("作者：")||document.body.innerHTML.includes("作者:")||document.body.innerHTML.includes("内容简介")?d:m;case"www.ddyucshu.cc":return()=>({type:"jump",jumpFunction:()=>{document.location.href=document.location.href.replace("ddyucshu.cc","ddyveshu.cc")}});case"www.ciyuanji.com":return()=>document.location.pathname.startsWith("/bookDetails/info")?{type:"jump",jumpFunction:()=>document.location.pathname=document.location.pathname.replace("/bookDetails/info","/bookDetails/catalog")}:d;case"m.jjwxc.com":case"m.jjwxc.net":return()=>({type:"jump",jumpFunction:()=>{document.location.href=document.location.href.replace(/https:\/\/m\.jjwxc\.(com|net)\/book2\/(\d+)/,"https://www.jjwxc.net/onebook.php?novelid=$2")}});case"ebook.longmabook.com":case"www.longmabookcn.com":case"ebook.lmbooks.com":case"www.lmebooks.com":case"www.haitbook.com":case"www.htwhbook.com":case"www.myhtebook.com":case"www.lovehtbooks.com":case"www.myhtebooks.com":case"www.myhtlmebook.com":case"jp.myhtebook.com":case"jp.myhtlmebook.com":case"ebook.urhtbooks.com":case"www.urhtbooks.com":case"www.newhtbook.com":case"www.lvhtebook.com":case"jp.lvhtebook.com":case"www.haitangbook.com":case"www.htlvbooks.com":return()=>{const e=new URLSearchParams(document.location.search);return"showinfo"===e.get("act")&&e.has("bookwritercode")&&e.has("bookid")?d:m};case"m.sfacg.com":return()=>{const e=/(\d+)\/?$/.exec(document.location.pathname)?.[1];return e?{type:"jump",jumpFunction:()=>document.location.href=`https://book.sfacg.com/Novel/${e}/MainIndex/`}:m};case"book.sfacg.com":return()=>{if(/^\/Novel\/\d+\/?$/.test(document.location.pathname)){const e=/(\d+)\/?$/.exec(document.location.pathname)?.[1];return e?{type:"jump",jumpFunction:()=>document.location.href=`https://book.sfacg.com/Novel/${e}/MainIndex/`}:m}return d};case"m.lvsewx.com":return()=>({type:"jump",jumpFunction:()=>document.location.host="www.lvsewx.com"});case"www.cool18.com":return()=>{const e=new URL(document.location.href);return"threadview"===e.searchParams.get("act")&&e.searchParams.has("tid")?d:m};case"www.fxshu.top":{const e=document.createElement("style");return e.innerHTML="\n          img {\n            font-size: 1em;\n          }\n        ",document.head.appendChild(e),()=>d}case"read.zongheng.com":case"www.zongheng.com":case"book.zongheng.com":case"huayu.zongheng.com":{const e=document.createElement("style");return e.innerHTML="\n          img {\n            font-size: 1em;\n          }\n        ",document.head.appendChild(e),()=>document.location.pathname.startsWith("/book/")?{type:"jump",jumpFunction:()=>document.location.pathname=document.location.pathname.replace(/^\/book\//,"/showchapter/")}:d}case"www.17k.com":return()=>document.location.pathname.startsWith("/book/")?{type:"jump",jumpFunction:()=>document.location.pathname=document.location.pathname.replace(/^\/book\//,"/list/")}:d;case"www.linovelib.com":return()=>document.location.pathname.endsWith(".html")?{type:"jump",jumpFunction:()=>document.location.pathname=document.location.pathname.replace(/\.html$/,"/catalog")}:d;case"www.bilinovel.com":return()=>document.location.pathname.endsWith("/catalog")?{type:"jump",jumpFunction:()=>document.location.pathname=document.location.pathname.replace(/\/catalog$/,".html")}:d;case"masiro.me":return()=>document.querySelector(".error-box")?m:d;case"www.ywggzy.com":case"www.yiruan.la":case"www.ishuquge.org":case"www.gashuw.com":case"www.81book.com":case"www.81zw.com":case"www.fuguoduxs.com":case"www.shubaowa.org":case"www.aixiaxs.net":case"www.banzhuer.org":case"www.007zw.com":case"www.wanben.info":case"www.mht99.com":case"www.xbiquge.tw":case"www.xsbiquge.la":case"www.luoqiuzw.com":case"dijiuben.com":case"www.biquzw.la":case"www.i25zw.com":case"www.tycqzw.com":case"www.ranwen.la":case"www.biquge5200.cc":case"www.yqxsge.cc":case"www.bixia3.com":case"www.quanshuzhai.com":case"www.ibiquge.la":return()=>(function(){if(window!==window.top)return;let e,t=0;const n=()=>{const o=document.querySelector("#button-div");o&&(a(o).forEach(e=>e.remove()),e=Date.now());const i=document.querySelector("#nd-progress");i&&(a(i).forEach(e=>e.remove()),e=Date.now());const r=document.querySelector("#nd-setting");r&&(a(r).forEach(e=>e.remove()),e=Date.now()),Date.now()-e<3e4&&(t=Math.min(t+50,1e3),setTimeout(n,t))},o=a=>{a&&document.removeEventListener(a.type,o),e=Date.now(),setTimeout(n,t)};function a(e){return Array.from(document.querySelectorAll("body *")).filter(t=>{const{position:n,visibility:o,zIndex:a}=window.getComputedStyle(t);return t!==e&&!(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINS||t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)&&!["button-div","nd-progress","nd-setting"].includes(t.id)&&"visible"===o&&("fixed"===n||parseInt(a,10)>=1e3)&&(function(e,t){return!!function(e,t){const[n,o]=e[0],[a,i]=e[3],[r,s]=t[0],[c,l]=t[3];return!(a<r||c<n||i<s||l<o)}(n(e),n(t))||function(e,t){const n=document.documentElement,o=Math.min(n.clientWidth,window.innerWidth),a=Math.min(n.clientHeight,window.innerHeight),i=Math.sqrt(o**2+a**2);for(const[n,o]of e)for(const[e,a]of t)if(Math.sqrt((n-e)**2+(o-a)**2)<.1*i)return!0;return!1}(n(e),n(t));function n(e){const{left:t,top:n,right:o,bottom:a}=e.getBoundingClientRect();return[[t,n],[o,n],[t,a],[o,a]]}}(t,e)||parseInt(a,10)>10**9)})}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",o):o()}(),d);case"new-read.readmoo.com":return()=>({type:"download",isSettingSeen:!1});case"www.myrics.com":return()=>document.location.pathname.endsWith("/menu")?{type:"jump",jumpFunction:()=>{document.location.pathname=document.location.pathname.replace(/\/menu$/,"")}}:d;case"www.piaotia.com":return()=>document.location.pathname.startsWith("/list/")?{type:"jump",jumpFunction:()=>{const e=document.location.pathname.match(/\/list\/(\w+)\//)?.[1];if(!e)return m;document.location.pathname=`/${e}/`}}:d;case"www.soxscc.net":case"www.soxscc.org":case"www.soxs.cc":case"www.soxscc.cc":case"www.soshuwu.com":return()=>document.location.pathname.startsWith("/book/")?{type:"jump",jumpFunction:()=>{document.location.pathname=document.location.pathname.replace(/^\/book/,"").replace(/\.html/,"/")}}:d;case"www.wenku8.net":return()=>document.location.pathname.startsWith("/book/")?{type:"jump",jumpFunction:()=>{const e=document.querySelector("#content > div:nth-child(1) > div:nth-child(6) > div:nth-child(1) > span:nth-child(1) > fieldset:nth-child(1) > div:nth-child(2) > a:nth-child(1)")?.href;if(!e)return m;document.location.href=e}}:d;case"hongxiuzhao.net":return()=>document.querySelector(".cover")?d:m;case"www.quanzhifashi.com":case"www.42zw.la":case"www.boqugew.com":case"www.qbtr.cc":case"b.guidaye.com":case"www.qimao.com":return()=>(document.querySelector("li.qm-tab-list-item:nth-child(2) > div")?.dispatchEvent(new MouseEvent("click")),d);default:return()=>d}}()()),void 0!==this.uiObj.isSettingSeen&&(this.isSettingSeen=this.uiObj.isSettingSeen)},template:'<div id="button-div" class="button-div">\n  <div v-if="uiObj.type !== \'error\'">\n    <div v-if="uiObj.type === \'jump\'" class="jump">\n      <button class="jump">\n        <img alt="jump" class="jump" v-bind:src="imgJump" v-on:click="jumpButtonClick">\n      </button>\n    </div>\n    <div v-if="uiObj.type === \'download\'" class="download">\n      <button class="start">\n        <img alt="start" class="start" v-bind:src="imgStart" v-on:click="startButtonClick">\n      </button>\n      <button v-if="isSettingSeen" class="setting">\n        <img alt="setting" class="setting" v-bind:src="imgSetting" v-on:click="settingButtonClick">\n      </button>\n    </div>\n  </div>\n</div>\n'});var H=s(28);const R=(0,l.defineCustomElement)({name:"Dialog",props:{dialogTitle:String,status:String},emits:["dialogclose"],data(){return{myPrivateStatus:"true"===this.status}},methods:{dialogClose(){this.myPrivateStatus=!1,this.$emit("dialogclose")}},mounted(){this.myPrivateStatus="true"===this.status},watch:{status(){this.myPrivateStatus="true"===this.status}},template:'<div v-if="myPrivateStatus" class="overlay" v-bind:class="{ open: myPrivateStatus }"></div>\n<div v-if="myPrivateStatus" class="out">\n  <div id="dialog" class="dialog" v-bind:class="{ open: myPrivateStatus }">\n    <div class="titlebar">\n      <h1 class="dialog-title">{{ dialogTitle }}</h1>\n      <button class="dialog-close" v-on:click="dialogClose">❌</button>\n    </div>\n    <div class="body">\n      <slot></slot>\n    </div>\n  </div>\n</div>\n',styles:[H.A]});var V=s(29);async function B(t){t&&document.removeEventListener(t.type,B),function(){window.workerId=(0,c.N4)(),window.downloading=!1,window.localStorageExpired=new a;const e=new AbortController,t=e.signal;window.stopController=e,window.stopFlag=t,window.failedCount=0}(),await async function(){n().info("[Init]开始载入小说下载器……"),Object.entries(await(async()=>(await async function(){if("Tampermonkey"===e.JX.scriptHandler&&e.JX.version?.startsWith("4.14")){const e=new Blob(["test"]);if(void 0===await e.arrayBuffer())throw alert("检测到您当前使用的脚本管理器为 Tampermonkey 4.14。\nTampermonkey 4.14 因存在 Bug 将导致小说下载器脚本无法正常运行，详情可参见：https://github.com/Tampermonkey/tampermonkey/issues/1418 。\n如您想继续使用小说下载器脚本，请您更换 Tampermonkey 版本，或使用 Violentmonkey 脚本管理器。\n如果您不欲更改版本或更换脚本管理器，同时不想再看到本提示，您可以暂时禁用小说下载器脚本。"),new Error("Tampermonkey 4.14 Bug Detect")}}(),{当前时间:(new Date).toISOString(),当前页URL:document.location.href,workerId:window.workerId,当前页Referrer:document.referrer,浏览器UA:navigator.userAgent,浏览器语言:navigator.languages,设备运行平台:navigator.platform,设备内存:navigator.deviceMemory??"",CPU核心数:navigator.hardwareConcurrency,eval:r("eval"),fetch:r("fetch"),XMLHttpRequest:r("XMLHttpRequest"),streamSupport:"undefined"!=typeof ReadableStream&&"undefined"!=typeof WritableStream&&"undefined"!=typeof TransformStream,window:Object.keys(window).length,localStorage:o("localStorage"),sessionStorage:o("sessionStorage"),Cookie:navigator.cookieEnabled,doNotTrack:navigator.doNotTrack??0,enableDebug:i.Nw.value,TxtDownload:i.Jv.value,EpubDownload:i.Zz.value,customDownload:i.WZ.value,concurrencyLimit:i.ri.value,sleepTime:i.Xl.value,maxSleepTime:i.Fe.value,ScriptHandler:e.JX.scriptHandler,"ScriptHandler version":e.JX.version,"Novel-downloader version":e.JX.script.version}))()).forEach(e=>n().info("[Init]"+e.join("：")))}(),customElements.define("dialog-ui",R),O.mount(D),document.body.appendChild(D),document.body.appendChild(V.el),document.body.appendChild(j),document.head.appendChild(z),document.head.appendChild(V.i),document.head.appendChild(I),document.head.appendChild(C),document.head.appendChild(w),document.head.appendChild(_)}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",B):B()})()})();